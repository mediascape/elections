function foo(){var e=1,t="bar";return alert(t+e),null}function _a1(e,t){this.count=e,this._fc=t,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("_dm",function(){return this._fc})}function _a2(e,t,n){this._bm=e,n?this._do=new Array(t,n):this._do=new Array(t),this.__defineGetter__("_bo",function(){return this._bm}),this.__defineGetter__("_dn",function(){return this._bm*this._fo}),this.__defineGetter__("_fo",function(){for(var e=0,t=0;t<this._do.length;t++)e+=this._do[t].length;return e}),this._fb=function(){return this._do}}function _a3(e,t,n,a,o,i){this._bs=e,this._ar=t,this._do=new Array(n,a,o,i);for(var r=0,s=n._bo,l=n._fb(),c=0;c<l.length;c++){var u=l[c];r+=u.Count*(u._dm+s)}this._br=r,this.__defineGetter__("_fd",function(){return this._bs}),this.__defineGetter__("_as",function(){return this._ar}),this.__defineGetter__("_dp",function(){return this._br}),this.__defineGetter__("_cr",function(){return 17+4*this._bs}),this._aq=function(){var e=this._cr,t=new _ac(e);t._bq(0,0,9,9),t._bq(e-8,0,8,9),t._bq(0,e-8,9,8);for(var n=this._ar.length,a=0;a<n;a++)for(var o=this._ar[a]-2,i=0;i<n;i++)0==a&&(0==i||i==n-1)||a==n-1&&0==i||t._bq(this._ar[i]-2,o,5,5);return t._bq(6,9,1,e-17),t._bq(9,6,e-17,1),this._bs>6&&(t._bq(e-11,0,3,6),t._bq(0,e-11,6,3)),t},this._bu=function(e){return this._do[e.ordinal()]}}function _ay(){return new Array(new _a3(1,new Array,new _a2(7,new _a1(1,19)),new _a2(10,new _a1(1,16)),new _a2(13,new _a1(1,13)),new _a2(17,new _a1(1,9))),new _a3(2,new Array(6,18),new _a2(10,new _a1(1,34)),new _a2(16,new _a1(1,28)),new _a2(22,new _a1(1,22)),new _a2(28,new _a1(1,16))),new _a3(3,new Array(6,22),new _a2(15,new _a1(1,55)),new _a2(26,new _a1(1,44)),new _a2(18,new _a1(2,17)),new _a2(22,new _a1(2,13))),new _a3(4,new Array(6,26),new _a2(20,new _a1(1,80)),new _a2(18,new _a1(2,32)),new _a2(26,new _a1(2,24)),new _a2(16,new _a1(4,9))),new _a3(5,new Array(6,30),new _a2(26,new _a1(1,108)),new _a2(24,new _a1(2,43)),new _a2(18,new _a1(2,15),new _a1(2,16)),new _a2(22,new _a1(2,11),new _a1(2,12))),new _a3(6,new Array(6,34),new _a2(18,new _a1(2,68)),new _a2(16,new _a1(4,27)),new _a2(24,new _a1(4,19)),new _a2(28,new _a1(4,15))),new _a3(7,new Array(6,22,38),new _a2(20,new _a1(2,78)),new _a2(18,new _a1(4,31)),new _a2(18,new _a1(2,14),new _a1(4,15)),new _a2(26,new _a1(4,13),new _a1(1,14))),new _a3(8,new Array(6,24,42),new _a2(24,new _a1(2,97)),new _a2(22,new _a1(2,38),new _a1(2,39)),new _a2(22,new _a1(4,18),new _a1(2,19)),new _a2(26,new _a1(4,14),new _a1(2,15))),new _a3(9,new Array(6,26,46),new _a2(30,new _a1(2,116)),new _a2(22,new _a1(3,36),new _a1(2,37)),new _a2(20,new _a1(4,16),new _a1(4,17)),new _a2(24,new _a1(4,12),new _a1(4,13))),new _a3(10,new Array(6,28,50),new _a2(18,new _a1(2,68),new _a1(2,69)),new _a2(26,new _a1(4,43),new _a1(1,44)),new _a2(24,new _a1(6,19),new _a1(2,20)),new _a2(28,new _a1(6,15),new _a1(2,16))),new _a3(11,new Array(6,30,54),new _a2(20,new _a1(4,81)),new _a2(30,new _a1(1,50),new _a1(4,51)),new _a2(28,new _a1(4,22),new _a1(4,23)),new _a2(24,new _a1(3,12),new _a1(8,13))),new _a3(12,new Array(6,32,58),new _a2(24,new _a1(2,92),new _a1(2,93)),new _a2(22,new _a1(6,36),new _a1(2,37)),new _a2(26,new _a1(4,20),new _a1(6,21)),new _a2(28,new _a1(7,14),new _a1(4,15))),new _a3(13,new Array(6,34,62),new _a2(26,new _a1(4,107)),new _a2(22,new _a1(8,37),new _a1(1,38)),new _a2(24,new _a1(8,20),new _a1(4,21)),new _a2(22,new _a1(12,11),new _a1(4,12))),new _a3(14,new Array(6,26,46,66),new _a2(30,new _a1(3,115),new _a1(1,116)),new _a2(24,new _a1(4,40),new _a1(5,41)),new _a2(20,new _a1(11,16),new _a1(5,17)),new _a2(24,new _a1(11,12),new _a1(5,13))),new _a3(15,new Array(6,26,48,70),new _a2(22,new _a1(5,87),new _a1(1,88)),new _a2(24,new _a1(5,41),new _a1(5,42)),new _a2(30,new _a1(5,24),new _a1(7,25)),new _a2(24,new _a1(11,12),new _a1(7,13))),new _a3(16,new Array(6,26,50,74),new _a2(24,new _a1(5,98),new _a1(1,99)),new _a2(28,new _a1(7,45),new _a1(3,46)),new _a2(24,new _a1(15,19),new _a1(2,20)),new _a2(30,new _a1(3,15),new _a1(13,16))),new _a3(17,new Array(6,30,54,78),new _a2(28,new _a1(1,107),new _a1(5,108)),new _a2(28,new _a1(10,46),new _a1(1,47)),new _a2(28,new _a1(1,22),new _a1(15,23)),new _a2(28,new _a1(2,14),new _a1(17,15))),new _a3(18,new Array(6,30,56,82),new _a2(30,new _a1(5,120),new _a1(1,121)),new _a2(26,new _a1(9,43),new _a1(4,44)),new _a2(28,new _a1(17,22),new _a1(1,23)),new _a2(28,new _a1(2,14),new _a1(19,15))),new _a3(19,new Array(6,30,58,86),new _a2(28,new _a1(3,113),new _a1(4,114)),new _a2(26,new _a1(3,44),new _a1(11,45)),new _a2(26,new _a1(17,21),new _a1(4,22)),new _a2(26,new _a1(9,13),new _a1(16,14))),new _a3(20,new Array(6,34,62,90),new _a2(28,new _a1(3,107),new _a1(5,108)),new _a2(26,new _a1(3,41),new _a1(13,42)),new _a2(30,new _a1(15,24),new _a1(5,25)),new _a2(28,new _a1(15,15),new _a1(10,16))),new _a3(21,new Array(6,28,50,72,94),new _a2(28,new _a1(4,116),new _a1(4,117)),new _a2(26,new _a1(17,42)),new _a2(28,new _a1(17,22),new _a1(6,23)),new _a2(30,new _a1(19,16),new _a1(6,17))),new _a3(22,new Array(6,26,50,74,98),new _a2(28,new _a1(2,111),new _a1(7,112)),new _a2(28,new _a1(17,46)),new _a2(30,new _a1(7,24),new _a1(16,25)),new _a2(24,new _a1(34,13))),new _a3(23,new Array(6,30,54,74,102),new _a2(30,new _a1(4,121),new _a1(5,122)),new _a2(28,new _a1(4,47),new _a1(14,48)),new _a2(30,new _a1(11,24),new _a1(14,25)),new _a2(30,new _a1(16,15),new _a1(14,16))),new _a3(24,new Array(6,28,54,80,106),new _a2(30,new _a1(6,117),new _a1(4,118)),new _a2(28,new _a1(6,45),new _a1(14,46)),new _a2(30,new _a1(11,24),new _a1(16,25)),new _a2(30,new _a1(30,16),new _a1(2,17))),new _a3(25,new Array(6,32,58,84,110),new _a2(26,new _a1(8,106),new _a1(4,107)),new _a2(28,new _a1(8,47),new _a1(13,48)),new _a2(30,new _a1(7,24),new _a1(22,25)),new _a2(30,new _a1(22,15),new _a1(13,16))),new _a3(26,new Array(6,30,58,86,114),new _a2(28,new _a1(10,114),new _a1(2,115)),new _a2(28,new _a1(19,46),new _a1(4,47)),new _a2(28,new _a1(28,22),new _a1(6,23)),new _a2(30,new _a1(33,16),new _a1(4,17))),new _a3(27,new Array(6,34,62,90,118),new _a2(30,new _a1(8,122),new _a1(4,123)),new _a2(28,new _a1(22,45),new _a1(3,46)),new _a2(30,new _a1(8,23),new _a1(26,24)),new _a2(30,new _a1(12,15),new _a1(28,16))),new _a3(28,new Array(6,26,50,74,98,122),new _a2(30,new _a1(3,117),new _a1(10,118)),new _a2(28,new _a1(3,45),new _a1(23,46)),new _a2(30,new _a1(4,24),new _a1(31,25)),new _a2(30,new _a1(11,15),new _a1(31,16))),new _a3(29,new Array(6,30,54,78,102,126),new _a2(30,new _a1(7,116),new _a1(7,117)),new _a2(28,new _a1(21,45),new _a1(7,46)),new _a2(30,new _a1(1,23),new _a1(37,24)),new _a2(30,new _a1(19,15),new _a1(26,16))),new _a3(30,new Array(6,26,52,78,104,130),new _a2(30,new _a1(5,115),new _a1(10,116)),new _a2(28,new _a1(19,47),new _a1(10,48)),new _a2(30,new _a1(15,24),new _a1(25,25)),new _a2(30,new _a1(23,15),new _a1(25,16))),new _a3(31,new Array(6,30,56,82,108,134),new _a2(30,new _a1(13,115),new _a1(3,116)),new _a2(28,new _a1(2,46),new _a1(29,47)),new _a2(30,new _a1(42,24),new _a1(1,25)),new _a2(30,new _a1(23,15),new _a1(28,16))),new _a3(32,new Array(6,34,60,86,112,138),new _a2(30,new _a1(17,115)),new _a2(28,new _a1(10,46),new _a1(23,47)),new _a2(30,new _a1(10,24),new _a1(35,25)),new _a2(30,new _a1(19,15),new _a1(35,16))),new _a3(33,new Array(6,30,58,86,114,142),new _a2(30,new _a1(17,115),new _a1(1,116)),new _a2(28,new _a1(14,46),new _a1(21,47)),new _a2(30,new _a1(29,24),new _a1(19,25)),new _a2(30,new _a1(11,15),new _a1(46,16))),new _a3(34,new Array(6,34,62,90,118,146),new _a2(30,new _a1(13,115),new _a1(6,116)),new _a2(28,new _a1(14,46),new _a1(23,47)),new _a2(30,new _a1(44,24),new _a1(7,25)),new _a2(30,new _a1(59,16),new _a1(1,17))),new _a3(35,new Array(6,30,54,78,102,126,150),new _a2(30,new _a1(12,121),new _a1(7,122)),new _a2(28,new _a1(12,47),new _a1(26,48)),new _a2(30,new _a1(39,24),new _a1(14,25)),new _a2(30,new _a1(22,15),new _a1(41,16))),new _a3(36,new Array(6,24,50,76,102,128,154),new _a2(30,new _a1(6,121),new _a1(14,122)),new _a2(28,new _a1(6,47),new _a1(34,48)),new _a2(30,new _a1(46,24),new _a1(10,25)),new _a2(30,new _a1(2,15),new _a1(64,16))),new _a3(37,new Array(6,28,54,80,106,132,158),new _a2(30,new _a1(17,122),new _a1(4,123)),new _a2(28,new _a1(29,46),new _a1(14,47)),new _a2(30,new _a1(49,24),new _a1(10,25)),new _a2(30,new _a1(24,15),new _a1(46,16))),new _a3(38,new Array(6,32,58,84,110,136,162),new _a2(30,new _a1(4,122),new _a1(18,123)),new _a2(28,new _a1(13,46),new _a1(32,47)),new _a2(30,new _a1(48,24),new _a1(14,25)),new _a2(30,new _a1(42,15),new _a1(32,16))),new _a3(39,new Array(6,26,54,82,110,138,166),new _a2(30,new _a1(20,117),new _a1(4,118)),new _a2(28,new _a1(40,47),new _a1(7,48)),new _a2(30,new _a1(43,24),new _a1(22,25)),new _a2(30,new _a1(10,15),new _a1(67,16))),new _a3(40,new Array(6,30,58,86,114,142,170),new _a2(30,new _a1(19,118),new _a1(6,119)),new _a2(28,new _a1(18,47),new _a1(31,48)),new _a2(30,new _a1(34,24),new _a1(34,25)),new _a2(30,new _a1(20,15),new _a1(61,16))))}function _ae(e,t,n,a,o,i,r,s,l){this.a11=e,this.a12=a,this.a13=r,this.a21=t,this.a22=o,this.a23=s,this.a31=n,this.a32=i,this.a33=l,this._ad=function(e){for(var t=e.length,n=this.a11,a=this.a12,o=this.a13,i=this.a21,r=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=0;d<t;d+=2){var p=e[d],m=e[d+1],h=o*p+s*m+u;e[d]=(n*p+i*m+l)/h,e[d+1]=(a*p+r*m+c)/h}},this._fp=function(e,t){for(var n=e.length,a=0;a<n;a++){var o=e[a],i=t[a],r=this.a13*o+this.a23*i+this.a33;e[a]=(this.a11*o+this.a21*i+this.a31)/r,t[a]=(this.a12*o+this.a22*i+this.a32)/r}},this._fr=function(){return new _ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new _ae(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function _bg(e,t){this.bits=e,this.points=t}function Detector(e){this.image=e,this._am=null,this._bi=function(e,t,n,a){var o=Math.abs(a-t)>Math.abs(n-e);if(o){var i=e;e=t,t=i,i=n,n=a,a=i}for(var r=Math.abs(n-e),s=Math.abs(a-t),l=-r>>1,c=t<a?1:-1,u=e<n?1:-1,d=0,p=e,m=t;p!=n;p+=u){var h=o?m:p,g=o?p:m;if(1==d?this.image[h+g*qrcode.width]&&d++:this.image[h+g*qrcode.width]||d++,3==d){var f=p-e,y=m-t;return Math.sqrt(f*f+y*y)}if(l+=s,l>0){if(m==a)break;m+=c,l-=r}}var C=n-e,v=a-t;return Math.sqrt(C*C+v*v)},this._bh=function(e,t,n,a){var o=this._bi(e,t,n,a),i=1,r=e-(n-e);r<0?(i=e/(e-r),r=0):r>=qrcode.width&&(i=(qrcode.width-1-e)/(r-e),r=qrcode.width-1);var s=Math.floor(t-(a-t)*i);return i=1,s<0?(i=t/(t-s),s=0):s>=qrcode.height&&(i=(qrcode.height-1-t)/(s-t),s=qrcode.height-1),r=Math.floor(e+(r-e)*i),o+=this._bi(e,t,r,s),o-1},this._bj=function(e,t){var n=this._bh(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),a=this._bh(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},this._bk=function(e,t,n){return(this._bj(e,t)+this._bj(e,n))/2},this.distance=function(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this._bx=function(e,t,n,a){var o=Math.round(this.distance(e,t)/a),i=Math.round(this.distance(e,n)/a),r=(o+i>>1)+7;switch(3&r){case 0:r++;break;case 2:r--;break;case 3:throw"Error"}return r},this._bl=function(e,t,n,a){var o=Math.floor(a*e),i=Math.max(0,t-o),r=Math.min(qrcode.width-1,t+o);if(r-i<3*e)throw"Error";var s=Math.max(0,n-o),l=Math.min(qrcode.height-1,n+o),c=new _ak(this.image,i,s,r-i,l-s,e,this._am);return c.find()},this.createTransform=function(e,t,n,a,o){var i,r,s,l,c=o-3.5;null!=a?(i=a.X,r=a.Y,s=l=c-3):(i=t.X-e.X+n.X,r=t.Y-e.Y+n.Y,s=l=c);var u=_ae._ag(3.5,3.5,c,3.5,s,l,3.5,c,e.X,e.Y,t.X,t.Y,i,r,n.X,n.Y);return u},this._bz=function(e,t,n){var a=_aa;return a._af(e,n,t)},this._cd=function(e){var t=e._gq,n=e._gs,a=e._gp,o=this._bk(t,n,a);if(o<1)throw"Error";var i=this._bx(t,n,a,o),r=_a3._at(i),s=r._cr-7,l=null;if(r._as.length>0)for(var c=n.X-t.X+a.X,u=n.Y-t.Y+a.Y,d=1-3/s,p=Math.floor(t.X+d*(c-t.X)),m=Math.floor(t.Y+d*(u-t.Y)),h=4;h<=16;h<<=1){l=this._bl(o,p,m,h);break}var g,f=this.createTransform(t,n,a,l,i),y=this._bz(this.image,f,i);return g=null==l?new Array(a,t,n):new Array(a,t,n,l),new _bg(y,g)},this.detect=function(){var e=(new _cc)._ce(this.image);return this._cd(e)}}function _ax(e){this._cf=_cg.forBits(e>>3&3),this._fe=7&e,this.__defineGetter__("_cg",function(){return this._cf}),this.__defineGetter__("_dx",function(){return this._fe}),this.GetHashCode=function(){return this._cf.ordinal()<<3|_fe},this.Equals=function(e){var t=e;return this._cf==t._cf&&this._fe==t._fe}}function _cg(e,t,n){this._ff=e,this.bits=t,this.name=n,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this._ff}}function _ac(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var n=e>>5;0!=(31&e)&&n++,this.rowSize=n,this.bits=new Array(n*t);for(var a=0;a<this.bits.length;a++)this.bits[a]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this._ds=function(e,t){var n=t*this.rowSize+(e>>5);return 0!=(1&_ew(this.bits[n],31&e))},this._dq=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]|=1<<(31&e)},this.flip=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this._bq=function(e,t,n,a){if(t<0||e<0)throw"Left and top must be nonnegative";if(a<1||n<1)throw"Height and width must be at least 1";var o=e+n,i=t+a;if(i>this.height||o>this.width)throw"The region must fit inside the matrix";for(var r=t;r<i;r++)for(var s=r*this.rowSize,l=e;l<o;l++)this.bits[s+(l>>5)]|=1<<(31&l)}}function _dl(e,t){this._dv=e,this._dw=t,this.__defineGetter__("_du",function(){return this._dv}),this.__defineGetter__("Codewords",function(){return this._dw})}function _cl(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error _cl";this._au=e,this._cp=null,this._co=null,this._dk=function(e,t,n){return this._au._ds(e,t)?n<<1|1:n<<1},this._cm=function(){if(null!=this._co)return this._co;for(var e=0,t=0;t<6;t++)e=this._dk(t,8,e);e=this._dk(7,8,e),e=this._dk(8,8,e),e=this._dk(8,7,e);for(var n=5;n>=0;n--)e=this._dk(8,n,e);if(this._co=_ax._ci(e),null!=this._co)return this._co;var a=this._au.Dimension;e=0;for(var o=a-8,t=a-1;t>=o;t--)e=this._dk(t,8,e);for(var n=a-7;n<a;n++)e=this._dk(8,n,e);if(this._co=_ax._ci(e),null!=this._co)return this._co;throw"Error _cm"},this._cq=function(){if(null!=this._cp)return this._cp;var e=this._au.Dimension,t=e-17>>2;if(t<=6)return _a3._av(t);for(var n=0,a=e-11,o=5;o>=0;o--)for(var i=e-9;i>=a;i--)n=this._dk(i,o,n);if(this._cp=_a3._aw(n),null!=this._cp&&this._cp._cr==e)return this._cp;n=0;for(var i=5;i>=0;i--)for(var o=e-9;o>=a;o--)n=this._dk(i,o,n);if(this._cp=_a3._aw(n),null!=this._cp&&this._cp._cr==e)return this._cp;throw"Error _cq"},this._gk=function(){var e=this._cm(),t=this._cq(),n=_dx._gl(e._dx),a=this._au.Dimension;n._dj(this._au,a);for(var o=t._aq(),i=!0,r=new Array(t._dp),s=0,l=0,c=0,u=a-1;u>0;u-=2){6==u&&u--;for(var d=0;d<a;d++)for(var p=i?a-1-d:d,m=0;m<2;m++)o._ds(u-m,p)||(c++,l<<=1,this._au._ds(u-m,p)&&(l|=1),8==c&&(r[s++]=l,c=0,l=0));i^=!0}if(s!=t._dp)throw"Error _gk";return r}}function _fg(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){return 0==(e+t&1)}}function _fh(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){return 0==(1&e)}}function _fi(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){return t%3==0}}function _fj(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){return(e+t)%3==0}}function _fk(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){return 0==(_ew(e,1)+t/3&1)}}function _fl(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){var n=e*t;return(1&n)+n%3==0}}function _fm(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}}function _fn(){this._dj=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this._fw(n,a)&&e.flip(a,n)},this._fw=function(e,t){return 0==((e+t&1)+e*t%3&1)}}function _db(e){this._fa=e,this.decode=function(e,t){for(var n=new _bp(this._fa,e),a=new Array(t),o=0;o<a.length;o++)a[o]=0;for(var i=!1,r=!0,o=0;o<t;o++){var s=n.evaluateAt(this._fa.exp(i?o+1:o));a[a.length-1-o]=s,0!=s&&(r=!1)}if(!r)for(var l=new _bp(this._fa,a),c=this._eb(this._fa._ba(t,1),l,t),u=c[0],d=c[1],p=this._ey(u),m=this._di(d,p,i),o=0;o<p.length;o++){var h=e.length-1-this._fa.log(p[o]);if(h<0)throw"ReedSolomonException Bad error location";e[h]=_az._bd(e[h],m[o])}},this._eb=function(e,t,n){if(e._ec<t._ec){var a=e;e=t,t=a}for(var o=e,i=t,r=this._fa.One,s=this._fa.Zero,l=this._fa.Zero,c=this._fa.One;i._ec>=Math.floor(n/2);){var u=o,d=r,p=l;if(o=i,r=s,l=c,o.Zero)throw"r_{i-1} was zero";i=u;for(var m=this._fa.Zero,h=o._ex(o._ec),g=this._fa.inverse(h);i._ec>=o._ec&&!i.Zero;){var f=i._ec-o._ec,y=this._fa.multiply(i._ex(i._ec),g);m=m._bd(this._fa._ba(f,y)),i=i._bd(o._dc(f,y))}s=m.multiply1(r)._bd(d),c=m.multiply1(l)._bd(p)}var C=c._ex(0);if(0==C)throw"ReedSolomonException sigmaTilde(0) was zero";var v=this._fa.inverse(C),N=c.multiply2(v),b=i.multiply2(v);return new Array(N,b)},this._ey=function(e){var t=e._ec;if(1==t)return new Array(e._ex(1));for(var n=new Array(t),a=0,o=1;o<256&&a<t;o++)0==e.evaluateAt(o)&&(n[a]=this._fa.inverse(o),a++);if(a!=t)throw"Error locator degree does not match number of roots";return n},this._di=function(e,t,n){for(var a=t.length,o=new Array(a),i=0;i<a;i++){for(var r=this._fa.inverse(t[i]),s=1,l=0;l<a;l++)i!=l&&(s=this._fa.multiply(s,_az._bd(1,this._fa.multiply(t[l],r))));o[i]=this._fa.multiply(e.evaluateAt(r),this._fa.inverse(s)),n&&(o[i]=this._fa.multiply(o[i],r))}return o}}function _bp(e,t){if(null==t||0==t.length)throw"bad arguments";this._fa=e;var n=t.length;if(n>1&&0==t[0]){for(var a=1;a<n&&0==t[a];)a++;if(a==n)this._dd=e.Zero._dd;else{this._dd=new Array(n-a);for(var o=0;o<this._dd.length;o++)this._dd[o]=0;for(var i=0;i<this._dd.length;i++)this._dd[i]=t[a+i]}}else this._dd=t;this.__defineGetter__("Zero",function(){return 0==this._dd[0]}),this.__defineGetter__("_ec",function(){return this._dd.length-1}),this.__defineGetter__("Coefficients",function(){return this._dd}),this._ex=function(e){return this._dd[this._dd.length-1-e]},this.evaluateAt=function(e){if(0==e)return this._ex(0);var t=this._dd.length;if(1==e){for(var n=0,a=0;a<t;a++)n=_az._bd(n,this._dd[a]);return n}for(var o=this._dd[0],a=1;a<t;a++)o=_az._bd(this._fa.multiply(e,o),this._dd[a]);return o},this._bd=function(t){if(this._fa!=t._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero)return t;if(t.Zero)return this;var n=this._dd,a=t._dd;if(n.length>a.length){var o=n;n=a,a=o}for(var i=new Array(a.length),r=a.length-n.length,s=0;s<r;s++)i[s]=a[s];for(var l=r;l<a.length;l++)i[l]=_az._bd(n[l-r],a[l]);return new _bp(e,i)},this.multiply1=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(this.Zero||e.Zero)return this._fa.Zero;for(var t=this._dd,n=t.length,a=e._dd,o=a.length,i=new Array(n+o-1),r=0;r<n;r++)for(var s=t[r],l=0;l<o;l++)i[r+l]=_az._bd(i[r+l],this._fa.multiply(s,a[l]));return new _bp(this._fa,i)},this.multiply2=function(e){if(0==e)return this._fa.Zero;if(1==e)return this;for(var t=this._dd.length,n=new Array(t),a=0;a<t;a++)n[a]=this._fa.multiply(this._dd[a],e);return new _bp(this._fa,n)},this._dc=function(e,t){if(e<0)throw"bad arguments";if(0==t)return this._fa.Zero;for(var n=this._dd.length,a=new Array(n+e),o=0;o<a.length;o++)a[o]=0;for(var o=0;o<n;o++)a[o]=this._fa.multiply(this._dd[o],t);return new _bp(this._fa,a)},this.divide=function(e){if(this._fa!=e._fa)throw"GF256Polys do not have same _az _fa";if(e.Zero)throw"Divide by 0";for(var t=this._fa.Zero,n=this,a=e._ex(e._ec),o=this._fa.inverse(a);n._ec>=e._ec&&!n.Zero;){var i=n._ec-e._ec,r=this._fa.multiply(n._ex(n._ec),o),s=e._dc(i,r),l=this._fa._ba(i,r);t=t._bd(l),n=n._bd(s)}return new Array(t,n)}}function _az(e){this._gh=new Array(256),this._gi=new Array(256);for(var t=1,n=0;n<256;n++)this._gh[n]=t,t<<=1,t>=256&&(t^=e);for(var n=0;n<255;n++)this._gi[this._gh[n]]=n;var a=new Array(1);a[0]=0,this.zero=new _bp(this,new Array(a));var o=new Array(1);o[0]=1,this.one=new _bp(this,new Array(o)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this._ba=function(e,t){if(e<0)throw"bad arguments";if(0==t)return zero;for(var n=new Array(e+1),a=0;a<n.length;a++)n[a]=0;return n[0]=t,new _bp(this,n)},this.exp=function(e){return this._gh[e]},this.log=function(e){if(0==e)throw"bad arguments";return this._gi[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this._gh[255-this._gi[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this._gh[(this._gi[e]+this._gi[t])%255]}}function _ew(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}function _cz(e,t,n){this.x=e,this.y=t,this.count=1,this._aj=n,this.__defineGetter__("_ei",function(){return this._aj}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this._ek=function(){this.count++},this._ev=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var a=Math.abs(e-this._aj);return a<=1||a/this._aj<=1}return!1}}function _es(e){this._go=e[0],this._gu=e[1],this._gr=e[2],this.__defineGetter__("_gp",function(){return this._go}),this.__defineGetter__("_gq",function(){return this._gu}),this.__defineGetter__("_gs",function(){return this._gr})}function _cc(){this.image=null,this._cv=[],this._ge=!1,this._al=new Array(0,0,0,0,0),this._am=null,this.__defineGetter__("_da",function(){return this._al[0]=0,this._al[1]=0,this._al[2]=0,this._al[3]=0,this._al[4]=0,this._al}),this._ao=function(e){for(var t=0,n=0;n<5;n++){var a=e[n];if(0==a)return!1;t+=a}if(t<7)return!1;var o=Math.floor((t<<_el)/7),i=Math.floor(o/2);return Math.abs(o-(e[0]<<_el))<i&&Math.abs(o-(e[1]<<_el))<i&&Math.abs(3*o-(e[2]<<_el))<3*i&&Math.abs(o-(e[3]<<_el))<i&&Math.abs(o-(e[4]<<_el))<i},this._an=function(e,t){return t-e[4]-e[3]-e[2]/2},this._ap=function(e,t,n,a){for(var o=this.image,i=qrcode.height,r=this._da,s=e;s>=0&&o[t+s*qrcode.width];)r[2]++,s--;if(s<0)return NaN;for(;s>=0&&!o[t+s*qrcode.width]&&r[1]<=n;)r[1]++,s--;if(s<0||r[1]>n)return NaN;for(;s>=0&&o[t+s*qrcode.width]&&r[0]<=n;)r[0]++,s--;if(r[0]>n)return NaN;for(s=e+1;s<i&&o[t+s*qrcode.width];)r[2]++,s++;if(s==i)return NaN;for(;s<i&&!o[t+s*qrcode.width]&&r[3]<n;)r[3]++,s++;if(s==i||r[3]>=n)return NaN;for(;s<i&&o[t+s*qrcode.width]&&r[4]<n;)r[4]++,s++;if(r[4]>=n)return NaN;var l=r[0]+r[1]+r[2]+r[3]+r[4];return 5*Math.abs(l-a)>=2*a?NaN:this._ao(r)?this._an(r,s):NaN},this._ej=function(e,t,n,a){for(var o=this.image,i=qrcode.width,r=this._da,s=e;s>=0&&o[s+t*qrcode.width];)r[2]++,s--;if(s<0)return NaN;for(;s>=0&&!o[s+t*qrcode.width]&&r[1]<=n;)r[1]++,s--;if(s<0||r[1]>n)return NaN;for(;s>=0&&o[s+t*qrcode.width]&&r[0]<=n;)r[0]++,s--;if(r[0]>n)return NaN;for(s=e+1;s<i&&o[s+t*qrcode.width];)r[2]++,s++;if(s==i)return NaN;for(;s<i&&!o[s+t*qrcode.width]&&r[3]<n;)r[3]++,s++;if(s==i||r[3]>=n)return NaN;for(;s<i&&o[s+t*qrcode.width]&&r[4]<n;)r[4]++,s++;if(r[4]>=n)return NaN;var l=r[0]+r[1]+r[2]+r[3]+r[4];return 5*Math.abs(l-a)>=a?NaN:this._ao(r)?this._an(r,s):NaN},this._cu=function(e,t,n){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=this._an(e,n),i=this._ap(t,Math.floor(o),e[2],a);if(!isNaN(i)&&(o=this._ej(Math.floor(o),Math.floor(i),e[2],a),!isNaN(o))){for(var r=a/7,s=!1,l=this._cv.length,c=0;c<l;c++){var u=this._cv[c];if(u._ev(r,i,o)){u._ek(),s=!0;break}}if(!s){var d=new _cz(o,i,r);this._cv.push(d),null!=this._am&&this._am._ep(d)}return!0}return!1},this._ee=function(){var e=this._cv.length;if(e<3)throw"Couldn't find enough finder patterns";if(e>3){for(var t=0,n=0,a=0;a<e;a++){var o=this._cv[a]._ei;t+=o,n+=o*o}var i=t/e;this._cv.sort(function(e,t){var n=Math.abs(t._ei-i),a=Math.abs(e._ei-i);return n<a?-1:n==a?0:1});for(var r=Math.sqrt(n/e-i*i),s=Math.max(.2*i,r),a=0;a<this._cv.length&&this._cv.length>3;a++){var l=this._cv[a];Math.abs(l._ei-i)>s&&(this._cv.remove(a),a--)}}return this._cv.length>3&&this._cv.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),new Array(this._cv[0],this._cv[1],this._cv[2])},this._eq=function(){var e=this._cv.length;if(e<=1)return 0;for(var t=null,n=0;n<e;n++){var a=this._cv[n];if(a.Count>=_eg){if(null!=t)return this._ge=!0,Math.floor((Math.abs(t.X-a.X)-Math.abs(t.Y-a.Y))/2);t=a}}return 0},this._cx=function(){for(var e=0,t=0,n=this._cv.length,a=0;a<n;a++){var o=this._cv[a];o.Count>=_eg&&(e++,t+=o._ei)}if(e<3)return!1;for(var i=t/n,r=0,a=0;a<n;a++)o=this._cv[a],r+=Math.abs(o._ei-i);return r<=.05*t},this._ce=function(e){var t=!1;this.image=e;var n=qrcode.height,a=qrcode.width,o=Math.floor(3*n/(4*_eh));(o<_gf||t)&&(o=_gf);for(var i=!1,r=new Array(5),s=o-1;s<n&&!i;s+=o){r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0;for(var l=0,c=0;c<a;c++)if(e[c+s*qrcode.width])1==(1&l)&&l++,r[l]++;else if(0==(1&l))if(4==l)if(this._ao(r)){var u=this._cu(r,s,c);if(u)if(o=2,this._ge)i=this._cx();else{var d=this._eq();d>r[2]&&(s+=d-r[2]-o,c=a-1)}else{do c++;while(c<a&&!e[c+s*qrcode.width]);c--}l=0,r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0}else r[0]=r[2],r[1]=r[3],r[2]=r[4],r[3]=1,r[4]=0,l=3;else r[++l]++;else r[l]++;if(this._ao(r)){var u=this._cu(r,s,a);u&&(o=r[0],this._ge&&(i=_cx()))}}var p=this._ee();return qrcode._er(p),new _es(p)}}function _ai(e,t,n){this.x=e,this.y=t,this.count=1,this._aj=n,this.__defineGetter__("_ei",function(){return this._aj}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this._ek=function(){this.count++},this._ev=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var a=Math.abs(e-this._aj);return a<=1||a/this._aj<=1}return!1}}function _ak(e,t,n,a,o,i,r){this.image=e,this._cv=new Array,this.startX=t,this.startY=n,this.width=a,this.height=o,this._ef=i,this._al=new Array(0,0,0),this._am=r,this._an=function(e,t){return t-e[2]-e[1]/2},this._ao=function(e){for(var t=this._ef,n=t/2,a=0;a<3;a++)if(Math.abs(t-e[a])>=n)return!1;return!0},this._ap=function(e,t,n,a){var o=this.image,i=qrcode.height,r=this._al;r[0]=0,r[1]=0,r[2]=0;for(var s=e;s>=0&&o[t+s*qrcode.width]&&r[1]<=n;)r[1]++,s--;if(s<0||r[1]>n)return NaN;for(;s>=0&&!o[t+s*qrcode.width]&&r[0]<=n;)r[0]++,s--;if(r[0]>n)return NaN;for(s=e+1;s<i&&o[t+s*qrcode.width]&&r[1]<=n;)r[1]++,s++;if(s==i||r[1]>n)return NaN;for(;s<i&&!o[t+s*qrcode.width]&&r[2]<=n;)r[2]++,s++;if(r[2]>n)return NaN;var l=r[0]+r[1]+r[2];return 5*Math.abs(l-a)>=2*a?NaN:this._ao(r)?this._an(r,s):NaN},this._cu=function(e,t,n){var a=e[0]+e[1]+e[2],o=this._an(e,n),i=this._ap(t,Math.floor(o),2*e[1],a);if(!isNaN(i)){for(var r=(e[0]+e[1]+e[2])/3,s=this._cv.length,l=0;l<s;l++){var c=this._cv[l];if(c._ev(r,i,o))return new _ai(o,i,r)}var u=new _ai(o,i,r);this._cv.push(u),null!=this._am&&this._am._ep(u)}return null},this.find=function(){for(var t=this.startX,o=this.height,i=t+a,r=n+(o>>1),s=new Array(0,0,0),l=0;l<o;l++){var c=r+(0==(1&l)?l+1>>1:-(l+1>>1));s[0]=0,s[1]=0,s[2]=0;for(var u=t;u<i&&!e[u+qrcode.width*c];)u++;for(var d=0;u<i;){if(e[u+c*qrcode.width])if(1==d)s[d]++;else if(2==d){if(this._ao(s)){var p=this._cu(s,c,u);if(null!=p)return p}s[0]=s[2],s[1]=1,s[2]=0,d=1}else s[++d]++;else 1==d&&d++,s[d]++;u++}if(this._ao(s)){var p=this._cu(s,c,i);if(null!=p)return p}}if(0!=this._cv.length)return this._cv[0];throw"Couldn't find enough alignment patterns"}}function QRCodeDataBlockReader(e,t,n){this._ed=0,this._cw=7,this.dataLength=0,this.blocks=e,this._en=n,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2),this._gd=function(e){var t=0;if(e<this._cw+1){for(var n=0,a=0;a<e;a++)n+=1<<a;return n<<=this._cw-e+1,t=(this.blocks[this._ed]&n)>>this._cw-e+1,this._cw-=e,t}if(e<this._cw+1+8){for(var o=0,a=0;a<this._cw+1;a++)o+=1<<a;return t=(this.blocks[this._ed]&o)<<e-(this._cw+1),this._ed++,t+=this.blocks[this._ed]>>8-(e-(this._cw+1)),this._cw=this._cw-e%8,this._cw<0&&(this._cw=8+this._cw),t}if(e<this._cw+1+16){for(var o=0,i=0,a=0;a<this._cw+1;a++)o+=1<<a;var r=(this.blocks[this._ed]&o)<<e-(this._cw+1);this._ed++;var s=this.blocks[this._ed]<<e-(this._cw+1+8);this._ed++;for(var a=0;a<e-(this._cw+1+8);a++)i+=1<<a;i<<=8-(e-(this._cw+1+8));var l=(this.blocks[this._ed]&i)>>8-(e-(this._cw+1+8));return t=r+s+l,this._cw=this._cw-(e-8)%8,this._cw<0&&(this._cw=8+this._cw),t}return 0},this.NextMode=function(){return this._ed>this.blocks.length-this._en-2?0:this._gd(4)},this.getDataLength=function(e){for(var t=0;;){if(e>>t==1)break;t++}return this._gd(qrcode._eo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,n=0,a="",o=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(t>1){n=this._gd(11);var i=Math.floor(n/45),r=n%45;a+=o[i],a+=o[r],t-=2}else 1==t&&(n=this._gd(6),a+=o[n],t-=1);while(t>0);return a},this.getFigureString=function(e){var t=e,n=0,a="";do t>=3?(n=this._gd(10),n<100&&(a+="0"),n<10&&(a+="0"),t-=3):2==t?(n=this._gd(7),n<10&&(a+="0"),t-=2):1==t&&(n=this._gd(4),t-=1),a+=n;while(t>0);return a},this.get8bitByteArray=function(e){var t=e,n=0,a=new Array;do n=this._gd(8),a.push(n),t--;while(t>0);return a},this.getKanjiString=function(e){var t=e,n=0,a="";do{n=_gd(13);var o=n%192,i=n/192,r=(i<<8)+o,s=0;s=r+33088<=40956?r+33088:r+49472,a+=String.fromCharCode(s),t--}while(t>0);return a},this.__defineGetter__("DataByte",function(){for(var e=new Array,t=1,n=2,a=4,o=8;;){var i=this.NextMode();if(0==i){if(e.length>0)break;throw"Empty data block"}if(i!=t&&i!=n&&i!=a&&i!=o)throw"Invalid mode: "+i+" in (block:"+this._ed+" bit:"+this._cw+")";if(dataLength=this.getDataLength(i),dataLength<1)throw"Invalid data length: "+dataLength;switch(i){case t:for(var r=this.getFigureString(dataLength),s=new Array(r.length),l=0;l<r.length;l++)s[l]=r.charCodeAt(l);e.push(s);break;case n:for(var r=this.getRomanAndFigureString(dataLength),s=new Array(r.length),l=0;l<r.length;l++)s[l]=r.charCodeAt(l);e.push(s);break;case a:var c=this.get8bitByteArray(dataLength);e.push(c);break;case o:var r=this.getKanjiString(dataLength);e.push(r)}}return e})}var requirejs,require,define;!function(ba){function G(e){return"[object Function]"===K.call(e)}function H(e){return"[object Array]"===K.call(e)}function v(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function T(e,t){if(e){var n;for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}}function t(e,t){return fa.call(e,t)}function m(e,n){return t(e,n)&&e[n]}function B(e,n){for(var a in e)if(t(e,a)&&n(e[a],a))break}function U(e,n,a,o){return n&&B(n,function(n,i){!a&&t(e,i)||(!o||"object"!=typeof n||!n||H(n)||G(n)||n instanceof RegExp?e[i]=n:(e[i]||(e[i]={}),U(e[i],n,a,o)));
}),e}function u(e,t){return function(){return t.apply(e,arguments)}}function ca(e){throw e}function da(e){if(!e)return e;var t=ba;return v(e.split("."),function(e){t=t[e]}),t}function C(e,t,n,a){return t=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),t.requireType=e,t.requireModules=a,n&&(t.originalError=n),t}function ga(e){function n(e,t,n){var a,o,i,r,s,l,c,u,t=t&&t.split("/"),d=k.map,p=d&&d["*"];if(e){for(e=e.split("/"),o=e.length-1,k.nodeIdCompat&&Q.test(e[o])&&(e[o]=e[o].replace(Q,"")),"."===e[0].charAt(0)&&t&&(o=t.slice(0,t.length-1),e=o.concat(e)),o=e,i=0;i<o.length;i++)r=o[i],"."===r?(o.splice(i,1),i-=1):".."===r&&0!==i&&(1!==i||".."!==o[2])&&".."!==o[i-1]&&0<i&&(o.splice(i-1,2),i-=2);e=e.join("/")}if(n&&d&&(t||p)){o=e.split("/"),i=o.length;e:for(;0<i;i-=1){if(s=o.slice(0,i).join("/"),t)for(r=t.length;0<r;r-=1)if((n=m(d,t.slice(0,r).join("/")))&&(n=m(n,s))){a=n,l=i;break e}!c&&p&&m(p,s)&&(c=m(p,s),u=i)}!a&&c&&(a=c,l=u),a&&(o.splice(0,l,a),e=o.join("/"))}return(a=m(k.pkgs,e))?a:e}function a(e){z&&v(document.getElementsByTagName("script"),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===A.contextName)return t.parentNode.removeChild(t),!0})}function o(e){var t=m(k.paths,e);if(t&&H(t)&&1<t.length)return t.shift(),A.require.undef(e),A.makeRequire(null,{skipMap:!0})([e]),!0}function i(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function r(e,t,a,o){var r,s,l=null,c=t?t.name:null,u=e,d=!0,p="";return e||(d=!1,e="_@r"+(j+=1)),e=i(e),l=e[0],e=e[1],l&&(l=n(l,c,o),s=m(I,l)),e&&(l?p=s&&s.normalize?s.normalize(e,function(e){return n(e,c,o)}):-1===e.indexOf("!")?n(e,c,o):e:(p=n(e,c,o),e=i(p),l=e[0],p=e[1],a=!0,r=A.nameToUrl(p))),a=!l||s||a?"":"_unnormalized"+(J+=1),{prefix:l,name:p,parentMap:t,unnormalized:!!a,url:r,originalName:u,isDefine:d,id:(l?l+"!"+p:p)+a}}function s(e){var t=e.id,n=m(x,t);return n||(n=x[t]=new A.Module(e)),n}function l(e,n,a){var o=e.id,i=m(x,o);!t(I,o)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===n?a(i.error):i.on(n,a)):"defined"===n&&a(I[o])}function c(e,t){var n=e.requireModules,a=!1;t?t(e):(v(n,function(t){(t=m(x,t))&&(t.error=e,t.events.error&&(a=!0,t.emit("error",e)))}),a||g.onError(e))}function d(){R.length&&(ha.apply(Z,[Z.length,0].concat(R)),R=[])}function p(e){delete x[e],delete q[e]}function h(e,t,n){var a=e.map.id;e.error?e.emit("error",e.error):(t[a]=!0,v(e.depMaps,function(a,o){var i=a.id,r=m(x,i);r&&!e.depMatched[o]&&!n[i]&&(m(t,i)?(e.defineDep(o,I[i]),e.check()):h(r,t,n))}),n[a]=!0)}function f(){var e,t,n=(e=1e3*k.waitSeconds)&&A.startTime+e<(new Date).getTime(),i=[],r=[],s=!1,l=!0;if(!S){if(S=!0,B(q,function(e){var c=e.map,u=c.id;if(e.enabled&&(c.isDefine||r.push(e),!e.error))if(!e.inited&&n)o(u)?s=t=!0:(i.push(u),a(u));else if(!e.inited&&e.fetched&&c.isDefine&&(s=!0,!c.prefix))return l=!1}),n&&i.length)return e=C("timeout","Load timeout for modules: "+i,null,i),e.contextName=A.contextName,c(e);l&&v(r,function(e){h(e,{},{})}),n&&!t||!s||!z&&!ea||_||(_=setTimeout(function(){_=0,f()},50)),S=!1}}function y(e){t(I,e[0])||s(r(e[0],null,!0)).init(e[1],e[2])}function b(e){var e=e.currentTarget||e.srcElement,t=A.onScriptLoad;return e.detachEvent&&!Y?e.detachEvent("onreadystatechange",t):e.removeEventListener("load",t,!1),t=A.onScriptError,(!e.detachEvent||Y)&&e.removeEventListener("error",t,!1),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function w(){var e;for(d();Z.length;){if(e=Z.shift(),null===e[0])return c(C("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));y(e)}}var S,E,A,O,_,k={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},x={},q={},L={},Z=[],I={},P={},D={},j=1,J=1;return O={require:function(e){return e.require?e.require:e.require=A.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?I[e.map.id]=e.exports:e.exports=I[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return m(k.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},E=function(e){this.events=m(L,e.id)||{},this.map=e,this.shim=m(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},E.prototype={init:function(e,t,n,a){a=a||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=u(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=a.ignore,a.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,A.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();A.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,A.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id;t=this.depExports;var a=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(G(o)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{a=A.execCb(n,o,t,a)}catch(t){e=t}else a=A.execCb(n,o,t,a);if(this.map.isDefine&&void 0===a&&((t=this.module)?a=t.exports:this.usingExports&&(a=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else a=o;this.exports=a,this.map.isDefine&&!this.ignore&&(I[n]=a,g.onResourceLoad)&&g.onResourceLoad(A,this.map,this.depMaps),p(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,a=e.id,o=r(e.prefix);this.depMaps.push(o),l(o,"defined",u(this,function(o){var i,d;d=m(D,this.map.id);var h=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,y=A.makeRequire(e.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(o.normalize&&(h=o.normalize(h,function(e){return n(e,f,!0)})||""),o=r(e.prefix+"!"+h,this.map.parentMap),l(o,"defined",u(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),(d=m(x,o.id))&&(this.depMaps.push(o),this.events.error&&d.on("error",u(this,function(e){this.emit("error",e)})),d.enable())):d?(this.map.url=A.nameToUrl(d),this.load()):(i=u(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=u(this,function(e){this.inited=!0,this.error=e,e.requireModules=[a],B(x,function(e){0===e.map.id.indexOf(a+"_unnormalized")&&p(e.map.id)}),c(e)}),i.fromText=u(this,function(n,o){var l=e.name,u=r(l),d=M;o&&(n=o),d&&(M=!1),s(u),t(k.config,a)&&(k.config[l]=k.config[a]);try{g.exec(n)}catch(e){return c(C("fromtexteval","fromText eval for "+a+" failed: "+e,e,[a]))}d&&(M=!0),this.depMaps.push(u),A.completeLoad(l),y([l],i)}),o.load(e.name,y,i,k))})),A.enable(o,this),this.pluginMaps[o.id]=o},enable:function(){q[this.map.id]=this,this.enabling=this.enabled=!0,v(this.depMaps,u(this,function(e,n){var a,o;if("string"==typeof e){if(e=r(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[n]=e,a=m(O,e.id))return void(this.depExports[n]=a(this));this.depCount+=1,l(e,"defined",u(this,function(e){this.undefed||(this.defineDep(n,e),this.check())})),this.errback?l(e,"error",u(this,this.errback)):this.events.error&&l(e,"error",u(this,function(e){this.emit("error",e)}))}a=e.id,o=x[a],!t(O,a)&&o&&!o.enabled&&A.enable(e,this)})),B(this.pluginMaps,u(this,function(e){var t=m(x,e.id);t&&!t.enabled&&A.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){v(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},A={config:k,contextName:e,registry:x,defined:I,urlFetched:P,defQueue:Z,Module:E,makeModuleMap:r,nextTick:g.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=k.shim,n={paths:!0,bundles:!0,config:!0,map:!0};B(e,function(e,t){n[t]?(k[t]||(k[t]={}),U(k[t],e,!0,!0)):k[t]=e}),e.bundles&&B(e.bundles,function(e,t){v(e,function(e){e!==t&&(D[e]=t)})}),e.shim&&(B(e.shim,function(e,n){H(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=A.makeShimExports(e)),t[n]=e}),k.shim=t),e.packages&&v(e.packages,function(e){var t,e="string"==typeof e?{name:e}:e;t=e.name,e.location&&(k.paths[t]=e.location),k.pkgs[t]=e.name+"/"+(e.main||"main").replace(ia,"").replace(Q,"")}),B(x,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=r(t,null,!0))}),(e.deps||e.callback)&&A.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(ba,arguments)),t||e.exports&&da(e.exports)}},makeRequire:function(o,i){function l(n,a,u){var d,p;return i.enableBuildCallback&&a&&G(a)&&(a.__requireJsBuild=!0),"string"==typeof n?G(a)?c(C("requireargs","Invalid require call"),u):o&&t(O,n)?O[n](x[o.id]):g.get?g.get(A,n,o,l):(d=r(n,o,!1,!0),d=d.id,t(I,d)?I[d]:c(C("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(o?"":". Use require([])")))):(w(),A.nextTick(function(){w(),p=s(r(null,o)),p.skipMap=i.skipMap,p.init(n,a,u,{enabled:!0}),f()}),l)}return i=i||{},U(l,{isBrowser:z,toUrl:function(e){var t,a=e.lastIndexOf("."),i=e.split("/")[0];return-1!==a&&("."!==i&&".."!==i||1<a)&&(t=e.substring(a,e.length),e=e.substring(0,a)),A.nameToUrl(n(e,o&&o.id,!0),t,!0)},defined:function(e){return t(I,r(e,o,!1,!0).id)},specified:function(e){return e=r(e,o,!1,!0).id,t(I,e)||t(x,e)}}),o||(l.undef=function(e){d();var t=r(e,o,!0),n=m(x,e);n.undefed=!0,a(e),delete I[e],delete P[t.url],delete L[e],T(Z,function(t,n){t[0]===e&&Z.splice(n,1)}),n&&(n.events.defined&&(L[e]=n.events),p(e))}),l},enable:function(e){m(x,e.id)&&s(e).enable()},completeLoad:function(e){var n,a,i=m(k.shim,e)||{},r=i.exports;for(d();Z.length;){if(a=Z.shift(),null===a[0]){if(a[0]=e,n)break;n=!0}else a[0]===e&&(n=!0);y(a)}if(a=m(x,e),!n&&!t(I,e)&&a&&!a.inited){if(k.enforceDefine&&(!r||!da(r)))return o(e)?void 0:c(C("nodefine","No define call for "+e,null,[e]));y([e,i.deps||[],i.exportsFn])}f()},nameToUrl:function(e,t,n){var a,o,i;if((a=m(k.pkgs,e))&&(e=a),a=m(D,e))return A.nameToUrl(a,t,n);if(g.jsExtRegExp.test(e))a=e+(t||"");else{for(a=k.paths,e=e.split("/"),o=e.length;0<o;o-=1)if(i=e.slice(0,o).join("/"),i=m(a,i)){H(i)&&(i=i[0]),e.splice(0,o,i);break}a=e.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+a}return k.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+k.urlArgs):a},load:function(e,t){g.load(A,e,t)},execCb:function(e,t,n,a){return t.apply(a,n)},onScriptLoad:function(e){("load"===e.type||ja.test((e.currentTarget||e.srcElement).readyState))&&(N=null,e=b(e),A.completeLoad(e.id))},onScriptError:function(e){var t=b(e);if(!o(t.id))return c(C("scripterror","Script error for: "+t.id,e,[t.id]))}},A.require=A.makeRequire(),A}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs,requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0),g=requirejs=function(e,t,n,a){var o,i="_";return!H(e)&&"string"!=typeof e&&(o=e,H(t)?(e=t,t=n,n=a):e=[]),o&&o.context&&(i=o.context),(a=m(F,i))||(a=F[i]=g.s.newContext(i)),o&&a.configure(o),a.require(e,t,n)},g.config=function(e){return g(e)},g.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=g),g.version="2.1.18",g.jsExtRegExp=/^\/|:|\?|\.js$/,g.isBrowser=z,x=g.s={contexts:F,newContext:ga},g({}),v(["toUrl","undef","defined","specified"],function(e){g[e]=function(){var t=F._;return t.require[e].apply(t,arguments)}}),z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode),g.onError=ca,g.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},g.load=function(e,t,n){var a=e&&e.config||{};if(z)return a=g.createNode(a,t,n),a.setAttribute("data-requirecontext",e.contextName),a.setAttribute("data-requiremodule",t),!a.attachEvent||a.attachEvent.toString&&0>a.attachEvent.toString().indexOf("[native code")||Y?(a.addEventListener("load",e.onScriptLoad,!1),a.addEventListener("error",e.onScriptError,!1)):(M=!0,a.attachEvent("onreadystatechange",e.onScriptLoad)),a.src=n,J=a,D?y.insertBefore(a,D):y.appendChild(a),J=null,a;if(ea)try{importScripts(n),e.completeLoad(t)}catch(a){e.onError(C("importscripts","importScripts failed for "+t+" at "+n,a,[t]))}},z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(e){if(y||(y=e.parentNode),I=e.getAttribute("data-main"))return s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0}),define=function(e,t,n){var a,o;"string"!=typeof e&&(n=t,t=e,e=null),H(t)||(n=t,t=null),!t&&G(n)&&(t=[],n.length&&(n.toString().replace(ka,"").replace(la,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),M&&((a=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(e){if("interactive"===e.readyState)return N=e}),a=N),a&&(e||(e=a.getAttribute("data-requiremodule")),o=F[a.getAttribute("data-requirecontext")])),(o?o.defQueue:R).push([e,t,n])},define.amd={jQuery:!0},g.exec=function(b){return eval(b)},g(q)}}(this),define("requireLib",function(){}),!function e(t,n,a){function o(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(i)return i(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<a.length;r++)o(a[r]);return o}({1:[function(e,t){function n(){}var a=t.exports={};a.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var a=n.shift();a()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),a.title="browser",a.browser=!0,a.env={},a.argv=[],a.on=n,a.addListener=n,a.once=n,a.off=n,a.removeListener=n,a.removeAllListeners=n,a.emit=n,a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,t){"use strict";function n(e){function t(e){return null===l?void u.push(e):void i(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(c);var n;try{n=t(c)}catch(t){return void e.reject(t)}e.resolve(n)})}function n(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void o(t.bind(e),n,r)}l=!0,c=e,s()}catch(e){r(e)}}function r(e){l=!1,c=e,s()}function s(){for(var e=0,n=u.length;n>e;e++)t(u[e]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,c=null,u=[],d=this;this.then=function(e,n){return new d.constructor(function(o,i){t(new a(e,n,o,i))})},o(e,n,r)}function a(e,t,n,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=a}function o(e,t,n){var a=!1;try{e(function(e){a||(a=!0,t(e))},function(e){a||(a=!0,n(e))})}catch(e){if(a)return;a=!0,n(e)}}var i=e("asap");t.exports=n},{asap:4}],3:[function(e,t){"use strict";function n(e){this.then=function(t){return"function"!=typeof t?this:new a(function(n,a){o(function(){try{n(t(e))}catch(e){a(e)}})})}}var a=e("./core.js"),o=e("asap");t.exports=a,n.prototype=a.prototype;var i=new n(!0),r=new n(!1),s=new n(null),l=new n(void 0),c=new n(0),u=new n("");a.resolve=function(e){if(e instanceof a)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return i;if(e===!1)return r;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new a(t.bind(e))}catch(e){return new a(function(t,n){n(e)})}return new n(e)},a.all=function(e){var t=Array.prototype.slice.call(e);return new a(function(e,n){function a(i,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(e){a(i,e)},n)}t[i]=r,0===--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)a(i,t[i])})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){e.forEach(function(e){a.resolve(e).then(t,n)})})},a.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":2,asap:4}],4:[function(e,t){(function(e){function n(){for(;o.next;){o=o.next;var e=o.task;o.task=void 0;var t=o.domain;t&&(o.domain=void 0,t.enter());try{e()}catch(e){if(l)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}r=!1}function a(t){i=i.next={task:t,domain:l&&e.domain,next:null},r||(r=!0,s())}var o={task:void 0,next:null},i=o,r=!1,s=void 0,l=!1;if("undefined"!=typeof e&&e.nextTick)l=!0,s=function(){e.nextTick(n)};else if("function"==typeof setImmediate)s="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=n,s=function(){c.port2.postMessage(0)}}else s=function(){setTimeout(n,0)};t.exports=a}).call(this,e("_process"))},{_process:1}],5:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(e){setTimeout(function(){throw e},0)})})},{}],6:[function(e){e("asap"),"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":2,"./lib/es6-extensions.js":3,"./polyfill-done.js":5,asap:4}]},{},[6]),function(e){if(!e){var t,n={};window.localStorage={setItem:function(e,t){return n[e]=String(t)},getItem:function(e){return n.hasOwnProperty(e)?n[e]:t},removeItem:function(e){return delete n[e]},clear:function(){return n={}}}}}(function(){try{return"localStorage"in window&&null!=window.localStorage}catch(e){return!1}}()),define("promise",function(){}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=u;l&&t.length&&(u=[],e(t))}function n(){l||(l=!0,r&&clearInterval(r),t())}function a(e){return l?e(c):u.push(e),a}var o,i,r,s="undefined"!=typeof window&&window.document,l=!s,c=s?document:null,u=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),i=document.createElement("div");try{o=null===window.frameElement}catch(e){}i.doScroll&&o&&window.external&&(r=setInterval(function(){try{i.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return a.version="2.0.1",a.load=function(e,t,n,o){o.isBuild?n(null):a(n)},a}),define("webcomponentsHbbtv",["domReady"],function(){var e=(navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1,"domReady");require([e],function(){console.log("POLYFILL"),navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1&&require(["promise","keycodes","hbbtvapp"],function(e,t,n){console.log("loading hbbtv libraries");try{var a=document.appmgr.getOwnerApplication(document);a.show()}catch(e){console.log("error hbbtvAdapter",e)}setKeyset(319)})})}),define("mediascape/Sharedstate/sharedstate",["socketio"],function(e){var t=function(t,n){var a=null,o={},r=Object.freeze({CONNECTING:"connecting",OPEN:"open",CLOSED:"closed"}),s={change:[],remove:[],readystatechange:[],presence:[]},l={},c={},u=!1,d={},p=function(e,t){n.logToConsole===!0&&console.info(e,t)},m=function(e,t){n.logToConsole===!0&&console.error(e,t)};n=n||{},n instanceof String&&(n={}),n.reconnection!==!1&&(n.reconnection=!0),n.agentid||(p("SHAREDSTATE - agentID undefined, generating one for this session"),n.agentid=(999999999*Math.random()).toFixed(0)),n.getOnInit!==!1&&(n.getOnInit=!0),n.autoPresence!==!1&&(n.autoPresence=!0),n.autoClean!==!0&&(n.autoClean=!1),n.forceNew=!0,n.multiplex=!1,t=t||{},n.logStateInterval===!0&&setInterval(function(){p("SharedSate("+t+"):",l)},5e3);var h=function(){a=e(t,n),a.on("connect",f),a.on("disconnect",v),a.on("joined",b),a.on("status",C),a.on("changeState",N),a.on("initState",w),a.on("ssError",g),z.set("connecting"),a.connected===!0&&f()},g=function(e){m("SharedState-error",e)},f=function(){if(a.connected===!0){z.set("connecting");var e={agentID:n.agentid};n.userId&&(e.userId=n.userId),E("join",e)}},y=function(e,t,n){if(!s.hasOwnProperty(e))throw"Unsupported event "+e;var a;for(i=0;i<s[e].length;i++){if(a=s[e][i],void 0===n){if(a._immediate_pending)continue}else{if(a!==n)continue;n._immediate_pending=!1}try{a._ctx?a.call(a._ctx,t):a.call(o,t)}catch(t){m("Error in "+e+": "+a+": "+t)}}},C=function(e){p('SHAREDSTATE - got "status"',e);for(var t=0;t<e.presence.length;t++)if(e.presence[t].key&&JSON.stringify(c[e.presence[t].key])!=JSON.stringify(e.presence[t].value||!c[e.presence[t].key])){var n={key:e.presence[t].key,value:e.presence[t].value||void 0};c[e.presence[t].key]=e.presence[t].value,y("presence",n)}else p('SHAREDSTATE - reveived "presence" already saved or something wrong',e.presence[t])},v=function(){z.set("connecting"),p('SHAREDSTATE - got "disconnected"')},N=function(e){p('SHAREDSTATE - got "changeState"',e),e=e||{};for(var t=0;t<e.length;t++)if("set"==e[t].type)if(e[t].key&&JSON.stringify(l[e[t].key])!=JSON.stringify(e[t].value)){var n={key:e[t].key,value:e[t].value,type:"add"};l[e[t].key]&&(n.type="update"),l[e[t].key]=e[t].value,y("change",n)}else p('SHAREDSTATE - reveived "set" already saved or something wrong',e[t]);else if("remove"==e[t].type&&e[t].key&&l[e[t].key]){var n={key:e[t].key,value:l[e[t].key],type:"delete"};delete l[e[t].key],y("remove",n)}},b=function(e){if(p('SHAREDSTATE - got "joined"',e),e.agentID==n.agentid)if(n.getOnInit===!0){var e=[];E("getInitState",e)}else z.set("open"),n.autoPresence===!0&&Z("online");n.autoClean&&setInterval(function(){for(var e in l)if(l.hasOwnProperty(e)&&0==e.indexOf("__meta__")){var t=e.substr(8);c[t]||S(t)}},15e3)},w=function(e){p("INITSTATE",e);for(var t=0,a=e.length;t<a;t++)if("set"==e[t].type&&e[t].key&&e[t].value&&JSON.stringify(l[e[t].key])!=JSON.stringify(e[t].value)){var o={key:e[t].key,value:e[t].value,type:"add"};l[e[t].key]=e[t].value,y("change",o)}z.set("open"),n.autoPresence===!0&&Z("online")},S=function(e){if(n.autoClean){p("*** Cleaning agent ",e);for(var t in l)l.hasOwnProperty(t)&&0==t.indexOf("__")&&t.indexOf("__"+e)>-1&&o.removeItem(t)}},E=function(e,t){p("SHAREDSTATE - sending",t),a.emit(e,t)},A=function(e,t,n){if(u){var a={type:"set",key:e,value:t};d[e]=a}else{if(z.get()!==r.OPEN)throw"SHAREDSTATE - setItem not possible - connection status:"+z.get();if(!e)throw"SHAREDSTATE - params with error - key:"+e+"value:"+t;var i=[{type:"set",key:e,value:t}];E("changeState",i)}return o},O=function(e,t){if(u){var n={type:"remove",key:e};d[e]=n}else{if(z.get()!=r.OPEN)throw"SHAREDSTATE - removeItem not possible - connection status:"+z.get();if(!l[e])throw"SHAREDSTATE - key with error - key:"+e;var a=[{type:"remove",key:e}];E("changeState",a)}return o},_=function(){return u=!0,o},k=function(){if(z.get()!=r.OPEN)throw"SHAREDSTATE - send not possible - connection status:"+z.get();if(u=!1,Object.keys(d).length>0){for(var e=[],t=Object.keys(d),n=0;n<t.length;n++)e.push(d[t[n]]);E("changeState",e),d={}}return o},x=function(e,t){if(void 0===e||null===e){var n=[];return void E("getState",n)}if(e+="",l[e])return JSON.parse(JSON.stringify(l[e]))},q=function(){return Object.keys(l)},z=function(){var e=r.CONNECTING;return{set:function(t){found=!1;for(key in r)r.hasOwnProperty(key)&&r[key]===t&&(found=!0);if(!found)throw"Illegal state value "+t;e!==r.CLOSED&&t!==e&&(e=t,y("readystatechange",t))},get:function(){return e}}}(),L=function(e,t,n){if(!t||"function"!=typeof t)throw"Illegal handler";if(!s.hasOwnProperty(e))throw"Unsupported event "+e;n&&(t._ctx=n);var a=s[e].indexOf(t);return a===-1&&(s[e].push(t),t._immediate_pending=!0,setTimeout(function(){switch(e){case"change":var n=Object.keys(l);if(0===n.length)t._immediate_pending=!1;else for(var a=0,o=n.length;a<o;a++){var i={key:n[a],value:l[n[a]],type:"update"};y("change",i,t)}break;case"presence":var n=Object.keys(c);if(0===n.length)t._immediate_pending=!1;else for(var a=0,o=n.length;a<o;a++){var r={key:n[a],value:c[n[a]]};y("presence",r,t)}break;case"remove":t._immediate_pending=!1;break;case"readystatechange":y("readystatechange",z.get(),t)}},0)),o},T=function(e,t){if(void 0!==s[e]){var n=s[e].indexOf(t);n>-1&&s[e].splice(n,1)}return o},Z=function(e){if(z.get()!=r.OPEN)throw"SHAREDSTATE - send not possible - connection status:"+z.get();if(!e)throw"SHAREDSTATE - params with error - state:"+e;var t={agentID:n.agentid,presence:e};return E("changePresence",t),o};return o.__defineGetter__("readyState",z.get),o.__defineGetter__("STATE",function(){return r}),o.__defineGetter__("agentid",function(){return n.agentid}),o.setItem=A,o.removeItem=O,o.request=_,o.send=k,o.getItem=x,o.keys=q,o.on=L,o.off=T,o.setPresence=Z,h(),o};return t.__moduleName="sharedState",t}),define("mediascape/Agentcontext/agentcontext",[""],function(){var t=function(){var t={},n={},a=[],o={},r=[],s=function(){for(var e=0;e<r.length;e++)try{r[e].call(t)}catch(e){console.log("Error in meta-update",e)}},l=function(e,n){o[e]=n,s(),d.call(t,"keychange",e)},c=function(e){for(var a in e)e.hasOwnProperty(a)&&(n[a]={currentValue:e[a].val||"undefined",callbacks:[],on:e[a].on,off:e[a].off},e[a].init?e[a].init.call(t):d.call(t,"keychange",a));return s(),t},u=function(){var e=[];for(k in n)e.push(k);return e},d=function(e,o,i){if("keychange"!==e){if(!n.hasOwnProperty(e))throw"Unsupported event "+e;for(var r,s=0;s<n[e].callbacks.length;s++){if(r=n[e].callbacks[s],void 0===i){if(r._immediate_pending)continue}else{if(r!==i)continue;i._immediate_pending=!1}try{r.call(t,o)}catch(t){console.log("Error in "+e+": "+r+": "+t)}}}else for(var s=0;s<a.length;s++)try{a[s].call(t,o)}catch(e){console.log("Error in keychange handler:"+o)}},p=function(o,i){if("keychange"===o)return void a.splice(a.indexOf(i),e);if("agentchange"===o){if(r.indexOf(i)==-1)throw"Callback not registered";return void r.splice(agent_update_handlers.indexOf(i),1)}if(!n.hasOwnProperty(o))throw"Unknown parameter "+o;if(void 0!==n[o].callbacks){var s=n[o].callbacks.indexOf(i);s>-1&&n[o].callbacks.splice(s,1),0===n[o].callbacks.length&&n[o].off&&(console.log("Turning "+o+" off"),n[o].off.call(t))}return t},m=function(e,o,i){if("keychange"===e)return a.push(o),void o.call(u());{if("agentchange"!==e){if(!o||"function"!=typeof o)throw"Illegal handler";if(!n.hasOwnProperty(e))throw"Unsupported event "+e;var s=n[e].callbacks.indexOf(o);return s===-1&&(0==n[e].callbacks&&t.requestHandler.call(t,e,i||"self")===!0&&n[e].on&&(console.log("Turning "+e+" on"),n[e].on.call(t)),n[e].callbacks.push(o),o._immediate_pending=!0,setTimeout(function(){d(e,{key:e,value:n[e].currentValue},o)},0)),t}console.log("*** Registered agentchange"),r.push(o);try{o.call(t)}catch(e){console.log("Error in agentchange handler",e)}}},h=function(e,a){return n.hasOwnProperty(e)||(i=[],i[e]={val:a},c(i)),n[e].currentValue=a,d(e,{key:e,value:a}),t},g=function(e){if(!n.hasOwnProperty(e))throw"Unknown item "+e;return n[e].currentValue};return t.loadContextElements=c,t.load=c,t.keys=u,t.on=m,t.off=p,t.setCapability=l,t.getCapability=function(e){return o[e]},t.capabilities=function(){return o},t.setItem=h,t.getItem=g,t.requestHandler=function(e,t){return console.log("Allowing "+e+" by "+t),!0},t};return t.__moduleName="agentContext",t}),define("mediascape/Applicationcontext/applicationcontext",["mediascape/Sharedstate/sharedstate","mediascape/Agentcontext/agentcontext"],function(){function e(t){if(null==t||"object"!=typeof t)return t;var n=t.constructor();for(var a in t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}var t=function(t,n){if(!mediascape.agentContext)throw"Missing Mediascape agentContext, please load the correct js files";var a=mediascape.agentContext;n=n||{};var o={},i={};if(void 0===mediascape.sharedState)throw"Missing Mediascape shared state, please include the correct js files";var r=function(t){var n={},a={agentchange:[]};n.agentid=t;var o=[];v.on("change",function(e){if(0==e.key.indexOf("__val__"+n.agentid)&&a[e.key]&&a[e.key].length>0)for(var t=0;t<a[e.key].length;t++)try{a[e.key][t].call(n.publicAPI,e)}catch(e){console.log("Error in callback: "+what)}});var i=function(){var e=v.getItem("__meta__"+n.agentid);return e?e.keys:[]},r=function(){var e=v.getItem("__meta__"+n.agentid);return e?e.capabilities:[]},s=function(e,t){if("agentchange"==e)return void a.agentchange.push(t);if(i().indexOf(e)==-1)throw"Unknown parameter "+e;var o=v.getItem("__metasub__"+v.agentid)||[],r=n.agentid+"_"+e;o.indexOf(r)==-1&&(o.push(r),v.setItem("__metasub__"+v.agentid,o)),void 0===a[e]&&(a[e]=[]),a[e].push(t);var s=v.getItem("__val__"+r);s&&t.call(n.publicAPI,e,s)},l=function(t,o){if("agentchange"==t)return void a[t].splice(a[t].indexOf(o),1);if(i().indexOf(t)==-1)throw"Unknown parameter "+t;var r=e(v.getItem("__metasub__"+v.agentid)),s=n.agentid+"_"+t;if(!(r.indexOf(s)>-1))throw"Not subscribed to "+t;return r.splice(r.indexOf(s),1),v.setItem("__metasub__"+v.agentid,r),a[t]?void a[t].splice(a[t].indexOf(s),1):void console.log("*** Warning: Missing handler for "+t)},c=function(e){var t={added:{},altered:{},removed:[]};for(var i in o)void 0===e.capabilities[i]&&t.removed.push(i);for(var i in e.capabilities)void 0===o[i]?t.added[i]=e.capabilities[i]:o[i]!=e.capabilities[i]&&(t.altered[i]=e.capabilities[i]);o=e.capabilities;for(var r=0;r<a.agentchange.length;r++)try{a.agentchange[r].call(n.publicAPI,{diff:t})}catch(e){console.log("Error in meta-update",e)}},u=function(e,t,o){if(void 0!==a[t])for(var i=0;i<a[t].length;i++)try{a[t][i].call(n.publicAPI,t,o)}catch(e){console.log("Error in update: ",e)}},d=function(e,t){v.setItem("__val__"+n.agentid+"_"+e,t)};return n.update_value=u,n.handlers=a,n.update_meta=c,publicAPI={},publicAPI.agentid=n.agentid,publicAPI.keys=i,publicAPI.on=s,publicAPI.off=l,publicAPI.setItem=d,publicAPI.capabilities=r,n.publicAPI=publicAPI,n},s={},l={},c={},u={},d={},p=function(e,t){if(void 0==N(e))return void console.log("Subscription update for unknown node",e);if(t=t||v.getItem("__metasub__"+e)){for(var n=(N(e).handlers,
l[e]||[]),o=0;o<t.length;o++){var i=t[o].substr(0,t[o].indexOf("_")),r=t[o].substr(t[o].indexOf("_")+1);if(i===v.agentid){if(n.indexOf(r)>-1)continue;void 0===s[r]&&(s[r]=[]),s[r].push(e),c[r]&&0!=c[r].length||(c[r]=function(e){v.setItem("__val__"+v.agentid+"_"+e.key,e.value)}),a.on(r,c[r])}}for(var o=0;o<n.length;o++)if(s.indexOf(n[o])==-1){var i=n[o].substr(0,n[o].indexOf("_")),r=n[o].substr(n[o].indexOf("_")+1);if(i!=v.agentid)continue;void 0!=s[r]?(s[r].splice(s[r].indexOf(n[o]),1),0==s[r].length&&a.off(r,c[r])):console.log(" *** Warning, unsub but don't have handler")}l[e]=t}},m=function(e,t,n){var a=N(e);a&&a.update_value(e,t,n)},h=[],g=[],f=function(e,t){"agentchange"==e?h.push(t):(g[e]||(g[e]=[]),g[e].push(t))},y=function(e,t){if("agentchange"==e){if(h.indexOf(t)==-1)throw"Handler not registered";h.splice(h.indexOf(t),1)}else{if(g[e].indexOf(t)==-1)throw"Handler not registered";g[e].splice(g[e].indexOf(t),1)}},C=function(e,t){if("agentchange"==e){if(t.agentContext?void 0==u[t.agentid]&&(u[t.agentid]={capabilities:{},keys:[]}):(delete u[t.agentid],console.log(u)),t.diff={capabilities:{},keys:[]},t.agentContext){var n=t.agentContext.capabilities();for(var a in n)n.hasOwnProperty(a)&&(u[t.agentid].capabilities||(u[t.agentid].capabilities={}),u[t.agentid].capabilities[a]!=n[a]&&(t.diff.capabilities[a]=n[a]));for(var i=t.agentContext.keys(),r=0;r<i.length;r++)u[t.agentid].keys.indexOf(i[r])==-1&&t.diff.keys.push(i[r]);u[t.agentid]={capabilities:n,keys:i}}for(var r=0;r<h.length;r++)try{h[r].call(o,t)}catch(e){console.log("Error in agentchange callback: ",e),console.log("cb:",h[r])}}else for(var r=0,s=g[e].length;r<s;r++)try{g[e][r].call(o,t)}catch(t){console.log("Error in agentchange callback: ",t),console.log("cb:",g[e][r])}};n.autoPresence=!1;var v=mediascape.sharedState(t,n).on("readystatechange",function(e){if(e===v.STATE.OPEN){v.setItem("__meta__"+v.agentid,t),v.setItem("__metasub__"+v.agentid,[]),v.setPresence("online");var t={keys:a.keys(),capabilities:a.capabilities()};a.on("keychange",function(e){var t={keys:a.keys(),capabilities:a.capabilities()};v.setItem("__meta__"+v.agentid,t)}),v.on("presence",function(e){var t=e.key;e.value;if("offline"==e.value)i.hasOwnProperty(t)&&(i[t]=null,delete i[t],C("agentchange",{agentid:t,agentContext:null}));else if("online"==e.value){i[t]||(i[t]=r(t));var n={added:{},altered:{},removed:[]},a=i[t].publicAPI.capabilities();if(void 0!=d[t])for(var o in d[t])console.log(o),void 0===a[o]&&n.removed.push(o);else d[t]=[];for(var o in a)void 0===d[t][o]?n.added[o]=a[o]:d[t][o]!=a[o]&&(n.altered[o]=a[o]);d[t]=a,p(t),C("agentchange",{agentid:t,agentContext:i[t].publicAPI,diff:n})}})}}).on("change",function(e){if(e.key.indexOf("__meta__")>-1){var t=e.key.substr(8),a=i[t];a?(a.update_meta(e.value),C("agentchange",{agentid:t,agentContext:i[t].publicAPI})):1==n.autoremove&&(v.removeItem("__meta__"+t),v.removeItem("__metasub__"+t))}else if(e.key.indexOf("__metasub__")>-1){var t=e.key.substr(11);p(t,e.value)}else if(e.key.indexOf("__val__")>-1){var t=e.key.substr(7).split("_")[0],o=e.key.substr(7).split("_")[1];m(t,o,e.value)}else if(e.key.indexOf("__global__")>-1){console.log("globalVar",e.key,e.value);var r=e.key.substr(10);g[r]&&C(r,{key:r,value:e.value})}else console.log("Unknown Change:"+JSON.stringify(e))}),N=function(e){return i[e]},b=function(){void 0==i[v.agentid]&&(i[v.agentid]=r(v.agentid));var e={self:i[v.agentid].publicAPI};for(var t in i)t!=v.agentid&&i[v.agentid]&&(e[t]=i[t].publicAPI);return e},w=function(e){if(void 0!=i[e.agentid])throw new Error("Already have agent '"+e.agentid+"'");i[e.agentid]=e,C("agentchange",{agentid:e.agentid,agentContext:e,diff:{added:e.capabilities()}})},S=function(e){if(i[e.agentid]!=e)throw new Error("Failed to remove agent '"+e.agentid+"'");delete i[e.agentid],C("agentchange",{agentid:e.agentid,agentContext:null})},E=function(e,t){e&&t&&v.setItem("__global__"+e,t)},A=function(){for(var e=v.keys(),t=[],n=0,a=e.length;n<a;n++)e[n].indexOf("__global__")>-1&&t.push(e[n].substr(10));return t},O=function(e){return v.getItem("__global__"+e)};return o.getAgents=b,o.on=f,o.off=y,o.setItem=E,o.getItem=O,o.keys=A,o.addAgent=w,o.removeAgent=S,o};return t.__moduleName="applicationContext",t}),define("mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/explicit",[""],function(){var e=function(){var e={},t={},n=function(e){for(var n=[],a=0;a<t.agents.length;a++){var o=t.agents[a],i=!0;for(var r in e)if(o.capabilities[r]!=e[r]){i=!1;break}i&&n.push(o)}return n},a=function(a){var o=!0;if(a.exists.length!=t.agents.length)o=!1;else if(a.exists)for(var i=0;i<a.exists.length;i++){var r=a.exists[i],s=e.behaviour.agents[r];if(0==n(s).length){o=!1;break}}else o=!1;return o},o=function(){for(var t={priority:e.priority,actions:[]},o=[],i=e.behaviour.rules,r=0;r<i.length;r++){var s=i[r];if(1==a(s.conditions)){for(var l in s.actions)for(var c=e.behaviour.agents[l],u=n(c),d=0;d<u.length;d++){var p=u[d],m={agent:p.id,actions:[]},h=s.actions[l];for(var g in h)1==h[g].load?m.actions.push({type:"SHOW",component:g,config:h[g]}):m.actions.push({type:"HIDE",component:g,config:h[g]});o.push(m)}break}}return t.actions=o,t};this.init=function(n,a){console.log("=============explicit_adaptation=== [init]================="),e=n,t=a},this.onChange=function(e,n){t=n;var a=o();return a}};return e.__moduleName="explicit",e}),define("mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/affinitymatch",[""],function(){var e=function(){console.log("=============implicit_adaptation====================");var e={},t={},n=function(e,t){for(var n=!0,a=0;a<t.length;a++)if(e[t[a].capability]!=t[a].value){n=!1;break}return n},a=function(e,t){for(var n=0,a=0;a<t.length;a++){var o=t[a].capability,i=t[a].value;o in e&&e[o]==i&&(n+=t[a].affinity)}return n},o=function(e,o){var i=[];console.log(t.agents);for(var r=0;r<t.agents.length;r++)if(1==n(t.agents[r].capabilities,e)){var s=a(t.agents[r].capabilities,o);i.push({id:t.agents[r].id,affinity:s})}return i},i=function(e,t){var n=[];for(var a in t){var i=a,r=t[a];console.log(r);var s=o(r.requirement,r.preference);if(!(s.length<=0)){var l=s.sort(function(e,t){return t.affinity-e.affinity});n.push({component:i,agent:l[0].id})}}return n},r=function(){for(var n={priority:config.priority,actions:[]},a=i(t.agents,e),o={},r=0;r<a.length;r++){var s=a[r].component,l=a[r].agent;l in o?o[l].push({type:"SHOW",component:s}):o[l]=[{type:"SHOW",component:s}]}for(var c in o)n.actions.push({agent:c,actions:o[c]});return n};this.init=function(n,a){console.log("=============affinity_matching=== [init]================="),console.log(n),config=n,t=a;for(var o=0;o<config.behaviour.length;o++){for(var i=config.behaviour[o],r={requirement:[],preference:[]},s=i.requirement.trim().split(")"),l=0;l<s.length;l++)if(!(s[l].indexOf("(")<0)){var c=s[l].split("("),u=c[0].trim(),d=c[1].trim();r.requirement.push({capability:u,value:d})}s=i.preference.trim().split(")");for(var l=0;l<s.length;l++)if(!(s[l].indexOf("(")<0)){var c=s[l].split("("),u=c[0].trim(),d=c[1].split(",")[0].trim(),p=c[1].split(",")[1].trim();r.preference.push({capability:u,value:d,affinity:p})}e[i.componentId]=r}console.log(e)},this.onChange=function(e,n){t=n;var a=r();return a}};return e.__moduleName="affinitymatch",e}),define("mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/bestfit",[""],function(){var e=function(){function e(e,t){if("screen"===t){var n=e.screenSize[1],a=Math.round(Math.sqrt(Math.pow(parseFloat(n.screenX),2)+Math.pow(parseFloat(n.screenY),2)));return a}if("touchable"===t){var o="";return o=void 0!=e.touchScreen.presence?e.touchScreen.presence:"supported"===e.touchScreen}return!1}function t(e,t){return 1===t.length||e._id<t[1]._id}function n(t,n){if(n.adaptationBehaviour.bestfit.indexOf("biggestScreenSize")!==-1){var a=e(t.capabilities,"screen");return a>8}if(n.adaptationBehaviour.bestfit.indexOf("touchable")!==-1){var o=e(t.capabilities,"touchable");return!!o&&(threshold=!0)}return!1}console.log("=============bestfitAdaptation====================");var a={},o={};this.init=function(e,t){console.log("=============bestfit=== [init]================="),a=e,o=t,this.components=mediascape.AdaptationToolkit.componentManager.core.getComponents();var n=e.behaviour;this.components.forEach(function(e){n.forEach(function(t){if(t.componentId===e.getAttribute("id")){e.adaptationBehaviour={};var n=[];n.push(t.needs),e.adaptationBehaviour.bestfit=t.bestfit,e.adaptationBehaviour.needs=n,e.adaptationBehaviour.required=t.required,e.adaptationBehaviour.movable=t.movable,e.adaptationBehaviour.duplicable=t.duplicable,e.adaptationBehaviour.videoLimit=t.videoLimit}})})},this.onChange=function(i,r){var s=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation,l=r.agents;o=r;var c={priority:a.priority,actions:[]},u=l.filter(function(e){return e.id===s.getAgentId()})[0];try{var d=s.getAgentId();c.actions=this.components.map(function(a){var o=l.filter(function(e){return e.id!==s.getAgentId()}),i=!1,r=!0;if(r=a.adaptationBehaviour.needs.every(function(t){if("none"===t)return!0;if("x86"===t&&navigator.appVersion.indexOf("x86")===-1)return!1;if(t.toLowerCase().indexOf("screensize")>-1&&t.operation&&"bigger"===t.operation){var n=e(u.capabilities,"screen");return n>parseInt(t.value)}return!(t.toLowerCase().indexOf("touchable")>-1)||!!this.getCapability(u.capabilities,"touchable")},this),!r)return{type:"HIDE",component:a.getAttribute("id")};var c=mediascape.AdaptationToolkit.Adaptation.UIAdaptation.getScreenSize().extra;mediascape.screenX=c[1].screenX,mediascape.screenY=c[1].screenY,myScreen=Math.round(Math.sqrt(Math.pow(parseFloat(mediascape.screenX),2)+Math.pow(parseFloat(mediascape.screenY),2))),myInteractivity=e(u.capabilities,"touchable"),o=o.filter(function(e){return"none"===a.adaptationBehaviour.needs[0]||("x86"===a.adaptationBehaviour.needs[0]?e.capabilities.platform.indexOf("x86")!=-1:void 0)}),o.forEach(function(t){t.note=0,t.screen=e(t.capabilities,"screen"),t.interactivity=e(t.capabilities,"touchable")},this);var d=[],p="";return o.length>0?(o.forEach(function(e){a.adaptationBehaviour.bestfit.indexOf("biggestScreenSize")!==-1?e.screen<myScreen?d.push("1"):e.screen>myScreen?d.push("0"):t(u,l)?d.push("11"):d.push("10"):a.adaptationBehaviour.bestfit.indexOf("smallestScreenSize")!==-1&&(e.screen<myScreen?d.push("0"):e.screen>myScreen?d.push("1"):t(u,l)?d.push("11"):d.push("11")),a.adaptationBehaviour.bestfit.indexOf("touchable")!==-1&&(!e.interactivity&&myInteractivity&&d.push("1"),e.interactivity&&!myInteractivity&&d.push("0"),(e.interactivity&&myInteractivity||!e.interactivity&&!myInteractivity)&&(t(u,l)?d.push("11"):d.push("10")))},this),p=d.indexOf("0")>-1?"0":d.indexOf("10")==-1&&d.indexOf("11")==-1?"1":d.indexOf("10")>-1?"10":"11"):p=1,(1!=a.adaptationBehaviour.duplicable||1!=a.adaptationBehaviour.required||"1"!=p&&"10"!=p&&"11"!=p||"x-media"===a.nodeName.toLowerCase())&&(0!=a.adaptationBehaviour.duplicable||1!=a.adaptationBehaviour.required||"1"!=p&&"11"!=p||i||"x-media"===a.nodeName.toLowerCase())?0!=a.adaptationBehaviour.duplicable||1!=a.adaptationBehaviour.required||"1"!=p&&"11"!=p||!i||"x-media"===a.nodeName.toLowerCase()?(1!=a.adaptationBehaviour.duplicable||0!=a.adaptationBehaviour.required||"1"!=p&&"10"!=p&&"11"!=p||!n(u,a)||"x-media"===a.nodeName.toLowerCase())&&(0!=a.adaptationBehaviour.duplicable||0!=a.adaptationBehaviour.required||"1"!=p&&"11"!=p||i||!n(u,a)||"x-media"===a.nodeName.toLowerCase())?0!=a.adaptationBehaviour.duplicable||0!=a.adaptationBehaviour.required||"1"!=p&&"11"!=p||!i||"x-media"===a.nodeName.toLowerCase()?1!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"1"!=p&&"11"!=p||a.adaptationBehaviour.videoLimit.indexOf("main")===-1?1!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"1"!=p&&"11"!=p||a.adaptationBehaviour.videoLimit.indexOf("other")===-1?1!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"10"!=p&&"0"!=p||a.adaptationBehaviour.videoLimit.indexOf("other")===-1?1!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"10"!=p&&"0"!=p||a.adaptationBehaviour.videoLimit.indexOf("main")===-1?0!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"1"!=p&&"11"!=p||a.adaptationBehaviour.videoLimit.indexOf("main")===-1||!n(u,a)?(0!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"1"!=p&&"11"!=p||a.adaptationBehaviour.videoLimit.indexOf("other")===-1||!n(u,a))&&(0!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"10"!=p&&"0"!=p||a.adaptationBehaviour.videoLimit.indexOf("main")===-1||!n(u,a))?0!=a.adaptationBehaviour.required||"x-media"!==a.nodeName.toLowerCase()||"10"!=p&&"0"!=p||a.adaptationBehaviour.videoLimit.indexOf("other")===-1||!n(u,a)?{type:"HIDE",component:a.getAttribute("id")}:{type:"SHOW",component:a.getAttribute("id")}:{type:"HIDE",component:a.getAttribute("id")}:{type:"SHOW",component:a.getAttribute("id")}:{type:"HIDE",component:a.getAttribute("id")}:{type:"SHOW",component:a.getAttribute("id")}:{type:"HIDE",component:a.getAttribute("id")}:{type:"SHOW",component:a.getAttribute("id")}:{type:"HIDE",component:a.getAttribute("id")}:{type:"SHOW",component:a.getAttribute("id")}:{type:"HIDE",component:a.getAttribute("id")}:{type:"SHOW",component:a.getAttribute("id")}},this)}catch(e){console.log(e,cmp)}return c.agent=d,c}};return e.__moduleName="bestfit",e}),define("mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/userpref",[""],function(){var e=function(){var e={},t={};this.init=function(n,a){console.log("=============personal_adaptation=== [init]================="),console.log(n),e=n,t=a},this.onChange=function(n,a){t=a;var o=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation,i=a.agents,r=i.filter(function(e){return e.id===o.getAgentId()})[0],s={priority:e.priority,actions:[]};if(r){var l=r.capabilities.componentsStatus;if(l&&"supported"!==l)for(c in l)"object"==typeof l[c]&&l[c].customCmd.length>0&&("true"===o.getApplicationContext().getItem("reset")?(mediascape.AdaptationToolkit.Utils.removeFromArray(l[c].customCmd,"hide"),mediascape.AdaptationToolkit.Utils.removeFromArray(l[c].customCmd,"show"),setTimeout(function(){mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getApplicationContext().setItem("reset","false")},2500)):(l[c].customCmd.lastIndexOf("show")!=-1||l[c].customCmd.lastIndexOf("hide")!=-1)&&l[c].customCmd.lastIndexOf("show")>=l[c].customCmd.lastIndexOf("hide")?s.actions.push({type:"SHOW",component:l[c].selector}):l[c].customCmd.lastIndexOf("hide")!=-1&&s.actions.push({type:"HIDE",component:l[c].selector}))}return console.log(s),s}};return e.__moduleName="userpref",e}),define("mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/hbbtv",[""],function(){var e=function(){console.log("=============hbbtvAdaptation====================");var e={},t={};this.init=function(n,a){console.log("=============hbbtvAdaptation=== [init]================="),e=n,t=a,this.components=mediascape.AdaptationToolkit.componentManager.core.getComponents()},this.onChange=function(n,a){var o=(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation,a.agents);t=a;var i={priority:e.priority,actions:[]};if("TV"==mediascape.deviceType){this.componets.forEach(function(e){"broadcast"==e.getAttribute("type")&&i.actions.push({type:"SHOW",component:e.selector}),"broadcast"!=e.getAttribute("type")&&"X-MEDIA"==e.nodeName&&i.actions.push({type:"HIDE",component:e.selector})})}return i.agent=o[0],console.log("DECISION TV",i.actions[0]),i}};return e.__moduleName="hbbtv",e}),define("mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/mdadaptation",["jquery","mediascape/Applicationcontext/applicationcontext","mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/explicit","mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/affinitymatch","mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/bestfit","mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/userpref","mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/plugins/hbbtv"],function(e,t){var n={},a=null,o=Array.prototype.slice.apply(arguments),i=2;for(i=2;i<o.length;i++){var r=o[i].__moduleName;n[r]=o[i]}var s=function(){var t,o=void 0,i=["show","hide"],r={agents:[]},s="ui",l=[],u={},d={},p=!1,m=[],h=[],g=function(e){for(var t=0;t<h.length;t++)try{h[t].call(self,e)}catch(e){console.log("Error in agentchange callback: ",e)}},f=function(e){for(var t=0,n=null,a=0;a<e.length;a++)e[a].priority>t&&(t=e[a].priority,null===n?n=e[a].actions:n.forEach(function(t){e[a].actions.forEach(function(e){t.component===e.component&&(t.type=e.type)})}));return n},y=function(e){for(var t=0;t<r.agents.length;t++)if(r.agents[t].id==e)return!0;return!1},C=function(e){for(var t=0;t<r.agents.length;t++)if(r.agents[t].id==e)return r.agents[t];return null},v=function(e){var t=o.getItem("order_agentid")||[];return t.lastIndexOf(e)===-1&&(t.push(e),o.setItem("order_agentid",t)),t.lastIndexOf(e)},N=function(e,t){var n=C(e);if(n){if(a=n.capabilities.componentsStatus,t.length!=a.length||"supported"===a||"undefined"===a)return[];var o=mediascape.AdaptationToolkit.Utils.getObjectDiff(t,a);return 0===o.length&&(o=r.lastChange.diff,o&&o.length>3&&(o=[])),o}return[]},b=function(e){if("AGENT_JOIN"===e.type){if(0==y(e.agentid)){var t=v(e.agentid);r.agents.push({_id:t,id:e.agentid,capabilities:[],agentContext:e.agentContext})}}else if("VALUE_CHANGE"===e.type){var n=C(e.agentid);if(!n){var t=v(e.agentid);n={_id:t,id:e.agentid,capabilities:[],agentContext:e.agentContext},r.agents.push(n),n=C(e.agentid)}for(var a in e.capabilities)n.capabilities[a]=e.capabilities[a]}else if("AGENT_LEFT"===e.type){console.log("existing agent is leaving"),L("left",e.agentid);for(var o=0;o<r.agents.length;o++)if(r.agents[o].id==e.agentid){console.log("remove it from the list"),r.agents.splice(o,1);break}}},w=function(e){console.log("********************* capabilities change event **********************"),e.forEach(function(e){var t=null;if("componentsStatus"===e.capability&&(t=N(e.agentid,e.value)),null!=t)e.diff&&(t=e.diff,e.capability="componentsStatus"),r.lastChange={key:e.capability,value:e.value,diff:t},r.agentid=e.agentid,t[0]&&(s="customCmd"===t[0].property&&i.indexOf(t[0].newValue)===-1?"data":"ui");else if("componentsStatus"!==e.capability){r.lastChange={key:e.capability,value:e.value,diff:null},r.agentid=e.agentid,s="ui";var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation;n.notifyUpdateContext(r,"cmp_changed",r.agentid),"layoutParameter"===e.capability&&(s="data")}var a=C(e.agentid);a.capabilities[e.capability]=e.value})},S=function(e){for(var t=[],n=0;n<m.length;n++){var a=m[n].onChange(e,r);a&&a.actions.length>0&&t.push(a)}if(t.length>0){var o=f(t),i=o;if(i&&i.length&&i.length>0){var l={type:"FULL_UPDATE",actions:i,agentid:e.agentid};"ui"===s&&g(l);var c=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation;c.getApplicationContext().getItem("reset")&&(l.agentid=c.getAgentId()),E(l)}}},E=function(e){var t=e.actions.map(function(e){return"SHOW"===e.type?document.querySelector("#"+e.component).getAttribute("compId"):null}),n=mediascape.AdaptationToolkit.componentManager.core.getComponentsStatus(),a=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation,o=a.getLocalContext().agents.filter(function(t){return a.getAgentId()===t.id&&e.agentid===a.getAgentId()})[0];if(o){var i=o.capabilities.componentsStatus;"undefined"!==i&&"supported"!==i&&i||(i=mediascape.AdaptationToolkit.componentManager.core.getComponents());var s=i.map(function(e){if(e.compId=e.compId?e.compId:e.getAttribute("compId"),e.selector=e.selector?e.selector:e.getAttribute("id"),t.indexOf(e.compId)>-1){var n={};return n.show=!0,n.compId=e.compId,n.selector=e.selector,n.customCmd=e.customCmd||[],n}var n={};return n.show=!1,n.compId=e.compId,n.selector=e.selector,n.customCmd=e.customCmd||[],n},this);s=s||[];var l=[];if(n.length>0&&(l=N(o.id,s)),l&&(l.length>0||0===n.length)){mediascape.AdaptationToolkit.componentManager.core.setComponentsStatus(s);var c=new CustomEvent("onComponentsChange",{detail:{type:"localChange",cmps:s,agentid:o.id}});document.dispatchEvent(c),a.notifyUpdateContext(r,"cmp_changed",r.agentid)}}else{var u=a.getLocalContext().agents.filter(function(t){return t.id===e.agentid})[0],l=N(e.agentid,u.capabilities.componentsStatus),c=new CustomEvent("onComponentsChange",{detail:{type:"localChange",cmps:s,agentid:u.id}});document.dispatchEvent(c),console.log("other agent change <<<<<><")}},A=function(e){var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation;"agentChange"===e.contextType&&b(e),"capabilityChange"===e.contextType&&w(e);var n=r.agents.every(function(e){return!!e.capabilities.hasOwnProperty("screenSize")});n&&y(t.getAgentId())&&("capabilityChange"===e.contextType?S(e[0]):"layoutEvent"!==e.capability&&S(e))},O=function(e){d[e.agentid]={contextType:"capabilityChange",time:(new Date).getTime(),changes:[],oldtime:(new Date).getTime()};var t=0;for(t=0;t<l.length;t++){var n=l[t],a=e.diff.capabilities;1==a.hasOwnProperty(n)&&e.agentContext.on(n,function(t,n){if(console.log("capture"),t&&n){var a={};a.type="CAPABILITY_CHANGE",a.agentid=e.agentid,a.capability=t,a.value=n,a.agentContext=e.agentContext;var o=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId();if(e.agentid===o&&"layoutEvent"===t){if(""!=n&&"supported"!=n){mediascape.AdaptationToolkit.Adaptation.UIAdaptation.useLayout(n);var i=new CustomEvent("layoutEvent",{detail:{layoutName:n}});document.dispatchEvent(i),mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgents().self.setItem("layoutEvent","")}}else e.agentid===o&&"layoutParameter"===t&&""!=n&&"supported"!=n&&mediascape.AdaptationToolkit.Adaptation.UIAdaptation.onRemoteCommand(n);if(u.groupCapacities){d[e.agentid].time=(new Date).getTime();var r=Math.abs(d[e.agentid].oldtime-d[e.agentid].time);if(r>600)clearTimeout(d[e.agentid].timeout),d[e.agentid].changes.contextType="capabilityChange",d[e.agentid].changes.push(a),A(d[e.agentid].changes),d[e.agentid].oldtime=(new Date).getTime(),d[e.agentid].changes=[];else{d[e.agentid].changes.push(a),d[e.agentid].changes.contextType="capabilityChange";e.agentid;d[e.agentid].timeout||function(t,n){t[n].timeout=setTimeout(function(){t[n].oldtime=(new Date).getTime(),A(t[n].changes),t[e.agentid].timeout=void 0},1e3)}(d,e.agentid)}}else d[e.agentid].changes.push(a),d[e.agentid].changes.contextType="capabilityChange",A(d[e.agentid].changes),d[e.agentid].changes=[]}},e.agentid)}},_=function(e){if(null==e.agentContext){x();var t={};t.type="AGENT_LEFT",t.agentid=e.agentid,t.value="left",t.contextType="agentChange",console.log("^^^^^^^^^^^^^^^^^^^^^^^"+e.agentid+"left==============="),setTimeout(function(){A(t)},500),L("left",e.agentid)}else if(e.agentContext){var t={};t.type="VALUE_CHANGE",t.agentid=e.agentid,t.value="value_change",t.key=e.key,t.contextType="agentChange",t.capabilities=e.diff.capabilities,t.agentContext=e.agentContext,A(t),O(e);var n=C(e.agentid);if(0===Object.keys(e.diff.capabilities).length&&!n.notified){e.agentid;x();var a=setInterval(function(){if(n.capabilities&&n.capabilities.componentsStatus){var t=mediascape.AdaptationToolkit.componentManager.core.getComponents().length;n.capabilities.componentsStatus.length===t&&"string"!=typeof n.capabilities.componentsStatus&&(clearInterval(a),n.notified=!0,p=!0,L("join",e.agentid),console.log("^^^^^^^^^^^^^^^^^^^^^^^"+e.agentid+"join==============="),mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getApplicationContext().setItem("reset","false"))}},1e3)}console.groupEnd()}};this.setContext=function(e){r=e;var t=C(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()),n={};n.type="CAPABILITY_CHANGE",n.agentid=t.id,n.capability="componentsStatus",n.value=t.capabilities.componentsStatus,console.log("^^^^^^^^^^^^^^^^^^^^^^^"+t.agentid+"Reset comopnentsStatus==============="),S(n)};var k=function(e){},x=function(){console.log("RESETING!!!"),o.setItem("reset","true")},q=function(e){var t=[];u=e,t.push(u.explicitRules);var a=0;for(a in u.implicitRules)t.push(u.implicitRules[a]);t.push(u.userPreferences);var o=0;for(o=0;o<t.length;o++){var i=t[o];if(1==i.enabled){var s=new n[i.name];s.init(i,r),m.push(s);var c=0;for(c=0;c<i.capabilities.length;c++)l.indexOf(i.capabilities[c])<0&&l.push(i.capabilities[c])}}},z=function(t){e.ajaxSetup({cache:!1}),e.getJSON(t+"?"+(new Date).getTime(),function(e){if(1==e.userPreferences.enabled){var t={};t.operation={init:function(){this.setCapability("operation","supported")}},mediascape.agentContext.load(t),console.log("=============hook adaptation contextual menu"),k(e.userPreferences.behaviour)}q(e),o.on("agentchange",_),e.applicationAttributes.forEach(function(e){o.on(e,function(e){var t=new CustomEvent("appAttributeChange",{detail:{key:e.key,value:e.value}});document.dispatchEvent(t)})})}).error(function(){alert("error parsing rule JSON")})};this.getRules=function(){return u},this.init=function(e,n){console.log("===================init adaptation engine============"),o=n||o,t=o.getAgents().self.agentid,z(e)},this.setPriority=function(e,t){},this.on=function(e,t){if("actionchange"!=e)throw"incorrect callback"+e;h.push(t)},this.off=function(e,t){if("actionchange"!=e)throw"incorrect callback: "+e;if(h.indexOf(t)==-1)throw"handler not registered";h.splice(h.indexOf(t),1)},this.startApplicationContext=function(){map=mediascape.mappingService({maxTimeout:8e3}),mediascape.AdaptationToolkit.Utils.getUrlVar("group")?this.GROUP_ID=mediascape.AdaptationToolkit.Utils.getUrlVar("group"):this.GROUP_ID="mediascape"+mediascape.AdaptationToolkit.Utils.createGroupId();var e=this;map.getGroupMapping(e.GROUP_ID).then(function(e){o||(o=mediascape.applicationContext(e.group,{autoClean:!0})),console.log("mappingService working!!"),t=o.getAgents().self.agentid;var n=new CustomEvent("applicationContext-ready",{detail:"application context ready"});document.dispatchEvent(n)})},this.getAgents=function(){return o.getAgents()},this.getApplicationContext=function(){return o},this.getAgentId=function(){return t},this.getLocalContext=function(){return r},this.notifyUpdateContext=function(e,t,n){var a=new CustomEvent("contextUpdate",{detail:{context:e,type:t,agentid:n}});document.dispatchEvent(a)};var L=function(e,t){setTimeout(function(){var n=C(t),a=null!=n?n.capabilities.platform:"unknown",o=new CustomEvent("agentChange",{detail:{status:e,agentid:t,profile:a}});document.dispatchEvent(o)},0)};this.changeAgentlayout=function(e,t){var n=r.agents,a=n.filter(function(t){return t.id===e})[0];if(!a)throw new Error("agent does not exits on remote layout change");a.agentContext.setItem("layoutEvent",t)},this.setRemoteAgentComponentStatus=function(e,t,n){var a=r.agents,o=[];if(0===a.length)throw new Error("no agent registered");var s=null;if(a.forEach(function(a){if(a.id===e){o=a.capabilities.componentsStatus;for(c in o)o[c].compId===t&&(s=a,o[c].customCmd.push(n),i.indexOf(n)>-1?o.eventType="ui":o.eventType="data")}}),null!=s)if(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgents().self.agentid===e){C(e);mediascape.agentContext.setItem("componentsStatus",o),"data"!==o.eventType?setTimeout(function(){A({type:"VALUE_CHANGE",agentid:e,diff:[{property:"customCmd",newValue:n,compId:t}]})},0):setTimeout(function(){r.lastChange.diff=[{property:"customCmd",newValue:n,compId:t}],mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.notifyUpdateContext(r,"cmp_changed",e)},0)}else s.agentContext.setItem("componentsStatus",o);else console.warn("No change made it",e,t,n)},this.setAppAttribute=function(e,t){o.setItem(e,t)},this.getAppAttribute=function(e){return o.getItem(e)},this.setLayoutParameter=function(e,t){var n=C(e);if(n.id===this.getAgentId()){var a=new CustomEvent("onLayoutParameterChange",{detail:t});document.dispatchEvent(a)}else n.agentContext.setItem("layoutParameter",t)}};return s.__moduleName="multiDeviceAdaptation",s}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor",[],function(){var e=function(e){this.name=e,this.onComponentsChange=function(e){},this.onOrientationChange=function(e){},this.onRemoteCommand=function(e){console.log("Remote cmd",e)},this.render=function(e){},this.checkForImplementation=function(){if(console.group("Layout "+e),!this.onComponentsChange||this.onComponentsChange.getBody().trim().length<4)console.warn("You must implement onComponentsChange function");else if(!this.onOrientationChange||this.onOrientationChange.getBody().trim().length<4)console.warn("You must implement onOrientationChange function");else if(!this.render||this.render.getBody().trim().length<4)console.warn("You must implemented render function");else if(!this.onLayoutChangeEvent||this.onLayoutChangeEvent.getBody().trim().length<4)console.warn("You must implemented onLayoutChangeEvent function");else{if(this.onResizeEvent&&!(this.onResizeEvent.getBody().trim().length<4))return!this.onActivity||this.onActivity.getBody().trim().length<4?(console.warn("You could need onActivity function but it is not implemented"),console.groupEnd(),!0):(console.log("0 errors"),console.groupEnd(),!0);console.warn("You must implemented onResizeEvent function")}console.groupEnd()}};return e.__moduleName="layoutConstructor",e}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/pip",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t,n=new e("pip");n.listeners=[];var a=[];return n.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),o=0;o<t.length;o++)t[o].style.width="",t[o].style.height="",t[o].style.gridColumn="",t[o].style.gridRow="",t[o].className="",t[o].style.order="",t[o].style.position="",t[o].style.backgroundColor="",t[o].style.marginLeft="",t[o].style.marginTop="",t[o].style.float="",t[o].style.zIndex="",t[o].style.boxShadow="",t[o].style.borderLeft="",t[o].style.animationName="",t[o].style.animationDuration="",t[o].style.left="",t[o].style.top="",t[o].style.transformOrigin="",t[o].style.outline="",t[o].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var o=1;o<t.length;o++)null!=document.querySelector("#compDiv"+o)&&componentsContainer.removeChild(document.querySelector("#compDiv"+o));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var o=0;o<t.length;o++)null!=document.querySelector("#name"+t[o].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[o].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")}if(document.querySelector("#swContainer")){for(var o=0;o<t.length;o++)if(document.querySelector("#swContainer").querySelector("#"+t[o].id)){var i=document.querySelector("#"+t[o].id);componentsContainer.appendChild(i);
}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")));mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,t){!function(t){function o(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(a[t]);var n=this;a[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",o,!0),e.removeEventListener("mousemove",o,!1),e.addEventListener("mousemove",o),n.listeners.push(o)}(t)})},n.render=function(e,n,a){document.body.style.backgroundColor="white",document.body.style.padding="";var o=document.querySelector("#componentsContainer");o.style.display="inline-block",o.style.overflowX="hidden";var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=i-20-Math.round(.33*i),s=Math.round(.33*i),l=e.length-1,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=[];u=e.sort(function(e,t){return parseInt(e.lproperties.order)>parseInt(t.lproperties.order)?1:-1});for(var d=0;d<u.length;d++)u[d].style.position="absolute";var p=[];if(1!=n&&0!=n){t=u[0];for(var d=1;d<u.length;d++)p.push(u[d])}else{t=a;for(var d=0;d<u.length;d++)u[d].id!==a.id&&p.push(u[d])}var m=[],h=10;m.push(20);for(var g=!0,d=0;d<l;d++){if(comp_height=s*p[d].lproperties.propy/p[d].lproperties.propx,h+comp_height+10>c-0){g=!1;break}h=h+comp_height+10,m.push(comp_height),m.push(10)}if(g===!0){m.push(c-h),t.style.marginLeft="0px",t.style.width=i+10+"px",t.style.height=c+"px",t.style.marginTop="0px",t.style.backgroundColor="white",t.style.zIndex="1",t.className="",usedHeight=0;for(var d=0;d<l;d++)p[d].style.marginLeft=r+"px",p[d].style.width=s+"px",p[d].style.height=m[2*d+1],p[d].style.marginTop=usedHeight+m[2*d]+"px",p[d].style.backgroundColor="black",p[d].style.zIndex="2",usedHeight=usedHeight+m[2*d]+m[2*d+1],p[d].className="right-content-panel"}else{var f=parseInt((c-70)/l)-10;t.style.marginLeft="0px",t.style.width=i+10+"px",t.style.height=c+"px",t.style.marginTop="0px",t.style.backgroundColor="white",t.style.zIndex="1",t.className="";for(var d=0;d<l;d++)p[d].style.marginLeft=r+"px",p[d].style.width=s+"px",p[d].style.height=f+"px",p[d].style.marginTop=20+d*f+10*d+"px",p[d].style.backgroundColor="black",p[d].style.zIndex="2",p[d].className="right-content-panel"}mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},n.onOrientationChange=function(e){console.log("test")},n.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.top="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var o=document.querySelector("#"+e[t].id);componentsContainer.appendChild(o)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery();mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,t){!function(t){function o(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(a[t]);var n=this;a[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",o,!0),e.removeEventListener("mousemove",o,!1),e.addEventListener("mousemove",o),n.listeners.push(o)}(t)})},n.onPriorizeComponent=function(e){var t=e,n=!0,a=this.cmps;this.render(a,n,t)},n.onResizeEvent=function(e){console.log("layout changed");for(var n=!0,a=0;a<e.length;a++)e[a].style.width="",e[a].style.height="",e[a].style.gridColumn="",e[a].style.gridRow="",e[a].style.order="";null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));var o=t;this.render(e,n,o),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},n.unload=function(e){n.listeners.forEach(function(t){for(var n=0;n<e.length;n++)e[n].removeEventListener("mousemove",t,!0),e[n].removeEventListener("mousemove",t,!1),clearTimeout(a[n])},this),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!1)},n.__moduleName="pipLayout",n}),window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1},define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/menu",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("menu");return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.render=function(e,t,n){function a(e){e.srcElement.style.borderBottom="",e.srcElement.style.background="",e.srcElement.style.fontWeight="",e.srcElement.style.height=Math.round(.05*l)+"px"}function o(e){e.srcElement.style.background="#003545",e.srcElement.style.borderBottom="5px solid lightgreen",e.srcElement.style.fontWeight="bold",e.srcElement.style.height=Math.round(.05*l)-5+"px"}document.body.style.backgroundColor="white",document.body.style.padding="";var i=document.querySelector("#componentsContainer");i.style.display="inline-block",i.style.gridAutoFlow="",i.style.overflowX="";var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=e.length-1,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;main_comp_height=Math.round(.95*(l+10));var c=Math.round(.05*(l+10)),u=parseInt((r-20)/s),d=[];d=e.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1});var p=document.createElement("style");p.type="text/css",p.id="layout_classes";for(var m=0;m<s+1;m++)if(0===m)p.innerHTML=".class0 {background-color:white;object-fit:fill;width:"+(r+10)+"px; height:"+(main_comp_height+c)+"px;z-index:1;}",document.getElementsByTagName("head")[0].appendChild(p),1!=n&&0!=n&&1!=t&&0!=t&&(d[m].className="class0",d[m].style.display="block");else{p.innerHTML=p.innerHTML+".class"+m+" {}",document.getElementsByTagName("head")[0].appendChild(p),1!=n&&0!=n&&1!=t&&0!=t&&(d[m].className="class"+m,d[m].style.display="none")}if(t===!0){for(var m=1;m<d.length;m++){var h=document.createElement("span");h.id="compDiv"+m,h.innerHTML=document.querySelector(".class"+m).getAttribute("name")||document.querySelector(".class"+m).id,h.style.width=u,h.style.height=Math.round(.05*l)+"px",h.style.marginLeft=(m-1)*parseInt(u)+10+"px",h.style.textAlign="center",h.verticalAlign="middle",h.style.lineHeight=Math.round(.05*l)+"px",h.style.fontSize=.4*c+"px",h.style.fontFamily="arial",h.style.zIndex=3,h.style.cursor="pointer",h.style.color="#fff",h.style.position="absolute",h.style.bottom=0,h.addEventListener("mouseout",a,!0),h.addEventListener("mouseover",o,!0),h.onclick=function(){var e=event.srcElement.id.split("compDiv")[1];document.querySelector("#compDiv"+e).innerHTML=document.querySelector(".class0").getAttribute("name")||document.querySelector(".class0").id;var t=document.querySelector(".class0").id;document.querySelector(".class"+e).className="class0",document.querySelector("#"+t).className="class"+e,document.querySelector(".class0").style.display="block",document.querySelector(".class"+e).style.display="none"},h.ontap=function(){var e=event.srcElement.id.split("compDiv")[1];document.querySelector("#compDiv"+e).innerHTML=document.querySelector(".class0").getAttribute("name")||document.querySelector(".class0").id;var t=document.querySelector(".class0").id;document.querySelector(".class"+e).className="class0",document.querySelector("#"+t).className="class"+e,document.querySelector(".class0").style.display="block",document.querySelector(".class"+e).style.display="none"},i.appendChild(h)}var g=document.createElement("div");g.style.position="absolute",g.style.width=r+10+"px",g.style.height=Math.round(.05*(l+10))+"px",g.style.zIndex=2,g.id="menu_container",g.style.background="rgb(0, 64, 80);",g.style.background="linear-gradient(#003040, #002535)",g.style.borderWidth="0 1px",g.style.bottom=0,i.appendChild(g)}},t.onOrientationChange=function(e){console.log("test")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.onResizeEvent=function(e){console.log("layout changed");for(var t=!0,n=!0,a=0;a<e.length;a++)e[a].style.width="",e[a].style.height="",e[a].style.gridColumn="",e[a].style.gridRow="",e[a].style.order="";null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var a=1;a<e.length;a++)null!=document.querySelector("#compDiv"+a)&&componentsContainer.removeChild(document.querySelector("#compDiv"+a));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container")),this.render(e,n,t),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onActivity=function(e){for(var t=!0,n=1;n<e.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes")),null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container")),this.render(e,t);var a=this;return this.timer=setTimeout(function(){t=!1;for(var n=1;n<e.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container")),null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes")),a.render(e,t)},3e3),this.timer},t.unload=function(e){clearTimeout(this.timer)},t.__moduleName="menuLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/horizontal",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("horizontal");return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.render=function(e){document.body.style.backgroundColor="white",document.body.style.padding="";var t=document.querySelector("#componentsContainer");t.style.display="inline-block",t.style.gridAutoFlow="",t.style.overflow="hidden",t.style.height="100%";var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=e.length;n+=10;var i=Math.round((a+10)/o),r=[];r=e.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1});for(var s=0;s<r.length;s++)r[s].style.width=n+"px",r[s].style.height=i+"px",r[s].style.backgroundColor="black";mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onOrientationChange=function(e){console.log("test")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.onResizeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].className="";null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes")),this.render(e),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.unload=function(e){},t.__moduleName="horizontalLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/customGrid",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("customGrid");return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")));var o=function(){null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"));for(var t=0;t<e.length;t++)e[t].style.top=e[t].offsetTop+"px",e[t].style.left=e[t].offsetLeft+"px";for(var t=0;t<e.length;t++)e[t].style.position="absolute";var n=document.createElement("drag-resize");componentsContainer.appendChild(n)},i=this,r=function(){if(null!=document.querySelector("drag-resize")){componentsContainer.removeChild(document.querySelector("drag-resize"));for(var t=[],n=0;n<e.length;n++)e[n].lproperties.propx=e[n].style.width.split("px")[0],e[n].lproperties.propy=e[n].style.height.split("px")[0],e[n].lproperties.rwidth=e[n].style.width,e[n].style.position="",t.push(Math.sqrt(Math.pow(parseInt(e[n].style.top.split("px")[0]),2)+Math.pow(parseInt(e[n].style.left.split("px")[0]),2)));for(var a=new Array(t.length),n=0;n<t.length;++n)a[n]=n;a.sort(function(e,n){return t[e]<t[n]?-1:t[e]>t[n]?1:0});for(var n=0;n<e.length;n++)e[a[n]].lproperties.order=n+1;i.render(e)}},s=function(){null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))};mediascape.AdaptationToolkit.uiComponents.customPanel(o,r,s)},t.render=function(e){document.body.style.backgroundColor="white",document.body.style.padding="";var t=document.querySelector("#componentsContainer");t.style.overflowX="",t.style.display="grid",t.style.gridAutoFlow="row dense";var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=Math.round(n/10),i=Math.round(a/10),r=n/o,s=a/i;t.style.gridTemplateColumns="repeat("+o+","+r+"px)",t.style.gridTemplateRows="repeat("+i+","+s+"px)";for(var l=0;l<e.length;l++)e[l].style.order=e[l].lproperties.order,e[l].style.gridColumn="span "+Math.round(parseInt(e[l].lproperties.rwidth.split("px")[0])/r),e[l].style.width=Math.round(parseInt(e[l].lproperties.rwidth.split("px")[0])/r)*r+"px",e[l].style.height=Math.round(parseInt(e[l].lproperties.rwidth.split("px")[0])/r)*r*e[l].lproperties.propy/e[l].lproperties.propx+"px",e[l].style.gridRow="span "+Math.round(parseInt(e[l].style.height.split("px")[0])/s),e[l].style.backgroundColor="black"},t.onOrientationChange=function(e){console.log("test")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",
e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")));var a=function(){null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"));for(var t=0;t<e.length;t++)e[t].style.top=e[t].offsetTop+"px",e[t].style.left=e[t].offsetLeft+"px";for(var t=0;t<e.length;t++)e[t].style.position="absolute";var n=document.createElement("drag-resize");componentsContainer.appendChild(n)},o=this,i=function(){if(null!=document.querySelector("drag-resize")){componentsContainer.removeChild(document.querySelector("drag-resize"));for(var t=[],n=0;n<e.length;n++)e[n].lproperties.propx=e[n].style.width.split("px")[0],e[n].lproperties.propy=e[n].style.height.split("px")[0],e[n].lproperties.rwidth=e[n].style.width,e[n].style.position="",t.push(Math.sqrt(Math.pow(parseInt(e[n].style.top.split("px")[0]),2)+Math.pow(parseInt(e[n].style.left.split("px")[0]),2)));for(var n=0;n<e.length;n++)e[n].style.top="",e[n].style.left="";for(var a=new Array(t.length),n=0;n<t.length;++n)a[n]=n;a.sort(function(e,n){return t[e]<t[n]?-1:t[e]>t[n]?1:0});for(var n=0;n<e.length;n++)e[a[n]].lproperties.order=n+1;o.render(e)}},r=function(){null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))};mediascape.AdaptationToolkit.uiComponents.customPanel(a,i,r)},t.onResizeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].className="";null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes")),this.render(e)},t.unload=function(e){},t.__moduleName="customGridLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/accordion",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("accordion");t.listeners=[];var n="",a=[];return t.onComponentsChange=function(e){this.cmps=e;for(var n=mediascape.AdaptationToolkit.componentManager.core.getComponents(),o=0;o<n.length;o++)n[o].style.width="",n[o].style.height="",n[o].style.gridColumn="",n[o].style.gridRow="",n[o].className="",n[o].style.order="",n[o].style.position="",n[o].style.backgroundColor="",n[o].style.marginTop="",n[o].style.marginLeft="",n[o].style.float="",n[o].style.zIndex="",n[o].style.boxShadow="",n[o].style.borderLeft="",n[o].style.animationName="",n[o].style.animationDuration="",n[o].style.left="",n[o].style.transformOrigin="",n[o].style.outline="",n[o].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var o=1;o<n.length;o++)null!=document.querySelector("#compDiv"+o)&&componentsContainer.removeChild(document.querySelector("#compDiv"+o));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container")),null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu"));for(var o=0;o<n.length;o++)null!=document.querySelector("#name"+n[o].id)&&componentsContainer.removeChild(document.querySelector("#name"+n[o].id));if(null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var o=0;o<n.length;o++)if(document.querySelector("#swContainer").querySelector("#"+n[o].id)){var i=document.querySelector("#"+n[o].id);componentsContainer.appendChild(i)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,n){!function(n){function o(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(a[n]);var t=this;a[n]=setTimeout(function(){t.querySelector("#menuBar"+t.id).style.display="none"},3e3)}e.removeEventListener("mousemove",o,!0),e.removeEventListener("mousemove",o,!1),e.addEventListener("mousemove",o),t.listeners.push(o)}(n)})},t.render=function(e){document.body.style.backgroundColor="white",document.body.style.padding="";for(var a=mediascape.AdaptationToolkit.componentManager.core.getComponents(),o=0;o<a.length;o++)a[o].className="",a[o].style.width="",a[o].style.height="",a[o].style.order="";var i=document.querySelector("#componentsContainer");i.style.display="inline-block",i.style.overflowX="hidden",i.style.whiteSpace="nowrap";var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;r-=0;var s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=e.length,c=r/l;i.style.height=s;var u=[];if(u=e.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1}),1===u.length)u[0].style.position="absolute",u[0].style.width=r+"px",u[0].style.height=s-50+"px",u[0].style.backgroundColor="white",u[0].style.marginLeft=0,u[0].style.float="left",u[0].style.zIndex=1,u[0].style.boxShadow="0 0 15px 5px rgba(0, 0, 0, 0.5)",u[0].style.borderLeft="1px solid #888";else for(var o=0;o<e.length;o++){u[o].style.position="absolute",u[o].style.width=c+"px",u[o].style.height=s-50+"px",u[o].style.backgroundColor="white",u[o].style.marginLeft=c*o,u[o].style.float="left",u[o].style.zIndex=o,u[o].style.boxShadow="0 0 15px 5px rgba(0, 0, 0, 0.5)",u[o].style.borderLeft="1px solid #888",!function(e){function a(e){this.timeout&&clearTimeout(this.timeout),e.srcElement=e.srcElement||e.target,n===e.srcElement.id&&clearTimeout(this.timeout),this.id===n?clearTimeout(this.timeout):this.timeout=setTimeout(s,1500)}function o(e){clearTimeout(this.timeout)}function s(){for(var t=0;t<u.length;t++)u[t].id===u[e].id?(u[e].style.width=.6*r+"px",u[e].style.animationName="",u[e].style.animationDuration="",u[e].style.marginLeft=.4*r/(u.length-1)*t+"px",i.querySelector("#name"+u[e].id).style.width=.6*r+"px",i.querySelector("#name"+u[e].id).style.borderLeft="10px solid lightgreen",i.querySelector("#name"+u[e].id).style.left=.4*r/(u.length-1)*t-8+"px",n=u[e].id):(u[t].style.width=.4*r/(u.length-1)+"px",i.querySelector("#name"+u[t].id).style.borderLeft="",i.querySelector("#name"+u[t].id).style.width=.4*r/(u.length-1)+"px",t<e&&(u[t].style.animationName="shrink",u[t].style.animationDuration="1s",u[t].style.marginLeft=.4*r/(u.length-1)*t+"px",i.querySelector("#name"+u[t].id).style.left=.4*r/(u.length-1)*t-8+"px"),t>e&&(u[t].style.animationName="grow",u[t].style.animationDuration="1s",u[t].style.marginLeft=.4*r/(u.length-1)*(t-1)+.6*r+"px",i.querySelector("#name"+u[t].id).style.left=parseInt(u[t].style.marginLeft.split("px")[0])-8+"px"));mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()}u[e].removeEventListener("mouseover",a,!1),u[e].removeEventListener("mouseleave",o,!0),u[e].addEventListener("mouseover",a,!1),u[e].addEventListener("mouseleave",o,!0),t.listeners.push(a),t.listeners.push(o)}(o),document.querySelector("#name"+u[o].id)&&i.removeChild(document.querySelector("#name"+u[o].id));var d=document.createElement("div");d.id="name"+u[o].id,d.style.background="#003040",d.style.background="linear-gradient(#003040, #002535)",d.style.opacity="1",d.style.fontFamily="Nunito, arial, verdana",d.style.position="absolute",d.style.left=c*o-8,d.style.bottom="0",d.style.width=r+"px",d.style.textAlign="left",d.style.zIndex=o,d.style.boxShadow="0 0 15px 5px rgba(0, 0, 0, 0.5)",d.style.transition="all 0.5s",i.appendChild(d);var p=document.createElement("a");p.innerHTML=u[o].id,p.style.display="block",p.style.color="#fff",p.style.textDecoration="none",p.style.padding="20px",p.style.fontSize="16px",d.appendChild(p)}},t.onOrientationChange=function(e){console.log("test")},t.onPriorizeComponent=function(e){this.timeout&&clearTimeout(this.timeout);var t=document.querySelector("#componentsContainer"),a=[];a=this.cmps.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1});for(var o="",i=0;i<a.length;i++)a[i].id===e.id&&(o=i);for(var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=0;s<a.length;s++)a[s].id===a[o].id?(a[o].style.width=.9*r+"px",a[o].style.marginLeft=.1*r/(a.length-1)*s+"px",t.querySelector("#name"+a[o].id).style.borderLeft="10px solid lightgreen",t.querySelector("#name"+a[o].id).style.width=.9*r+"px",t.querySelector("#name"+a[o].id).style.left=.1*r/(a.length-1)*s-8+"px",n=a[o].id):(a[s].style.width=.1*r/(a.length-1)+"px",t.querySelector("#name"+a[s].id).style.borderLeft="",t.querySelector("#name"+a[s].id).style.width=.1*r/(a.length-1)+"px",s<o&&(a[s].style.marginLeft=.1*r/(a.length-1)*s+"px",t.querySelector("#name"+a[s].id).style.left=.1*r/(a.length-1)*s-8+"px"),s>o&&(a[s].style.marginLeft=.1*r/(a.length-1)*(s-1)+.9*r+"px",t.querySelector("#name"+a[s].id).style.left=parseInt(a[s].style.marginLeft.split("px")[0])-8+"px"));mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onLayoutChangeEvent=function(e){for(var n=0;n<e.length;n++)e[n].style.width="",e[n].style.height="",e[n].style.gridColumn="",e[n].style.gridRow="",e[n].className="",e[n].style.order="",e[n].style.position="",e[n].style.backgroundColor="",e[n].style.marginLeft="",e[n].style.marginTop="",e[n].style.float="",e[n].style.zIndex="",e[n].style.boxShadow="",e[n].style.borderLeft="",e[n].style.animationName="",e[n].style.animationDuration="",e[n].style.display="block",e[n].style.left="",e[n].style.transformOrigin="",e[n].style.outline="",e[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<e.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<e.length;n++)null!=document.querySelector("#name"+e[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var n=0;n<e.length;n++)if(document.querySelector("#swContainer").querySelector("#"+e[n].id)){var o=document.querySelector("#"+e[n].id);componentsContainer.appendChild(o)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,n){!function(n){function o(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(a[n]);var t=this;a[n]=setTimeout(function(){t.querySelector("#menuBar"+t.id).style.display="none"},3e3)}e.removeEventListener("mousemove",o,!0),e.removeEventListener("mousemove",o,!1),e.addEventListener("mousemove",o),t.listeners.push(o)}(n)})},t.onResizeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].className="";null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes")),this.render(e),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.unload=function(e){t.listeners.forEach(function(t){for(var n=0;n<e.length;n++)e[n].removeEventListener("mouseover",t,!0),e[n].removeEventListener("mouseleave",t,!0),e[n].removeEventListener("mouseover",t,!1),e[n].removeEventListener("mouseleave",t,!1),e[n].removeEventListener("mousemove",t,!0),e[n].removeEventListener("mousemove",t,!1),clearTimeout(a[n])},this),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!1)},t.__moduleName="accordionLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/verticalMenu",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("verticalMenu");t.listeners=[];var n="";return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container")),null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.render=function(e,o,i){document.body.style.backgroundColor="white",document.body.style.padding="";var r=document.querySelector("#componentsContainer");r.style.display="inline-block",r.style.overflowX="";var s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=[];c=e.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1}),c[0].style.width=s+"px",c[0].style.height=l+"px",n=c[0].id;for(var u=1;u<c.length;u++)c[u].style.display="none",c[u].style.width=s+"px",c[u].style.height=l+"px";var d=document.createElement("div");d.id="menu",d.style.display="none",d.style.position="absolute",d.style.fontFamily="Nunito, arial, verdana",d.style.top=0,d.style.right=0,d.style.zIndex="999";var p=document.createElement("h3"),m=document.createElement("img");m.src="../resources/images/menu.png",m.style.width="20px",m.style.marginTop="10px",m.style.marginRight="10px",p.style.margin="0",p.style.padding="0",p.appendChild(m),p.innerHTML=p.innerHTML+"Components",p.style.fontSize="16px",p.style.lineHeight="34px",p.style.padding="0 10px",p.style.background="#003040",p.style.background="linear-gradient(#003040, #002535)",d.appendChild(p),ul=document.createElement("ul"),ul.style.margin="0",ul.style.padding="0";for(var u=0;u<c.length;u++)li=document.createElement("li"),a=document.createElement("a"),c[u].id===n&&(a.style.borderLeft="5px solid red"),a.innerHTML=c[u].id,li.style.listStyleType="none",a.style.color="white",a.style.textDecoration="none",a.style.display="block",a.style.fontSize="12px",a.style.fontWeight="bold",a.style.lineHeight="27px",a.style.padding="0px 15px",a.style.transition="all 0.15s",a.style.cursor="pointer",!function(e){function a(t){e.innerHTML!==n&&(e.style.borderLeft=""),e.style.background=""}function o(t){e.style.background="#003545",e.innerHTML!==n&&(e.style.borderLeft="5px solid lightgreen")}function i(t){componentsContainer.querySelector("#"+t.srcElement.innerHTML).style.display="block",e.style.borderLeft="5px solid red",n=t.srcElement.innerHTML;for(var a=0;a<c.length;a++)c[a].id!==t.srcElement.innerHTML&&(c[a].style.display="none",document.querySelector("#menu").querySelectorAll("a")[a].style.borderLeft="")}e.addEventListener("click",i,!0),e.addEventListener("mouseout",a,!0),e.addEventListener("mouseover",o,!0),t.listeners.push(i),t.listeners.push(a),t.listeners.push(o)}(a),li.appendChild(a),ul.appendChild(li);d.style.background="#004050",d.style.width="250px",d.style.margin="auto 0 auto",d.style.color="white",d.style.boxShadow="0 5px 15px 1px rgba(0, 0, 0, 0.6), 0 0 200px 1px rgba(255, 255, 255, 0.5)",d.appendChild(ul),document.body.appendChild(d)},t.onOrientationChange=function(e){console.log("test")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.onResizeEvent=function(e){for(var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=0;a<e.length;a++)e[a].style.width=t+"px",e[a].style.height=n+"px";mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onActivity=function(e){return document.querySelector("#menu").style.animationName="menuDown",document.querySelector("#menu").style.animationDuration="1s",this.downTimer=setTimeout(function(){document.querySelector("#menu")&&(document.querySelector("#menu").style.display="block")},1e3),this.timer=setTimeout(function(){document.querySelector("#menu").style.animationName="menuUp",document.querySelector("#menu").style.animationDuration="1s",this.upTimer=setTimeout(function(){document.querySelector("#menu").style.display="none"},500)},3e3),this.timer},t.unload=function(e){t.listeners.forEach(function(e){for(var t=0;t<document.querySelector("#menu").querySelectorAll("a").length;t++)document.querySelector("#menu").querySelectorAll("a")[t].removeEventListener("tap",e),document.querySelector("#menu").querySelectorAll("a")[t].removeEventListener("mouseover",e),document.querySelector("#menu").querySelectorAll("a")[t].removeEventListener("mouseout",e)},this),clearTimeout(this.downTimer),clearTimeout(this.upTimer),clearTimeout(this.timer)},t.__moduleName="verticalMenuLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/scrollHorizontal",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("scrollHorizontal");t.listeners=[],t.timeouts=[];return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.render=function(e){function n(e){for(var n=0;n<c.length;n++)c[n].style.animationName="",c[n].style.animationDuration="";if(d.idx=d.idx+1,d.idx<=c.length-1){c[d.idx].style.animationName="UpIn",c[d.idx].style.animationDuration="1s",c[d.idx-1].style.animationName="UpOut",c[d.idx-1].style.animationDuration="2s",c[d.idx].style.display="block";var a=setTimeout(function(){c[d.idx-1].style.display="none"},2e3);t.timeouts.push(a)}else{d.idx=0,c[d.idx].style.animationName="UpIn",c[d.idx].style.animationDuration="1s",c[c.length-1].style.animationName="UpOut",c[c.length-1].style.animationDuration="2s",c[d.idx].style.display="block";var o=setTimeout(function(){c[c.length-1].style.display="none"},2e3);t.timeouts.push(o)}}function a(e){for(var n=0;n<c.length;n++)c[n].style.animationName="",c[n].style.animationDuration="";if(d.idx=d.idx-1,d.idx>=0){c[d.idx].style.animationName="DownIn",c[d.idx].style.animationDuration="1s",c[d.idx+1].style.animationName="DownOut",c[d.idx+1].style.animationDuration="2s",c[d.idx].style.display="block";var a=setTimeout(function(){c[d.idx+1].style.display="none"},2e3);t.timeouts.push(a)}else{d.idx=c.length-1,c[d.idx].style.animationName="DownIn",c[d.idx].style.animationDuration="1s",c[0].style.animationName="DownOut",c[0].style.animationDuration="2s",c[d.idx].style.display="block";var o=setTimeout(function(){c[0].style.display="none";
},2e3);t.timeouts.push(o)}}document.body.style.backgroundColor="white",document.body.style.padding="";var o=document.querySelector("#componentsContainer");o.style.display="inline-block",o.style.overflowX="",o.style.width="100%";var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;i+=10;var s=document.createElement("img");s.id="upArrowImg",s.src="../resources/images/carousel_arrow_up.jpg",s.style.width="10%",s.style.left="45%",s.style.position="absolute",s.style.top=0,document.body.appendChild(s);var l=document.createElement("img");l.id="downArrowImg",l.src="../resources/images/carousel_arrow_down.jpg",l.style.width="10%",l.style.left="45%",l.style.position="absolute",l.style.bottom=0,document.body.appendChild(l);var c=[];c=e.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1}),this.idx=0;for(var u=0;u<c.length;u++)0===u?c[u].style.display="block":c[u].style.display="none",c[u].style.position="absolute",c[u].style.width=i+"px",c[u].style.height=r+"px";var d=this;l.addEventListener("click",n),t.listeners.push(n),s.addEventListener("click",a),t.listeners.push(a);for(var u=0;u<c.length;u++)!function(e){function n(e){if(e.yDirection>0){for(var n=0;n<c.length;n++)c[n].style.animationName="",c[n].style.animationDuration="";if(d.idx=d.idx-1,d.idx>=0){c[d.idx].style.animationName="DownIn",c[d.idx].style.animationDuration="1s",c[d.idx+1].style.animationName="DownOut",c[d.idx+1].style.animationDuration="2s",c[d.idx].style.display="block";var a=setTimeout(function(){c[d.idx+1].style.display="none"},2e3);t.timeouts.push(a)}else{d.idx=c.length-1,c[d.idx].style.animationName="DownIn",c[d.idx].style.animationDuration="1s",c[0].style.animationName="DownOut",c[0].style.animationDuration="2s",c[d.idx].style.display="block";var o=setTimeout(function(){c[0].style.display="none"},2e3);t.timeouts.push(o)}}else{for(var n=0;n<c.length;n++)c[n].style.animationName="",c[n].style.animationDuration="";if(d.idx=d.idx+1,d.idx<=c.length-1){c[d.idx].style.animationName="UpIn",c[d.idx].style.animationDuration="1s",c[d.idx-1].style.animationName="UpOut",c[d.idx-1].style.animationDuration="2s",c[d.idx].style.display="block";var i=setTimeout(function(){c[d.idx-1].style.display="none"},2e3);t.timeouts.push(i)}else{d.idx=0,c[d.idx].style.animationName="UpIn",c[d.idx].style.animationDuration="1s",c[c.length-1].style.animationName="UpOut",c[c.length-1].style.animationDuration="2s",c[d.idx].style.display="block";var r=setTimeout(function(){c[c.length-1].style.display="none"},2e3);t.timeouts.push(r)}}}c[e].addEventListener("trackend",n,!0),t.listeners.push(n)}(u)},t.onOrientationChange=function(e){console.log("test")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.onResizeEvent=function(e){console.log("layout changed");for(var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=0;a<e.length;a++)e[a].style.position="absolute",e[a].style.width=t+"px",e[a].style.height=n+"px";mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.unload=function(e){for(var n=0;n<t.timeouts.length;n++)clearTimeout(t.timeouts[n]);t.listeners.forEach(function(t){for(var n=0;n<e.length;n++)e[n].removeEventListener("trackend",t,!0);document.querySelector("#downArrowImg").removeEventListener("tap",t,!0),document.querySelector("#upArrowImg").removeEventListener("tap",t,!0)},this)},t.__moduleName="scrollHorizontalLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/spinner",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){function t(e,t){var n=360/t.length;spinnerFig=document.querySelector("#spinnerFig"),e?a-=n:a+=n,spinnerFig.style.transform="rotateY("+a+"deg)"}var n=new e("spinner");n.listeners=[];var a=0,o="",i=[],r="",s="";return n.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),a=0;a<t.length;a++)t[a].style.width="",t[a].style.height="",t[a].style.gridColumn="",t[a].style.gridRow="",t[a].className="",t[a].style.order="",t[a].style.position="",t[a].style.backgroundColor="",t[a].style.marginTop="",t[a].style.marginLeft="",t[a].style.float="",t[a].style.zIndex="",t[a].style.boxShadow="",t[a].style.borderLeft="",t[a].style.animationName="",t[a].style.animationDuration="",t[a].style.left="",t[a].style.transformOrigin="",t[a].style.outline="",t[a].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var a=1;a<t.length;a++)null!=document.querySelector("#compDiv"+a)&&componentsContainer.removeChild(document.querySelector("#compDiv"+a));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var a=0;a<t.length;a++)null!=document.querySelector("#name"+t[a].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[a].id));if(null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var a=0;a<t.length;a++)if(document.querySelector("#swContainer").querySelector("#"+t[a].id)){var o=document.querySelector("#"+t[a].id);componentsContainer.appendChild(o)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,t){!function(t){function a(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(i[t]);var n=this;i[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",a,!0),e.removeEventListener("mousemove",a,!1),e.addEventListener("mousemove",a),n.listeners.push(a)}(t)})},n.render=function(e){function o(n){t("-",e)}function i(n){t("",e)}document.body.style.backgroundColor="white",document.body.style.padding="";var l=document.querySelector("#componentsContainer");l.style.overflowX="",l.style.display="inline-block",l.style.backgroundColor="white";var c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;l.style.width=c+"px",l.style.height=u+"px",r=c>=900?"500px":c<900&&c>600?"300px":"200px",s=u>=450?"300px":u<450&&u>380?"200px":"150px",l.querySelector("figure")&&l.removeChild(l.querySelector("figure"));var d=document.createElement("figure");d.id="spinnerFig",d.style.transformStyle="preserve-3d",d.style.minHeight="122px",d.style.transformOrigin="50% 50% -"+r,d.style.transition="1s",d.style.transform="rotateY("+a+"deg)",l.style.perspective="1200px",l.querySelector("#back")&&l.removeChild(l.querySelector("#back"));var p=document.createElement("img");p.id="back",p.src="../resources/images/back.png",p.style.width="6%",p.style.right="30px",p.style.position="absolute",p.style.zIndex="99999",p.style.top="30px",p.style.display="none",l.appendChild(p);for(var m=360/e.length,h=0;h<e.length;h++)d.appendChild(e[h]),e[h].style.width="35%",e[h].style.height=s,e[h].style.position="absolute",e[h].style.left="30%",e[h].style.transformOrigin="50% 50% -"+r,e[h].style.outline="1px solid transparent",e[h].style.transform="rotateY("+(0-h*m)+"deg)";l.appendChild(d),l.querySelector("#arrows")&&l.removeChild(l.querySelector("#arrows"));var g=document.createElement("div");g.id="arrows";var f=document.createElement("img");f.src="resources/images/Previous-256.png",f.id="left",f.style.opacity="1";var y=document.createElement("img");y.src="resources/images/Next-256.png",y.id="right",y.style.marginLeft="1%",y.style.opacity="1",y.addEventListener("mouseover",function(){event.srcElement.style.opacity="0.5"}),y.addEventListener("mouseleave",function(){event.srcElement.style.opacity="1"}),f.addEventListener("mouseover",function(){event.srcElement.style.opacity="0.5"}),f.addEventListener("mouseleave",function(){event.srcElement.style.opacity="1"}),y.addEventListener("up",function(){y.style.opacity="0.5",setTimeout(function(e){y.style.opacity="1"},1e3)}),f.addEventListener("up",function(){f.style.opacity="0.5",setTimeout(function(e){f.style.opacity="1"},1e3)}),g.appendChild(f),g.appendChild(y),g.style.position="absolute",g.style.bottom="100px",g.style.width="15%",f.style.width="49%",y.style.width="50%",g.style.left="40%",f.addEventListener("click",o),y.addEventListener("click",i),n.listeners.push(o),n.listeners.push(i),l.appendChild(g),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},n.onPriorizeComponent=function(e){for(var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=360/this.cmps.length,u="",d=0;d<this.cmps.length;d++)this.cmps[d].id===e.id&&(u=d);var p=this;n.listeners.forEach(function(e){for(var t=0;t<p.cmps.length;t++)p.cmps[t].removeEventListener("mousemove",e,!0),p.cmps[t].removeEventListener("mousemove",e,!1),clearTimeout(i[t])}),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(this.cmps,!1),e.style.width=t+"px",e.style.height=l+"px",e.style.left="0%",e.style.transformOrigin="",e.style.outline="",e.style.transform="",e.style.animationName="spinnerToFullscreen",e.style.animationDuration="1s",e.style.zIndex="9999",e.style.backgroundColor="white",document.querySelector("#spinnerFig").style.transformStyle="",document.querySelector("#spinnerFig").style.minHeight="",document.querySelector("#spinnerFig").style.transformOrigin="",document.querySelector("#spinnerFig").style.width="100%",document.querySelector("#spinnerFig").style.height="100%",document.querySelector("#spinnerFig").style.margin="0",document.querySelector("#spinnerFig").style.transform="",document.querySelector("#spinnerFig").style.transition="";var m=document.querySelector("#componentsContainer");m.style.perspective="";for(var h=0;h<this.cmps.length;h++)u!==h&&(this.cmps[h].style.display="none");var g=document.querySelector("#back");g.style.display="block",clickedCmp=e,o=e;var p=this;mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery(),!function(e,t){function l(u){e.style.width="35%",e.style.height=s,e.style.left="30%",e.style.transformOrigin="50% 50% -"+r,e.style.outline="1px solid transparent",e.style.transform="rotateY("+(0-t*c)+"deg)",e.style.zIndex="",e.style.backgroundColor="";for(var d=0;d<p.cmps.length;d++)t!==d&&(p.cmps[d].style.display="block");document.querySelector("#spinnerFig").style.transformStyle="preserve-3d",document.querySelector("#spinnerFig").style.minHeight="122px",document.querySelector("#spinnerFig").style.transformOrigin="50% 50% -"+r,document.querySelector("#spinnerFig").style.transform="rotateY("+a+"deg)",document.querySelector("#spinnerFig").style.width="",document.querySelector("#spinnerFig").style.height="",document.querySelector("#spinnerFig").style.margin="",m.style.perspective="1200px",g.style.display="none",g.removeEventListener("tap",l,!0),document.querySelector("#spinnerFig").style.transition="1s",e.style.animationName="",e.style.animationDuration="",mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery(),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(p.cmps,!0),p.cmps.forEach(function(e,t){!function(t){function a(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(i[t]);var n=this;i[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",a,!0),e.removeEventListener("mousemove",a,!1),e.addEventListener("mousemove",a),n.listeners.push(a)}(t)}),setTimeout(function(){e.style.animationName="",e.style.animationDuration=""},1500),o=""}g.addEventListener("click",l),n.listeners.push(l)}(clickedCmp,u)},n.onOrientationChange=function(e){console.log("orientationCHANGED")},n.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var a=document.querySelector("#"+e[t].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,t){!function(t){function a(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(i[t]);var n=this;i[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",a,!0),e.removeEventListener("mousemove",a,!1),e.addEventListener("mousemove",a),n.listeners.push(a)}(t)})},n.onResizeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].className="",e[t].style.display="block",clearTimeout(i[t]);mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!1),null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes")),this.render(e),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0)},n.onActivity=function(e,n){if(""===o&&"keydown"===n.type){console.log(n),n.preventDefault();var a=document.querySelector("#left"),i=document.querySelector("#right");switch(n.keyIdentifier){case"Right":t("",e),i.style.opacity=.5;break;case"Up":t("",e),i.style.opacity=.5;break;case"Left":t("-",e),a.style.opacity=.5;break;case"Down":t("-",e),a.style.opacity=.5;break;default:console.warn("key event not identified at spinner")}setTimeout(function(){i.style.opacity=1,a.style.opacity=1},500)}},n.unload=function(e){n.listeners.forEach(function(t){for(var n=0;n<e.length;n++)e[n].removeEventListener("mousemove",t,!0),e[n].removeEventListener("mousemove",t,!1),clearTimeout(i[n]);document.querySelector("#left").removeEventListener("tap",t,!0),document.querySelector("#right").removeEventListener("tap",t,!0),document.querySelector("#back").removeEventListener("tap",t,!0)},this),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!1)},n.__moduleName="spinnerLayout",n}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/divided",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("divided");return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.top="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.render=function(e){document.body.style.backgroundColor="white",document.body.style.padding="";var t=document.querySelector("#componentsContainer");t.style.display="block",t.style.gridAutoFlow="",t.className="template-all-layouts",t.style.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=[];if(a=e.sort(function(e,t){return parseInt(e.lproperties.order)>parseInt(t.lproperties.order)?1:-1}),1===a.length)for(var o=0;o<a.length;o++)a[o].className="col-md-12 layout-fullwidth";else if(2===a.length)for(var o=0;o<a.length;o++)a[o].className="col-md-6 layout-fullwidth",n>992&&(a[o].style.position="absolute",1===o&&(a[o].style.left="50%"));else if(3===a.length)for(var o=0;o<a.length;o++)a[o].className="col-md-6 layout-horizontal-divided",n>992&&(a[o].style.position="absolute",(o+1)%2===0&&(a[o].style.left="50%"),o<a.length/2?a[o].style.top="0%":a[o].style.top="50%");else if(4===a.length)for(var o=0;o<a.length;o++)a[o].className="col-md-6 layout-horizontal-divided",n>992&&(a[o].style.position="absolute",(o+1)%2===0&&(a[o].style.left="50%"),o<a.length/2?a[o].style.top="0%":a[o].style.top="50%");else if(5===a.length)for(var o=0;o<a.length;o++)a[o].className="col-md-4 layout-horizontal-divided",n>992&&(a[o].style.position="absolute",a[o].style.top=50*Math.floor(o/3)+"%",a[o].style.left=33.333333*(o-3*Math.floor(o/3))+"%");else if(6===a.length)for(var o=0;o<a.length;o++)a[o].className="col-md-4 layout-horizontal-divided",n>992&&(a[o].style.position="absolute",a[o].style.top=50*Math.floor(o/3)+"%",a[o].style.left=33.333333*(o-3*Math.floor(o/3))+"%");else for(var o=0;o<a.length;o++)a[o].className="col-md-4 layout-horizontal-three-divided",n>992&&(a[o].style.position="absolute",a[o].style.top=33.333333*Math.floor(o/3)+"%",a[o].style.left=33.333333*(o-3*Math.floor(o/3))+"%");mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onOrientationChange=function(e){console.log("orientationChange")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.top="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.onResizeEvent=function(e){for(var t=0;t<e.length;t++)e[t].style.position="",e[t].style.top="",e[t].style.left="";this.render(e)},t.unload=function(e){},t.__moduleName="dividedLayout",t}),define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/carousel",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t=new e("carousel");t.listeners=[];var n;return t.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),n=0;n<t.length;n++)t[n].style.width="",t[n].style.height="",t[n].style.gridColumn="",t[n].style.gridRow="",t[n].className="",t[n].style.order="",t[n].style.position="",t[n].style.backgroundColor="",t[n].style.marginLeft="",t[n].style.marginTop="",t[n].style.float="",t[n].style.zIndex="",t[n].style.boxShadow="",t[n].style.borderLeft="",t[n].style.animationName="",t[n].style.animationDuration="",t[n].style.left="",t[n].style.transformOrigin="",t[n].style.outline="",t[n].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var n=1;n<t.length;n++)null!=document.querySelector("#compDiv"+n)&&componentsContainer.removeChild(document.querySelector("#compDiv"+n));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var n=0;n<t.length;n++)null!=document.querySelector("#name"+t[n].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[n].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play();
}if(document.querySelector("#swContainer")){for(var n=0;n<t.length;n++)if(document.querySelector("#swContainer").querySelector("#"+t[n].id)){var a=document.querySelector("#"+t[n].id);componentsContainer.appendChild(a)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")))},t.render=function(e){document.body.style.backgroundColor="#0A2533",document.body.style.padding="15px 0px",document.body.style.overflow="hidden";var t=document.querySelector("#componentsContainer");t.style.display="",t.style.overflowX="";var a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t.style.height=a;var o=[];o=e.sort(function(e,t){return e.lproperties.order>t.lproperties.order?1:-1});var i=document.createElement("div");i.className="swiper-container",i.id="swContainer",i.innerHTML='<div id="wrapper" class="swiper-wrapper"></div><div class="swiper-pagination"></div>',componentsContainer.appendChild(i),n=new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0,effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",initialSlide:0,coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!1}});for(var r=0;r<o.length;r++){var i=document.createElement("div");i.className="swiper-slide",i.id="slide"+o[r].id;var s=document.querySelector("#"+o[r].id);i.appendChild(s),n.appendSlide(i),n.update(!0)}document.querySelector("x-media")&&document.querySelector("x-media").play(),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onOrientationChange=function(e){console.log("test")},t.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")&&document.querySelector("x-media").play()}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.onPriorizeComponent=function(e){var t=e,n=!0,a=this.cmps;this.render(a,n,t)},t.onResizeEvent=function(e){if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var n=document.querySelector("#"+e[t].id);componentsContainer.appendChild(n)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")&&document.querySelector("x-media").play()}this.render(e),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},t.unload=function(e){t.listeners.forEach(function(t){for(var n=0;n<e.length;n++);},this)},t.onRemoteCommand=function(e){"next"===e.type?(console.log("next"),n.slideNext()):"prev"===e.type&&(console.log("prev"),n.slidePrev())},t.__moduleName="carouselLayout",t}),window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1},define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/pipGrid",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layoutConstructor"],function(e){var t,n=new e("pipGrid");n.listeners=[];var a=[];return n.onComponentsChange=function(e){console.log("test"),this.cmps=e;for(var t=mediascape.AdaptationToolkit.componentManager.core.getComponents(),o=0;o<t.length;o++)t[o].style.width="",t[o].style.height="",t[o].style.gridColumn="",t[o].style.gridRow="",t[o].className="",t[o].style.order="",t[o].style.position="",t[o].style.backgroundColor="",t[o].style.marginLeft="",t[o].style.marginTop="",t[o].style.float="",t[o].style.zIndex="",t[o].style.boxShadow="",t[o].style.borderLeft="",t[o].style.animationName="",t[o].style.animationDuration="",t[o].style.left="",t[o].style.top="",t[o].style.transformOrigin="",t[o].style.outline="",t[o].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var o=1;o<t.length;o++)null!=document.querySelector("#compDiv"+o)&&componentsContainer.removeChild(document.querySelector("#compDiv"+o));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var o=0;o<t.length;o++)null!=document.querySelector("#name"+t[o].id)&&componentsContainer.removeChild(document.querySelector("#name"+t[o].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")}if(document.querySelector("#swContainer")){for(var o=0;o<t.length;o++)if(document.querySelector("#swContainer").querySelector("#"+t[o].id)){var i=document.querySelector("#"+t[o].id);componentsContainer.appendChild(i)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize")));mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,t){!function(t){function o(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(a[t]);var n=this;a[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",o,!0),e.removeEventListener("mousemove",o,!1),e.addEventListener("mousemove",o),n.listeners.push(o)}(t)})},n.render=function(e,n,a){document.body.style.backgroundColor="white",document.body.style.padding="";var o=document.querySelector("#componentsContainer");o.style.display="inline-block",o.style.overflowX="hidden";var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(1===e.length){var r=i;s=0}else var r=i-Math.round(.33*i),s=Math.round(.33*i);var l=e.length-1,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=[];u=e.sort(function(e,t){return parseInt(e.lproperties.order)>parseInt(t.lproperties.order)?1:-1});for(var d=0;d<u.length;d++)u[d].style.position="absolute";var p=[];if(1!=n&&0!=n){t=u[0];for(var d=1;d<u.length;d++)p.push(u[d])}else{t=a;for(var d=0;d<u.length;d++)u[d].id!==a.id&&p.push(u[d])}if(4===l)var m=parseInt(c/(l+1));else var m=parseInt(c/l);if(t.style.marginLeft="0px",t.style.width=r+"px",t.style.height=c+"px",t.style.marginTop="0px",t.style.backgroundColor="white",t.style.zIndex="1",t.className="",4===l){p[0].style.marginLeft=r+"px",p[0].style.width=s+"px",p[0].style.height=2*m+"px",p[0].style.marginTop=0*m+"px",p[0].style.backgroundColor="black",p[0].style.zIndex="2";for(var d=1;d<l;d++)p[d].style.marginLeft=r+"px",p[d].style.width=s+"px",p[d].style.height=m+"px",p[d].style.marginTop=(d+1)*m+"px",p[d].style.backgroundColor="black",p[d].style.zIndex="2"}else for(var d=0;d<l;d++)p[d].style.marginLeft=r+"px",p[d].style.width=s+"px",p[d].style.height=m+"px",p[d].style.marginTop=d*m+"px",p[d].style.backgroundColor="black",p[d].style.zIndex="2";mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},n.onOrientationChange=function(e){console.log("test")},n.onLayoutChangeEvent=function(e){console.log("layout changed");for(var t=0;t<e.length;t++)e[t].style.width="",e[t].style.height="",e[t].style.gridColumn="",e[t].style.gridRow="",e[t].className="",e[t].style.order="",e[t].style.position="",e[t].style.backgroundColor="",e[t].style.marginLeft="",e[t].style.marginTop="",e[t].style.float="",e[t].style.zIndex="",e[t].style.boxShadow="",e[t].style.borderLeft="",e[t].style.animationName="",e[t].style.animationDuration="",e[t].style.display="block",e[t].style.left="",e[t].style.top="",e[t].style.transformOrigin="",e[t].style.outline="",e[t].style.transform="";componentsContainer.style.backgroundColor="",componentsContainer.style.perspective="",componentsContainer.className="",componentsContainer.style.gridTemplateColumns="",componentsContainer.style.gridTemplateRows="",null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));for(var t=1;t<e.length;t++)null!=document.querySelector("#compDiv"+t)&&componentsContainer.removeChild(document.querySelector("#compDiv"+t));null!=document.querySelector("#menu_container")&&componentsContainer.removeChild(document.querySelector("#menu_container"));for(var t=0;t<e.length;t++)null!=document.querySelector("#name"+e[t].id)&&componentsContainer.removeChild(document.querySelector("#name"+e[t].id));if(null!=document.querySelector("#menu")&&document.body.removeChild(document.querySelector("#menu")),null!=document.querySelector("#downArrowImg")&&document.body.removeChild(document.querySelector("#downArrowImg")),null!=document.querySelector("#upArrowImg")&&document.body.removeChild(document.querySelector("#upArrowImg")),componentsContainer.querySelector("figure")){for(;componentsContainer.querySelector("figure").firstChild;)componentsContainer.querySelector("figure").parentNode.insertBefore(componentsContainer.querySelector("figure").firstChild,componentsContainer.querySelector("figure"));componentsContainer.querySelector("figure").parentNode.removeChild(componentsContainer.querySelector("figure")),document.querySelector("x-media")}if(document.querySelector("#swContainer")){for(var t=0;t<e.length;t++)if(document.querySelector("#swContainer").querySelector("#"+e[t].id)){var o=document.querySelector("#"+e[t].id);componentsContainer.appendChild(o)}document.querySelector("#swContainer").parentNode.removeChild(document.querySelector("#swContainer")),document.querySelector("x-media")}componentsContainer.querySelector("#arrows")&&componentsContainer.removeChild(componentsContainer.querySelector("#arrows")),componentsContainer.querySelector("#back")&&componentsContainer.removeChild(componentsContainer.querySelector("#back")),this.render(e),null!=document.querySelector("#customizePanel")&&(document.body.removeChild(document.querySelector("#customizePanel")),null!=document.querySelector("drag-resize")&&componentsContainer.removeChild(document.querySelector("drag-resize"))),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery();mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!0),e.forEach(function(e,t){!function(t){function o(e){this.querySelector("#menuBar"+this.id).style.display="block",clearTimeout(a[t]);var n=this;a[t]=setTimeout(function(){n.querySelector("#menuBar"+n.id).style.display="none"},3e3)}e.removeEventListener("mousemove",o,!0),e.removeEventListener("mousemove",o,!1),e.addEventListener("mousemove",o),n.listeners.push(o)}(t)})},n.onPriorizeComponent=function(e){var t=e,n=!0,a=this.cmps;this.render(a,n,t)},n.onResizeEvent=function(e){console.log("layout changed");for(var n=!0,a=0;a<e.length;a++)e[a].style.width="",e[a].style.height="",e[a].style.gridColumn="",e[a].style.gridRow="",e[a].style.order="";null!=document.querySelector("#layout_classes")&&document.head.removeChild(document.querySelector("#layout_classes"));var o=t;this.render(e,n,o),mediascape.AdaptationToolkit.Adaptation.UIAdaptation.updateComponentQuery()},n.unload=function(e){n.listeners.forEach(function(t){for(var n=0;n<e.length;n++)e[n].removeEventListener("mousemove",t,!0),e[n].removeEventListener("mousemove",t,!1),clearTimeout(a[n])},this),mediascape.AdaptationToolkit.uiComponents.addMenuToCmps(e,!1)},n.__moduleName="pipGridLayout",n}),window.oncontextmenu=function(e){return e.preventDefault(),e.stopPropagation(),!1},define("mediascape/AdaptationToolkit/adaptation/UIAdaptation/UIAdaptation",["mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/pip","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/menu","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/horizontal","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/customGrid","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/accordion","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/verticalMenu","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/scrollHorizontal","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/spinner","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/divided","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/carousel","mediascape/AdaptationToolkit/adaptation/UIAdaptation/layouts/pipGrid"],function(e){var t=Array.prototype.slice.apply(arguments),n=[],a=function(){var e,a,o=[],i=0,r=this;this.LAYOUTMODE={CUSTOM:"custom",STATIC:"static",ADAPTABLE:"adaptable"},this.layoutMode="static",this.explicitConf=[],this.registerLayouts=function(){var e=this;$.getJSON("/resources/explicitsCss/rules.json",function(t){e.explicitConf=t}),t.forEach(function(t,n){if(!t.checkForImplementation()&&"explicit"==t.name)throw new Error("Some error registring layout: "+t.name);"explicit"===t.name&&(e.explicitLayout=t),o.push(t)})},this.init=function(t,a){this.layoutMode=a,n=t,this.layoutMode==this.LAYOUTMODE.ADAPTABLE?(e=this.findBestLayout(n)[i],this.layout(n,"onLayoutChange"),i++):this.layoutMode==this.LAYOUTMODE.STATIC},this.useLayout=function(t){var a=this;if("object"==typeof t)var i=setInterval(function(){try{if(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext().agents[0].capabilities.componentsStatus.length>0){clearInterval(i);var r=t.deviceTypes.some(function(e){function a(e){if(e.id===o)return e}var o=(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext().agents[0].capabilities.componentsStatus,"video1"),i=n.filter(a),o="video",r=n.filter(a);if(i.length>0){if(mediascape.deviceType===e.deviceType&&e.isMain===!0)return t=e.layout,!0}else if(r.length>0){if(mediascape.deviceType===e.deviceType&&e.isMain===!0)return t=e.layout,!0}else if(mediascape.deviceType===e.deviceType&&e.isMain===!1)return t=e.layout,!0});if(r||(t="pip",console.warn("Not layout found for device type: "+mediascape.deviceType+" Using default one")),e&&e.unload(n),e=o.filter(function(e){return e.name==t})[0],!e)throw new Error("There is no layout named: "+t);a.layoutMode===a.LAYOUTMODE.STATIC?a.layout(n,"onComponentsChange"):a.layout(n,"onLayoutChange")}}catch(e){console.log(e)}},500);else{if(e&&e.unload(n),e=o.filter(function(e){return e.name==t})[0],!e)throw new Error("There is no layout named: "+t);a.layoutMode===a.LAYOUTMODE.STATIC?a.layout(n,"onComponentsChange"):a.layout(n,"onLayoutChange")}},this.layout=function(t,n){var a=this.checkForExplicitRules(t,n);if(a)if("onComponentsChange"===n)mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),this.explicitLayout.onComponentsChange(t,a);else if("onOrientationChange"===n)mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),this.explicitLayout.onOrientationChange(t,a);else if("onResizeEvent"===n)this.explicitLayout.onResizeEvent(t,a);else{if("onLayoutChange"!==n)throw new Error("Event does not exists");mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),this.explicitLayout.onLayoutChangeEvent(t,a)}else switch(this.layoutMode){case this.LAYOUTMODE.CUSTOM:mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t);break;case this.LAYOUTMODE.STATIC:if(!e)throw new Error("For using STATIC method first you have to choose one layout");"onComponentsChange"===n?(mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),e.onComponentsChange(t)):"onOrientationChange"===n?(mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),e.onOrientationChange(t)):"onResizeEvent"===n?(mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),e.onResizeEvent(t)):console.warn("Event does not exists");break;case this.LAYOUTMODE.ADAPTABLE:"onLayoutChange"===n?(mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),e.onLayoutChangeEvent(t)):"onComponentsChange"===n?(mediascape.AdaptationToolkit.componentManager.loadManager.unload(mediascape.AdaptationToolkit.componentManager.core.getHiddenComponents(t)),mediascape.AdaptationToolkit.componentManager.loadManager.load(t),e.onComponentsChange(t)):"onOrientationChange"===n?e.onComponentsChange:"onResizeEvent"===n&&e.onResizeEvent(t)}},this.onComponentsChange=function(t,a){t.actions&&(n=t.actions.filter(function(e){return"SHOW"===e.type}),n=n.map(function(e){return document.querySelector("#"+e.component)}),r.layoutMode===r.LAYOUTMODE.ADAPTABLE?(i=0,e=r.findBestLayout(n)[i],r.layout(n,"onComponentsChange"),i++):r.layout(n,"onComponentsChange"),r.updateComponentQuery())},this.onRemoteCommand=function(t){e.onRemoteCommand(t)},this.onPriorizeComponent=function(t){var n=t.srcElement||t.target;e&&e.onPriorizeComponent(n)},this.onWindowResize=function(e){e.srcElement=e.srcElement||e.target,"emulate"!=e.detail&&this.layout(n,"onResizeEvent")},this.onLayoutChangeEvent=function(){clearTimeout(a),e.unload(n),e=this.findBestLayout(n)[i],this.layoutMode=this.LAYOUTMODE.ADAPTABLE,this.layout(n,"onLayoutChange"),o.length-1===i?i=0:i++},this.getLayouts=function(){return o},this.getLayout=function(e){return o.filter(function(t){return t.name===e})[0]||[]},this.findBestLayout=function(e){for(var t=e.length||0,n=[],a=!1,o=0;o<e.length;){if(e[o].querySelector("x-media")){a=!0;break}o++}var i=this.getScreenSize().extra[1].screenX,r=this.getScreenSize().extra[1].screenY,s=this,l=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));return l<=6?r>i?t<=3?a?(n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("menu")),n.push(s.getLayout("pip")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):t<=3?a?(n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("grid")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):navigator.userAgent.toLowerCase().indexOf("android")!=-1&&navigator.appVersion.indexOf("MK12")==-1?r>i?t<=3?a?(n.push(s.getLayout("spinner")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("menu")),n.push(s.getLayout("pip")),n.push(s.getLayout("accordion")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("spinner")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("accordion")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("spinner")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("spinner")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):t<=2?a?(n.push(s.getLayout("divided")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("accordion")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("divided")),n.push(s.getLayout("accordion")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("pip")),n.push(s.getLayout("pip")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("pip")),n.push(s.getLayout("pip")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):navigator.userAgent.toLowerCase().indexOf("windows nt 6.3")!=-1?t<=3?a?(n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("pip")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("pip")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("accordion")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("pip")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):navigator.userAgent.toLowerCase().indexOf("windows nt 6.1")!=-1?t<=6?a?(n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("divided")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("customGrid")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("accordion")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):navigator.userAgent.toLowerCase().indexOf("android")!=-1&&navigator.appVersion.indexOf("MK12")!=-1?t<=3?a?(n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("customGrid")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("accordion")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("accordion")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):navigator.userAgent.toLowerCase().indexOf("x11")!=-1&&(t<=4?a?(n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("accordion")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("pip")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):a?(n.push(s.getLayout("divided")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("spinner")),n.push(s.getLayout("accordion")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal"))):(n.push(s.getLayout("divided")),n.push(s.getLayout("pip")),n.push(s.getLayout("menu")),n.push(s.getLayout("horizontal")),n.push(s.getLayout("customGrid")),n.push(s.getLayout("spinner")),n.push(s.getLayout("verticalMenu")),n.push(s.getLayout("scrollHorizontal")))),n},_this.changeLayout=function(){},this.listenForActivity=function(){function t(t){e&&e.onActivity&&(clearTimeout(a),a=e.onActivity(n,t))}window.addEventListener("resize",this.onWindowResize.bind(this),!1),document.addEventListener("keydown",t.bind(this),!1),window.addEventListener("click",t.bind(this),!1),document.addEventListener("componentToFullscreen",this.onPriorizeComponent.bind(this),!1),
window.addEventListener("touch",t.bind(this),!1),window.addEventListener("tap",t.bind(this),!1),window.addEventListener("mousemove",t.bind(this),!1),document.addEventListener("click",t.bind(this),!1)},this.getActualLayout=function(){return e.name},this.updateComponentQuery=function(e){var t=mediascape.AdaptationToolkit.componentManager.core.getComoponentsToShow(),n=new CustomEvent("resize",{detail:"emulate"});window.dispatchEvent(n);for(var a=0;a<t.length;a++)t[a]=document.querySelector("#"+t[a].id),t[a].updateNodes();this.forceRedraw()},this.updateUniqueComponent=function(e){cmpToUpdate=document.querySelector("#"+e.id),cmpToUpdate.updateNodes()},this.forceRedraw=function(){var e=document.body.style.display;document.body.style.display="none";document.body.offsetHeight;document.body.style.display=e},this.getScreenSize=function(){var e,t;if(parseInt(navigator.appVersion)>3)e=screen.width,t=screen.height;else if("Netscape"==navigator.appName&&3==parseInt(navigator.appVersion)&&navigator.javaEnabled()){var n=java.awt.Toolkit.getDefaultToolkit(),a=n.getScreenSize();e=a.width,t=a.height}document.body.insertAdjacentHTML("beforeend",'<div id="dpi" style="height: 1in; width: 1in; left: 100%; position: absolute; top: 100%;"></div>');var o=document.getElementById("dpi").offsetWidth,i=document.getElementById("dpi").offsetHeight,r=screen.width/window.devicePixelRatio/o,s=screen.height/window.devicePixelRatio/i;return document.getElementById("dpi").remove(),navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1?JSON.parse('{"extra":[{"width":"20000","height":"20000"},{"screenX":"20000","screenY":"20000"}]}'):JSON.parse('{"extra":[{"width":"'+e+'","height":"'+t+'"},{"screenX":"'+r+'","screenY":"'+s+'"}]}')},this.checkForExplicitRules=function(e,t){var n=null,a=Math.sqrt(Math.pow(screenX,2)+Math.pow(screenY,2));return this.explicitConf.rules&&this.explicitConf.rules.forEach(function(t){t.condition.componentsNumber===e.length&&(n=t),t.condition.componentsNumber===e.length&&a>t.condition.screenSize&&(n=t)},this),n},this.registerLayouts(),this.listenForActivity()};return a.__moduleName="UIAdaptation",a}),define("mediascape/AdaptationToolkit/adaptation/modules",["mediascape/AdaptationToolkit/adaptation/multiDeviceAdaptation/mdadaptation","mediascape/AdaptationToolkit/adaptation/UIAdaptation/UIAdaptation"],function(){var e={},t=Array.prototype.slice.apply(arguments),e=function(n,a,o){for(var i=0;i<t.length;++i){var r=t[i].__moduleName;e[r]=new t[i](e,"gq"+i,e)}return this.__moduleName="Adaptation",e};return e.__moduleName="Adaptation",e}),define("mediascape/AdaptationToolkit/componentManager/loadManager/loadManager",[],function(){var e=function(){var e=[];this.load=function(t){var n=mediascape.AdaptationToolkit.componentManager.core.getComponents();n.forEach(function(e){e.style.display="none"}),t.forEach(function(t){var n=e.some(function(e){return t=document.querySelector("#"+t.id),e.id===t.id});!n&&t.load&&t.load(),t.style.display="block"}),e=t},this.unload=function(t){t.forEach(function(t){var n=e.some(function(e){return t=document.querySelector("#"+t.id),e.id===t.id});n&&t.unload&&(t.unload(),e=e.filter(function(e){return e.id!==t.id}))})}};return e.__moduleName="loadManager",e}),Function.prototype.getBody=function(){var e=this.toString().match(/\{([\s\S]*)\}/m)[1];return e.replace(/^\s*\/\/.*$/gm,"")},define("mediascape/AdaptationToolkit/componentManager/cssParser/cssParser",["jquery"],function(e){var t=function(){this.customProperties=[];var e="";this.readComponentCSS=function(e){var t="";if(e.styleSheets)t=e.styleSheets.item(0).cssRules;else{var n=e.localName,a=document.styleSheets,o=null;for(var i in a)a[i].ownerNode&&a[i].ownerNode.textContent.indexOf(n)>-1&&(o=a[i]);t=o.cssRules}var r=[];for(var i in t)t[i].cssText&&t[i].cssText.indexOf("@media")>-1&&r.push(t[i]);return r},this.readCustomCss=function(t,n){this.css="",console.log("barruan"),_this=this;var a=mediascape.AdaptationToolkit.componentManager.core.getFile(t).then(function(t){_this.css=t,n&&_this.setCustomProperties(n);var a=[],o=[];a=_this.css.trim().split("#"),a=a.splice(1);for(var i=0;i<a.length;i++){o[a[i].split("{")[0]]={layoutProperties:[]};var r=a[i].split("{")[1].split("}")[0],s=r.split(";"),l={};s.forEach(function(e,t){this.customProperties.forEach(function(t){if(e.trim().indexOf(t)>=0){var n=e.split(":");if(t.toLowerCase().indexOf("needs")>-1){var a=n[1].split(","),o=[];a.forEach(function(e){var t=e.split("<"),n=e.split(">"),a=e.split("=");if(e.indexOf("none")>-1){var i={};i.name="attribute",i.key=n[0]}else{if(1===t.length&&1===n.length&&1==a.length){var i={};i.name="attribute",i.key=n[0]}if(1===t.length&&n.length>1&&1==a.length){var i={};i.name="compare",i.key=n[0],i.operation="bigger",i.value=n[1],i.compare=function(e,t){return e>t?1:e<t?-1:0}}else{var i={};i.name="attribute",i.key=n[0]}}o.push(i)}),l[n[0].trim()]=o}else if(t.toLowerCase().indexOf("bestfit")>-1){var i=n[1].split(","),r={};r.name="bestFit",i.indexOf("biggestScreenSize")>-1?r.biggestScreenSize=!0:r.biggestScreenSize=!1,i.indexOf("smallestScreenSize")>-1?r.smallestScreenSize=!0:r.smallestScreenSize=!1,i.indexOf("touchable")>-1?r.touchable=!0:r.touchable=!1,r.getBestFitPropertie=function(e){for(var t=0;t<arguments.length;t++)if(r[arguments[t]])return!!r[arguments[t]];return!1},l[n[0].trim()]=r}else l[n[0].trim()]=n[1]}},this)},_this);var c=a[i].split("{")[0].trim(),u={};u[c]=l,o.push(u)}return e=o});return a},this.readCss=function(e,t){var n=e,a=document.styleSheets,o=null;for(var i in a)a[i].ownerNode&&a[i].ownerNode.textContent.indexOf(n)>-1&&(o=a[i]);return cssRules=o.cssRules,cssRules},this.setCustomProperties=function(e){e.forEach(function(e,t,n){this.customProperties.indexOf(e)<0&&this.customProperties.push(e)},this)},this.getCustomCss=function(){return e}};return t.__moduleName="cssParser",t}),define("mediascape/AdaptationToolkit/componentManager/main/core",["underscore"],function(e){var t=function(){function t(e){var t=document.createElement("div");t.id="componentsContainer",document.body.appendChild(t),e.forEach(function(e){var n=document.querySelector("#"+e.id);e=n,t.appendChild(n)})}var n=[],a=void 0;this.init=function(){var e=["order","rwidth","propx","propy","bestfit","required","needs","duplicable","movable","icon"],t="/resources/layout/components.layout",n=this;this.parseComponents(t,e).then(function(e){var t=new CustomEvent("adaptationToolkit-ready",{detail:{loaded:!0,components:e}});navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1?document.dispatchEvent(t):setTimeout(function(){document.dispatchEvent(t)},2e3),n.components=e})},this.setComponentValue=function(e,t,n){var a=e.getAttribute("compid");if(a)throw new Error(e+" does not exists");e.setAttribute(t,n)},this.parseComponents=function(a,o){var i=document.body.children,r=mediascape.AdaptationToolkit.componentManager.cssParser;if(0===i.length)throw new Error("there is no webcomponent to parse");i=e.toArray(i);var s=r.readCustomCss(a,o).then(function(e){return n=i.filter(function(t,n){if(t.nodeName.split("-").length>=2){var a=t.getAttribute("id");return t.setAttribute("touch-action","none"),t.setAttribute("drag-resize",""),[].slice.call(t.querySelectorAll("div,span")).forEach(function(e){e.setAttribute("touch-action","none"),e.style.webkitUserSelect="none"}),t.setAttribute("compId","compId"+n),e.forEach(function(e){if(Object.keys(e).indexOf(a)>-1){t=document.querySelector("#"+a),t.lproperties=new Object;var n=e[a];for(x in n)t.lproperties[x]=n[x],mediascape.AdaptationToolkit.uiComponents.addMovablePanel(t)}}),!0}return!1}),t(n),n});return s},this.getComponents=function(){for(c in n)n[c].id&&(n[c]=document.querySelector("#"+n[c].id));return n},this.getComponentsStatus=function(){return a||[]},this.setComponentsStatus=function(e){a=e},this.checkComponentsReady=function(){var e=n.every(function(e){return e.done});if(e){var t=new CustomEvent("components-ready",{detail:"emulate"});window.dispatchEvent(t),clearInterval(o)}},this.getFile=function(e){return $.ajax({url:e,dataType:"text"})},this.getComoponentsToShow=function(){return a?a.filter(function(e){if(e.show)return!0}).map(function(e){return document.querySelector("div [compId='"+e.compId+"']")}):[]},this.getHiddenComponents=function(e){return n.filter(function(t){return e.every(function(e){return e.id!==t.id})})},this.isLoaded=function(e){if(a)for(c in a)if(a[c].selector===e.id)return!!a[c].show;return!1},this.setMenu=function(e){e?mediascape.AdaptationToolkit.uiComponents.showComponentMenu(n):mediascape.AdaptationToolkit.uiComponents.hideComponentMenu(n)};var o=setInterval(this.checkComponentsReady.bind(this),500);document.addEventListener("mediascape-modules-ready",this.init.bind(this),!1)};return t.__moduleName="core",t}),define("mediascape/AdaptationToolkit/componentManager/modules",["mediascape/AdaptationToolkit/componentManager/loadManager/loadManager","mediascape/AdaptationToolkit/componentManager/cssParser/cssParser","mediascape/AdaptationToolkit/componentManager/main/core"],function(){var e={},t=Array.prototype.slice.apply(arguments),e=function e(n,a,o){for(var i=0;i<t.length;++i){var r=t[i].__moduleName;e[r]=new t[i](e,"gq"+i,e)}return this.__moduleName="componentManager",e};return e.__moduleName="componentManager",e}),define("mediascape/AdaptationToolkit/uiComponents/uiComponents",[],function(){return uiComponents=function(e,t,e){this.componentsMenu=function(){},this.actionMenu=function(){},this.showComponentMenu=function(e){e.forEach(function(e){var t=document.createElement("div");t.style.zIndex=999,t.style.height="40px",t.style.width="100%",t.style.top="0px",t.style.opacity="0.6",t.style.position="absolute",t.style.background="black",e.appendChild(t)})},this.unSupportedDevice=function(){var e=document.createElement("div"),t=document.createElement("p");t.innerHTML="Zure Telebista ez da konputagarria / La TV no es compatible con la app",e.style.width="500px",e.style.height="300px",e.style.zIndex=99999,e.style.top="40%",e.style.left="40%",e.style.color="white",e.style.backgroundColor="red",t.style.fontSize="28pt",e.appendChild(t),document.body.appendChild(e),setTimeout(function(){var e=document.appmgr.getOwnerApplication(document);e.destroyApplication()},3e3)},this.loadingPanel=function(e,t,n){var a=document.createElement("div");a.id="loadingPanel",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width="100%",a.style.height="100%",a.style.zIndex="10001",a.style.background="black";var o=document.createElement("img");o.id="loaderimg",o.src=e,o.style.position="absolute",o.style.top="25%",o.style.left="25%",o.style.width="50%",o.style.animationDelay="0s",a.appendChild(o);var i=document.createElement("div");i.id="floatingCirclesG",i.style.top="40%";var r=document.createElement("style");r.innerHTML="#floatingCirclesG{ position:relative; width:125px; height:125px; margin:auto; transform:scale(0.6); -o-transform:scale(0.6);-ms-transform:scale(0.6); -webkit-transform:scale(0.6); -moz-transform:scale(0.6);} .f_circleG{ position:absolute; background-color:rgba(51, 204, 204, 0.1); height:22px; width:22px; border-radius:12px; -o-border-radius:12px; -ms-border-radius:12px; -webkit-border-radius:12px; -moz-border-radius:12px; animation-name:f_fadeG; -o-animation-name:f_fadeG; -ms-animation-name:f_fadeG; -webkit-animation-name:f_fadeG; -moz-animation-name:f_fadeG; animation-duration:1.2s; -o-animation-duration:1.2s; -ms-animation-duration:1.2s; -webkit-animation-duration:1.2s; -moz-animation-duration:1.2s; animation-iteration-count:infinite; -o-animation-iteration-count:infinite; -ms-animation-iteration-count:infinite; -webkit-animation-iteration-count:infinite; -moz-animation-iteration-count:infinite; animation-direction:normal; -o-animation-direction:normal; -ms-animation-direction:normal; -webkit-animation-direction:normal; -moz-animation-direction:normal;} #frotateG_01{left:0; top:51px; animation-delay:0.45s; -o-animation-delay:0.45s; -ms-animation-delay:0.45s; -webkit-animation-delay:0.45s;-moz-animation-delay:0.45s;}#frotateG_02{left:15px;top:15px;animation-delay:0.6s; -o-animation-delay:0.6s; -ms-animation-delay:0.6s; -webkit-animation-delay:0.6s;-moz-animation-delay:0.6s;}#frotateG_03{ left:51px;top:0;animation-delay:0.75s;-o-animation-delay:0.75s;-ms-animation-delay:0.75s; -webkit-animation-delay:0.75s; -moz-animation-delay:0.75s;} #frotateG_04{right:15px;top:15px;animation-delay:0.9s; -o-animation-delay:0.9s;  -ms-animation-delay:0.9s; -webkit-animation-delay:0.9s; -moz-animation-delay:0.9s;}#frotateG_05{right:0;top:51px; animation-delay:1.05s; -o-animation-delay:1.05s; -ms-animation-delay:1.05s; -webkit-animation-delay:1.05s; -moz-animation-delay:1.05s;}#frotateG_06{ right:15px; bottom:15px;  animation-delay:1.2s;    -o-animation-delay:1.2s;    -ms-animation-delay:1.2s;    -webkit-animation-delay:1.2s;    -moz-animation-delay:1.2s;}#frotateG_07{ left:51px;  bottom:0;  animation-delay:1.35s;    -o-animation-delay:1.35s;    -ms-animation-delay:1.35s;    -webkit-animation-delay:1.35s;    -moz-animation-delay:1.35s;}#frotateG_08{  left:15px;  bottom:15px;  animation-delay:1.5s;    -o-animation-delay:1.5s;    -ms-animation-delay:1.5s;    -webkit-animation-delay:1.5s;    -moz-animation-delay:1.5s;} @keyframes f_fadeG{  0%{    background-color:rgba(51, 204, 204, 1);  }  100%{    background-color:rgba(51, 204, 204, 0.3);  }}@-o-keyframes f_fadeG{  0%{    background-color:rgb(0,0,0);  }  100%{    background-color:rgb(255,255,255);  }}@-ms-keyframes f_fadeG{  0%{    background-color:rgb(0,0,0);  }  100%{    background-color:rgb(255,255,255);  }}@-webkit-keyframes f_fadeG{  0%{    background-color:rgb(0,0,0);  } 100%{  background-color:rgb(255,255,255);  }}@-moz-keyframes f_fadeG{  0%{    background-color:rgb(0,0,0);  }  100%{    background-color:rgb(255,255,255);  }}";for(var s=1;s<=8;s++){var l=document.createElement("div");l.id="frotateG_0"+s,l.className="f_circleG",i.appendChild(l)}document.body.appendChild(r),a.appendChild(i),document.body.appendChild(a),document.addEventListener("mediascape-ready",function(e){setTimeout(function(){document.body.removeChild(a)},1e3)}),setTimeout(function(){document.body.removeChild(a)},1e3*t)},this.prompt=function(e){var t=document.createElement("div"),n=document.createElement("div");n.innerHTML=e.question,n.style.textAlign="center",n.style.background="url(../resources/images/TitleBackground.png)",n.style.color="white",t.style.width="250px";var a=document.createElement("div");if(a.style.background="url(../resources/images/PaneBackground.png)","select"===e.type){var o=document.createElement("div"),i=document.createElement("select");e.values.forEach(function(e){var t=document.createElement("option");t.value=e,t.innerHTML=e,i.appendChild(t)});var r=document.createElement("input");r.type="button",r.value=e.submit.buttonName,r.onclick=function(){e.submit.action.call(this,e.submit.params[0],i.value)},o.appendChild(i),o.appendChild(r)}a.appendChild(o),a.style.color="white",a.style.padding="5px",t.style.position="absolute",t.style.top="100px",t.style.left="400px",t.style.zIndex="10000",t.appendChild(n),t.appendChild(a),document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},6500)},this.customPanel=function(e,t,n){var a=document.createElement("div");a.style.width="220px",a.style.display="-webkit-flex",a.style.display="flex",a.style.flexDirection="row",a.id="customizePanel";var o=function(){if(currentvalue=document.getElementById("enableButton").value,"Off"==currentvalue){document.getElementById("enableButton").value="On",e.call(),r.innerHTML="DISABLE";var n=document.createElement("img");n.style.height="20px",n.style.width="20px",r.appendChild(n)}else{document.getElementById("enableButton").value="Off",t.call(),r.innerHTML="ENABLE ";var n=document.createElement("img");n.style.height="20px",n.style.width="20px",r.appendChild(n)}},i=document.createElement("style");i.type="text/css",i.innerHTML=".enableButton:hover{border-color: #666 #aaa #bbb #888;  border-width:4px 3px 3px 4px;background-image:radial-gradient(circle,#CCFFFF,#66CCFF);#CCFFFF;  color:#000;} ",document.getElementsByTagName("head")[0].appendChild(i);var r=document.createElement("div");r.id="enableButton",r.className="EnableButton",r.value="Off",r.innerHTML="ENABLE ",r.onclick=o,r.style.transition="opacity .1s cubic-bezier(0.4, 0.0, 1, 1), color .1s cubic-bezier(0.4, 0.0, 1, 1)",r.style.height="100%",r.style.margin="0 12px",r.style.width="110px",r.style.textAlign="center",r.style.cursor="pointer",r.style.lineHeight="24px";var s=document.createElement("img");s.style.height="20px",s.style.width="20px",r.appendChild(s),a.appendChild(r);var l=function(){n.call(),r.value="Off",r.innerHTML="ENABLE ";var e=document.createElement("img");e.style.height="20px",e.style.width="20px",r.appendChild(e)},c=document.createElement("div");c.innerHTML="REGISTER",c.onclick=l,c.className="enableButton",c.style.transition="opacity .1s cubic-bezier(0.4, 0.0, 1, 1), color .1s cubic-bezier(0.4, 0.0, 1, 1)",c.style.height="100%",c.style.margin="0 12px",c.style.width="110px",c.style.textAlign="center",c.style.cursor="pointer",c.style.lineHeight="24px";var u=document.createElement("img");u.style.height="20px",u.style.width="20px",c.appendChild(u),a.appendChild(c),a.style.position="absolute",a.style.top=0,a.style.right=20,a.style.height="48px",a.style.zIndex="999",a.style.boxShadow="0px 3px 2px rgba(0, 0, 0, 0.2)",a.style.fontFamily='RobotoDraft, "Helvetica Neue", Helvetica, Arial',a.style.backgroundColor="#66CCFF",a.style.color="#fff",document.body.appendChild(a),a.style.display="none"},this.infoPanel=function(e,t,n,a,o){var i=document.createElement("div"),r=document.createElement("div");r.innerHTML=e,r.style.textAlign="center",r.style.background="url(../resources/images/TitleBackground.png)",r.style.color="white",i.style.width=n;var s=document.createElement("div");s.style.background="url(../resources/images/PaneBackground.png)",s.innerHTML=t,s.style.color="white",s.style.padding="5px",i.style.position="absolute",i.style.top=o,i.style.left=a,i.style.zIndex="999",i.appendChild(r),i.appendChild(s),document.body.appendChild(i),setTimeout(function(){document.body.removeChild(i)},6500)},this.notification=function(e,t,n){var a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("img");i.src="../resources/images/notification.png",i.style.width="12%",i.style.height="3%",i.style.position="relative",i.style.cssFloat="left",o.appendChild(i),o.innerHTML=o.innerHTML+"<span>"+e+"</span>",o.style.textAlign="center",o.style.background="url(../resources/images/TitleBackground.png)",o.style.color="white",a.style.width="200px",a.className="animated flipInX";var r=document.createElement("div");r.style.background="url(../resources/images/PaneBackground.png)",r.innerHTML=t,r.style.color="white",r.style.padding="5px",a.style.position="absolute",a.style.bottom="5%",a.style.right="5%",a.style.zIndex="99999",a.appendChild(o),a.appendChild(r),document.body.appendChild(a),setTimeout(function(){document.body.removeChild(a)},n)},this.qrNotification=function(e,t){img=document.createElement("img"),img.id="qrNotif","tv"===t?img.src="../resources/images/qrTVnotif"+e+".png":img.src="../resources/images/qrPCnotif"+e+".png",img.style.position="absolute",img.style.bottom="5%",img.style.right="5%",img.style.zIndex="999",img.style.width="300px",img.style.border="5px solid #ccc",img.style.boxShadow="0px 0px 10px rgba(0,0,0,0.5)";var n=this;img.onclick=function(){n.ctrlPanel.show(),n.ctrlPanel.changeSection("AddDevice","same"),document.body.removeChild(document.querySelector("#qrNotif")),clearTimeout(a)},document.body.appendChild(img);var a=setTimeout(function(){document.body.removeChild(document.querySelector("#qrNotif"))},6e4)},this.connectedNotification=function(e){img=document.createElement("img"),img.id="conn",img.src="../resources/images/Connected"+e+".png",img.style.position="absolute",img.style.bottom="5%",img.style.right="5%",img.style.zIndex="99999",img.style.width="300px",img.style.border="5px solid #ccc",img.style.boxShadow="0px 0px 10px rgba(0,0,0,0.5)",document.body.appendChild(img),setTimeout(function(){document.body.removeChild(document.querySelector("#conn"))},5e3)},this.loadingNotification=function(){document.querySelector("#loadingNotif").style.display="block"},this.unloadingNotification=function(){document.querySelector("#loadingNotif").style.display="none"},this.disconnectedNotification=function(e){img=document.createElement("img"),img.id="disc",img.src="../resources/images/Disconnected"+e+".png",img.style.position="absolute",img.style.bottom="5%",img.style.right="5%",img.style.zIndex="99999",img.style.width="300px",img.style.border="5px solid #ccc",img.style.boxShadow="0px 0px 10px rgba(0,0,0,0.5)",document.body.appendChild(img),setTimeout(function(){document.body.removeChild(document.querySelector("#disc"))},3e3)},this.addMovablePanel=function(e){var t=(document.createElement("div"),document.createElement("div"),document.createElement("img"),document.createElement("span"),0);"supported"===mediascape.agentContext.capabilities().touchScreen?(e.addEventListener("touchend",function(t){var n=document.createEvent("MouseEvents");n.initEvent("mouseup",!0,!0),e.dispatchEvent(n),console.log("mouseup")},!1),e.addEventListener("holdpulse",function(t){if(console.log("HOLDPULSE"),t.holdTime>1600){var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgents(),a=document.createElement("div");a.style.backgroundColor="white",a.style.opacity="0.85",a.style.color="grey",a.style.top=e.offsetTop,a.style.left=e.offsetLeft,a.style.width=e.clientWidth,a.style.height=e.clientHeight,a.style.zIndex="1001",a.style.position="absolute",a.id="movablediv";var o=document.createElement("p");o.innerHTML="Move to: close",o.style.background="grey",o.style.color="white",o.style.marginTop="20%",o.style.marginLeft="20%",o.style.marginRight="20%",o.style.fontSize="120%",o.addEventListener("tap",function(e){document.body.removeChild(a)}),a.appendChild(o);for(ag in n){var o=document.createElement("p");o.id=ag.agentid,1===Object.keys(n).length?(o.innerHTML="no target",o.style.padding="10px",o.style.color="black",o.style.marginLeft="20%",o.style.testAlign="center"):n[ag].agentid!=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()&&(o.innerHTML="client:"+n[ag].agentid,o.style.padding="10px",o.style.marginLeft="20%",o.style.cursor="pointer",o.style.opacity="1.0",o.addEventListener("click",function(t){var n=t.srcElement.id;console.log(n),document.body.removeChild(a),mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setComponentToAgent(n,e)},!1)),a.appendChild(o)}document.body.appendChild(a),setTimeout(function(){document.body.removeChild(a)},3500)}return!0},!1)):e.addEventListener("holdpulse",function(n){if(event.holdTime>2e3){t=0;var a=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgents(),o=document.createElement("div");o.style.backgroundColor="white",o.style.opacity="0.85",o.style.color="grey",o.style.top=e.offsetTop,o.style.left=e.offsetLeft,o.style.width=e.clientWidth,o.style.height=e.clientHeight,o.style.zIndex="1001",o.style.position="absolute";var i=document.createElement("p");i.innerHTML="Move to: ",i.style.background="grey",i.style.color="white",i.style.marginTop="20%",i.style.marginLeft="20%",i.style.marginRight="20%",i.style.fontSize="120%",o.appendChild(i);for(ag in a){var i=document.createElement("p");i.id=ag.agentid,1===Object.keys(a).length?(i.innerHTML="no target",i.style.padding="10px",i.style.color="black",i.style.marginLeft="20%",i.style.testAlign="center"):a[ag].agentid!=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()&&(i.innerHTML="client:"+a[ag].agentid,i.style.padding="10px",i.style.marginLeft="20%",i.style.cursor="pointer",i.style.opacity="1.0",i.addEventListener("click",function(t){var n=t.srcElement.id;console.log(n),document.body.removeChild(o),mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setComponentToAgent(n,e)},!1)),o.appendChild(i)}document.body.appendChild(o),setTimeout(function(){document.body.removeChild(o)},3500)}},!0)},this.resizable=function(e){$("div").resizable()},this.addControlPanel=function(e){var t=document.createElement("img");t.src="../resources/configPanel/img/Tab.png",t.id="panelTab",document.body.appendChild(t),t.style.top=0,t.style.left=0,t.style.width="15%",t.style.position="absolute",t.style.zIndex=999;var n=this;t.addEventListener("click",function(e){n.ctrlPanel.showing?n.ctrlPanel.hide():n.ctrlPanel.show()});var a=document.createElement("p");a.className="responsive-menu-button",a.innerHTML=' <button type="button" data-toggle="offcanvas"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></button>',a.id="menuButtonP",document.body.appendChild(a),$(document).ready(function(){$("[data-toggle=offcanvas]").click(function(){$(".menu-sidebar").toggleClass("active")})}),this.ctrlPanel=new ControlPanel(e),this.ctrlPanel.hide();var o=document.createElement("img");o.id="tabDevId",document.body.appendChild(o),o.style.top=0,o.style.left=0,o.style.width="8%",o.style.position="absolute",o.style.zIndex=1e3,o.addEventListener("click",function(e){n.ctrlPanel.showing?n.ctrlPanel.hide():n.ctrlPanel.show()});var i=_.debounce(function(t){if(document.querySelector(".qr-code-content")){document.querySelector(".qr-code-content").parentNode.removeChild(document.querySelector(".qr-code-content"));var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=document.createElement("div");a.className="qr-code-content",a.id="qr-code-content";var o="";o=n<767?35*n/100:25*n/100,document.querySelector(".add-device-content").appendChild(a),mediascape.association.doAssociation("qr","qr-code-content",e,!0,30*n/100,30*n/100,o,0)}},1100);_.debounce=function(e,t,n){var a;return function(){var o=this,i=arguments,r=function(){a=null,n||e.apply(o,i)},s=n&&!a;clearTimeout(a),a=setTimeout(r,t),s&&e.apply(o,i)}},window.addEventListener("resize",i,!1);var n=this;document.addEventListener("keydown",function(e){16===e.keyCode&&(n.ctrlPanel.showing?n.ctrlPanel.hide():n.ctrlPanel.show())})},this.addController=function(){function e(e){"showBottom"!==e&&classie.toggle(b,"disabled")}var t=function(e){var t=Math.floor(e/86400),n=Math.floor((e-86400*t)/3600),a=Math.floor((e-86400*t-3600*n)/60),o=Math.floor(e-86400*t-3600*n-60*a),i="";return t>1?i=t+" days ":t>0&&(i=t+" day "),n>1?i+=n+":":n>0&&(i+=n+":"),a>1?i+=a+":":a>0&&(i+=a+":"),i+=o>9?o+"  ":"0"+o},n=function(){try{mediascape.AdaptationToolkit.Utils.getUrlVar("group")||this.mapp.motions.shared.update(0),0==this.mapp.motions.shared.vel?g.setAttribute("src","../resources/configPanel/img/controller/Play_activo.png"):g.setAttribute("src","../resources/configPanel/img/controller/Pause_activo.png");var e=function(e){c.style.width=100*Math.round(e.pos)/1561+"%",C.innerHTML=t(83869+e.pos)};this.mapp.motions.shared.on("timeupdate",e);var n=this;document.querySelector("video").addEventListener("ended",function(){});var a=this.mapp.motions.shared.vel;setInterval(function(){n.mapp.motions.shared.vel!=a&&(0==n.mapp.motions.shared.vel?g.setAttribute("src","../resources/configPanel/img/controller/Play_activo.png"):g.setAttribute("src","../resources/configPanel/img/controller/Pause_activo.png"),a=n.mapp.motions.shared.vel)},1500)}catch(e){console.log(e)}};playPause=function(){a===!0&&(a=!1,g.src.indexOf("Play_activo.png")>-1?(g.src="../resources/configPanel/img/controller/Pause_activo.png",this.mapp.motions.shared.update(null,1,0)):(g.src="../resources/configPanel/img/controller/Play_activo.png",this.mapp.motions.shared.update(null,0,0)),enableControllerClicks())},foward=function(){if(a===!0){a=!1;var e=this.mapp.motions.shared.query();e=findNextMarkerTime(e),this.mapp.motions.shared.update(e,1,0),enableControllerClicks()}},rewind=function(){if(a===!0){a=!1;var e=this.mapp.motions.shared.query();e=findPreviousMarkerTime(e),this.mapp.motions.shared.update(e,1,0),enableControllerClicks()}},findNextMarkerTime=function(e){var t=markers.sort(function(e,t){return e.value>t.value?1:-1}),n=t.sort(function(t,n){return t.value<e.pos?1:-1});return n[0].value},findPreviousMarkerTime=function(e){var t=markers.sort(function(e,t){return e.value<t.value?1:-1}),n=t.filter(function(t){return t.value+10<e.pos});return n[0].value},document.addEventListener("mediascape-modules-ready",n.bind(sm),!1);var a=!0;enableControllerClicks=function(){setTimeout(function(){a=!0},2e3)},markers=[{value:260,description:"EH Bildu, PSE comparecencia",progresspoint:26e3/1561},{value:690,description:"PNV comparecencia",progresspoint:69e3/1561},{value:780,description:"EH Bildu - Eizagirre",progresspoint:78e3/1561},{value:970,description:"Tertulia politica",progresspoint:97e3/1561},{value:1074,description:"Podemos Madrid comparecencia",progresspoint:107400/1561},{value:1302,description:"PP Euskadi comparecencia",progresspoint:130200/1561},{value:1404,description:"PP Madrid comparecencia",progresspoint:140400/1561}];var o=document.createElement("nav");o.className="cbp-spmenu cbp-spmenu-horizontal cbp-spmenu-bottom",o.id="cbp-spmenu-s4";var i=document.createElement("button");i.id="showBottom",i.innerHTML="Show/Hide Controller",o.appendChild(i);var r=document.createElement("div");r.className="controller_caja";var s=document.createElement("div");s.className="barra_superior";var l=document.createElement("div");l.className="barra_play";var c=document.createElement("div");c.className="barra_play_estado",l.appendChild(c);for(var u=0;u<markers.length;u++){var d=document.createElement("img");d.className="hito01",d.src="../resources/configPanel/img/controller/hito.jpg",d.style.left="calc("+markers[u].progresspoint+"% - "+5*u+"px)",!function(e){d.addEventListener("click",function(n){a===!0&&(a=!1,n.stopPropagation(),sm.mapp.motions.shared.update(markers[e].value,1,0),c.style.width=markers[e].progresspoint+"%",C.innerHTML=t(83869+markers[e].value),enableControllerClicks())})}(u),l.appendChild(d)}l.addEventListener("click",function(e){if(a===!0){a=!1;var n=Math.round(1561*e.offsetX/l.clientWidth);sm.mapp.motions.shared.update(n,1,0),c.style.width=100*Math.round(n)/1561+"%",C.innerHTML=t(83869+n),enableControllerClicks()}}),s.appendChild(l),r.appendChild(s);var p=document.createElement("div");p.className="w-clearfix barra_inferior";var m=document.createElement("div");m.className="botonera col-lg-4 col-md-5 col-sm-6";var h=document.createElement("img");h.className="btn_r_izda",h.width=111,h.src="../resources/configPanel/img/controller/rew_izda.png",h.addEventListener("click",rewind.bind(sm)),m.appendChild(h);var g=document.createElement("img");g.className="btn_stop",g.width=69,g.src="../resources/configPanel/img/controller/Pause_activo.png",g.id="pauseBut",g.addEventListener("click",playPause.bind(sm)),m.appendChild(g);var f=document.createElement("img");f.className="btn_r_dcha",f.width=107,f.src="../resources/configPanel/img/controller/rew_dcha.png",f.addEventListener("click",foward.bind(sm)),m.appendChild(f),p.appendChild(m);var y=document.createElement("div");y.className="w-clearfix tiempos col-lg-4 col-md-5 col-sm-6";var C=document.createElement("div");C.className="txt_tiempo_ejecucion",C.innerHTML="0:10:37";var v=document.createElement("div");v.className="tiempo_total",v.innerHTML="23:43:50",y.appendChild(C),y.appendChild(v),p.appendChild(y),r.appendChild(p),o.appendChild(r),document.body.appendChild(o);var N=document.getElementById("cbp-spmenu-s4"),b=document.getElementById("showBottom");document.body;b.onclick=function(){classie.toggle(this,"active"),classie.toggle(N,"cbp-spmenu-open"),e("showBottom")}},this.addMenuToCmps=function(e,t){t?e.forEach(function(e){e.querySelector("#menuBar"+e.id)&&e.removeChild(e.querySelector("#menuBar"+e.id));var t=document.createElement("div");t.id="menuBar"+e.id,t.style.backgroundColor="black",t.style.height="30px",t.style.width="100%",t.style.opacity="0.6",t.style.position="absolute",
t.style.marginTop="-30px",t.style.zIndex=20,t.style.display="none";var n=document.createElement("img");n.src="../resources/images/full-screen-icon.png",n.style.width="25px",n.style.marginTop="3px",n.id="fullIcon"+e.id,n.style.opacity="1",n.style.float="right",n.style.marginRight="15px",n.style.position="relative",n.addEventListener("click",function(e){e.srcElement=e.srcElement||e.target,console.log(e),document.querySelector("#"+e.srcElement.id.split("fullIcon")[1]).fire("componentToFullscreen")}),t.appendChild(n),e.appendChild(t)}):e.forEach(function(e){e.querySelector("#menuBar"+e.id)&&e.removeChild(e.querySelector("#menuBar"+e.id))})},this.hideAssociationPanel=function(){try{var e=document.querySelector("#associationPanel");if(e&&e.querySelector("div")){var t=e.querySelectorAll("img")[0],n=e.querySelectorAll("img")[1];t.style.display="block",n.style.display="none",e.querySelector("#code")&&e.removeChild(e.querySelector("#code")),e.removeChild(e.querySelector("#panelMenu")),e.removeChild(e.querySelector("#layoutsTable")),e.querySelector("#smallTable").style.display="none",e.style.borderRight="300px solid transparent",e.style.borderTop="100px solid "+associationPanel.style.backgroundColor,e.style.width="0",e.style.height="0",e.style.backgroundColor=""}}catch(e){console.log(e)}},this.toggleFullScreen=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},this.addVoiceControl=function(){if(annyang){var e={"show control panel":function(){alert("show control panel")},"hide control panel":function(){alert("hide control panel")},"change layout":function(){mediascape.AdaptationToolkit.Adaptation.UIAdaptation.onLayoutChangeEvent()}};annyang.addCommands(e),annyang.start()}}},uiComponents.__moduleName="uiComponents",uiComponents}),define("mediascape/AdaptationToolkit/utils/utils",[],function(){var e=function(){this.getUrlVar=function(e){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,a){t[n]=a});return t[e]},this.enableCameraAdmin=function(){setInterval(function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText),t=mediascape.AdaptationToolkit.Utils.diff(e,mediascape.cameras);if(0!=Object.keys(t).length){var n=new CustomEvent("cameraAdminChange",{detail:t});mediascape.cameras=e,document.dispatchEvent(n)}}},e.open("GET","/getCameraStatus",!0),e.send()},1500)},this.diff=function(e,t){var n={};return _.each(e,function(e,a){t[a]!==e&&(n[a]=_.isObject(e)?_.diff(e,t[a]):e)}),n},this.createGroupId=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},this.getObjectDiff=function(e,t){var n=[],a=["componentsStatus"];return function(e,t){if(e.constructor==Array)for(var o=0;o<e.length;o++)a.push("["+e[o].compId+"]"),arguments.callee(e[o],t[o]),a.pop();else if(e.constructor==Object||e.constructor!=Number&&e.constructor!=String&&e.constructor!=Date&&e.constructor!=RegExp&&e.constructor!=Function&&e.constructor!=Boolean)for(var i in e)a.push("."+i),e[i].constructor!=Function&&arguments.callee(e[i],t[i]),a.pop();else if(e.constructor!=Function&&(e!=t||e.length!=t.length)&&a.length>2){var r=a[1].substring(1,a[1].length-1);a=a.filter(function(e){if(e.indexOf("undefined")===-1)return!0});var s=a[a.length-1].substring(1);n.push({compId:r,property:s,newValue:e})}}(e,t),n},this.removeFromArray=function(e,t){for(var n=e.indexOf(t);n!==-1;)e.splice(n,1),n=e.indexOf(t)};var e=new XMLHttpRequest;return e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(mediascape.cameras=JSON.parse(this.responseText))},e.open("GET","/getCameraStatus",!0),e.send(),this};return e.__moduleName="Utils",e}),define("mediascape/AdaptationToolkit/AdaptationToolkit",["mediascape/AdaptationToolkit/adaptation/modules","mediascape/AdaptationToolkit/componentManager/modules","mediascape/AdaptationToolkit/uiComponents/uiComponents","mediascape/AdaptationToolkit/utils/utils"],function(){var e=Array.prototype.slice.apply(arguments),t={},t=function t(n,a,o){for(var i=0;i<e.length;++i){var r=e[i].__moduleName;"SharedMotion"===r?t[r]=e[i]:t[r]=new e[i](t,"gq"+i,t)}return t};return t.__moduleName="AdaptationToolkit",t}),Function.prototype.getBody=function(){var e=this.toString().match(/\{([\s\S]*)\}/m)[1];return e.replace(/^\s*\/\/.*$/gm,"")},window.dataRegister={save:function(e,t){"undefined"!=typeof Storage?localStorage.setItem(e,JSON.stringify(t)):console.warn("Not local storage supported")},get:function(e){return JSON.parse(localStorage.getItem(e))},init:function(){function e(e){(new Date).getTime()}function t(e){(new Date).getTime()}document.addEventListener("onlayoutchange",e.bind(this),!0),document.addEventListener("onComponentChange",t.bind(this),!0)}},function(e){function t(e){return/^[A-Za-z0-9\._-]{1,255}$/.test(e)}function n(e,t){var n="";return n+=e?"network/":"local/",n+=t,n+"/"}var a="ws://localhost:2000/",o=function(e,t){this.id=e,this.socket=t,this.url="#",this.readyState=o.prototype.CONNECTING,this.bufferedAmount=0,this.extensions=this.socket.extensions,this.protocol=this.socket.protocol,this.binaryType="blob",this.__events={}};o.prototype.send=function(e){if(this.readyState!=o.prototype.OPEN)throw"message cannot be sent because the web socket is not open";var t={Action:"message",Target:this.id,Payload:e};this.socket.send(JSON.stringify(t))},o.prototype.close=function(e,t){if(this.readyState!=o.prototype.OPEN)throw"web socket cannot be closed because it is not open";this.__doClose(e||3001,t||"Closed by local peer",this.socket)},o.prototype.addEventListener=function(e,t,n){e in this.__events||(this.__events[e]=[]),this.__events[e].push(t)},o.prototype.removeEventListener=function(e,t,n){if(e in this.__events)for(var a=this.__events[e],o=a.length-1;o>=0;--o)if(a[o]===t){a.splice(o,1);break}},o.prototype.dispatchEvent=function(e){for(var t=this.__events[e.type]||[],n=0;n<t.length;++n)t[n].call(this,e);var a=this["on"+e.type];a&&a.call(this,e)},o.prototype.__handleEvent=function(e){window.setTimeout(function(){"readyState"in e&&(this.readyState=e.readyState);var t;if("open"==e.type||"closing"==e.type||"error"==e.type)t=this.__createSimpleEvent(e.type);else if("close"==e.type)t=this.__createSimpleEvent("close"),t.code=e.code,t.reason=e.reason;else{if("message"!=e.type)throw"unknown event type: "+e.type;t=this.__createMessageEvent(e.senderId,e.message)}this.dispatchEvent(t),e.callback&&e.callback.call(this)}.bind(this),1)},o.prototype.__createSimpleEvent=function(e){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(e,!1,!1),t}return{type:e,bubbles:!1,cancelable:!1}},o.prototype.__createMessageEvent=function(e,t){if(window.MessageEvent&&"function"==typeof MessageEvent)return new MessageEvent("message",{view:window,bubbles:!1,cancelable:!1,senderId:e,data:t});if(document.createEvent&&window.MessageEvent){var n=document.createEvent("MessageEvent");return n.initMessageEvent("message",!1,!1,t,null,null,window,null),n}return{type:"message",data:t,bubbles:!1,cancelable:!1}},o.prototype.__doClose=function(e,t,n){this.__handleEvent({type:"closing",readyState:o.prototype.CLOSING,callback:function(){this.__handleEvent({type:"close",readyState:o.prototype.CLOSED,code:e,reason:t,callback:function(){var e=new CustomEvent("disconnect",{bubbles:!1,cancelable:!1,detail:{target:this}});n.dispatchEvent(e),n.ondisconnect&&n.ondisconnect.call(this,e)}})}})},o.prototype.CONNECTING=0,o.prototype.OPEN=1,o.prototype.CLOSING=2,o.prototype.CLOSED=3;var i=function(e,i,r){function s(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1}if(!t(e))throw"Invalid Service Name: "+e;var l=Math.floor(1e8*Math.random()),c=n(r,e),u=new WebSocket(a+c+l,i);u.id=l,u.peers=[];var d=new WebSocket(a+"control/"+c+l),p={};return d.onmessage=function(e){var t=JSON.parse(e.data);switch(t.Action){case"connect":var n=new o(t.Target,d);if(p[t.Target]=n,!s(n,u.peers)){console.log(s(n,u.peers)),u.peers.push(n);var a=new CustomEvent("connect",{bubbles:!1,cancelable:!1,detail:{target:n}});u.dispatchEvent(a),u.onconnect&&u.onconnect.call(this,a),window.setTimeout(function(){n.__handleEvent({type:"open",readyState:o.prototype.OPEN})},200)}break;case"disconnect":var n=p[t.Target];if(n){for(var i=0;i<u.peers.length;i++)u.peers[i].id==t.Target&&u.peers.splice(i,1);n.__doClose(3e3,"Closed by remote peer",u),delete p[t.Target]}break;case"message":var n=p[t.Source];if(n){var r=t.Payload;"[object String]"!=Object.prototype.toString.call(r)&&(r=JSON.stringify(r)),n.__handleEvent({type:"message",message:r,senderId:t.Source})}}},u},r=function(e,t){return new i(e,t,!0)},s=function(e,t){return new i(e,t,!1)};e.NetworkWebSocket||(e.NetworkWebSocket=(e.module||{}).exports=r),e.LocalWebSocket||(e.LocalWebSocket=(e.module||{}).exports=s)}(this),define("namedwebsockets",function(){}),define("mediascape/Discovery/discovery",["jquery","namedwebsockets"],function(e,t){var n=null,a=function(){this.connectNWS=function(t){var a=new Promise(function(a,o){e.Deferred();console.log("connection namedWebSockets"),n=NetworkWebSocket(t),n.peersIds=[],n.emiter=!1,n.onopen=function(e){console.log("* Named WebSockets connection established."),console.log('Connected to "'+t+'" as peer ['+n.id+"]"),console.log("NetworkWebSocket"),console.log(n),console.log("Event"),console.log(e),n.peersIds.push(n.id)},n.onconnect=function(e){console.log("connect");var t=e.detail.target;console.log("Peer ["+t.id+"] connected"),n.peersIds.push(t.id)},n.onclose=function(e){console.log("closed"),n.peersIds=[],n.close(),n=null},setTimeout(function(){a(n)},500)});return a},this.isPresent=function(t){function n(){var t=new Promise(function(t,n){e.Deferred();if(navigator.battery||navigator.webkitBattery||navigator.mozBattery||window.navigator.msBattery||navigator.getBattery)t(JSON.parse('{"presence":true}'));else{var a="http://localhost:8182/discoveryagent/battery/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceBattery"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function a(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/bluetooth/presence");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceBluetooth"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})});return t}function o(){var t=new Promise(function(t,n){e.Deferred();if(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)if("undefined"==typeof MediaStreamTrack)t(JSON.parse('{"presence":false}'));else if("function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString())MediaStreamTrack.getSources(function(n){for(var a=0,o=0;o<n.length;o++)"video"==n[o].kind&&a++;if(a>0)t(JSON.parse('{"presence":true}'));else{var i="http://localhost:8182/discoveryagent/camera/presence";e.ajax({url:i,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceCamera"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});else{var a="http://localhost:8182/discoveryagent/camera/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceCamera"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}else{var a="http://localhost:8182/discoveryagent/camera/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceCamera"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function i(){var t=new Promise(function(t,n){e.Deferred();(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&("function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString()?MediaStreamTrack.getSources(function(e){for(var n=0,a=0;a<e.length;a++)"audio"==e[a].kind&&n++;t(n>0?JSON.parse('{"presence":true}'):JSON.parse('{"presence":false}'))}):t(JSON.parse('{"presence":false}')))});return t}function r(){var t=new Promise(function(t,n){e.Deferred();t(window.DeviceProximityEvent?JSON.parse('{"presence":true}'):JSON.parse('{"presence":false}'))});return t}function s(){var t=new Promise(function(t,n){e.Deferred();if(!navigator.geolocation){var a="http://localhost:8182/discoveryagent/geolocation/presence",o=e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceGeolocation"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))});return o}t(JSON.parse('{"presence":true}'))});return t}function l(){var t=new Promise(function(t,n){e.Deferred();t(navigator.language?JSON.parse('{"presence":true}'):JSON.parse('{"presence":false}'))});return t}function c(){var t=new Promise(function(t,n){e.Deferred();if(screen.orientation||screen.msorientation||screen.mozOrientation)t(JSON.parse('{"presence":true}'));else{var a="http://localhost:8182/discoveryagent/orientation/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceOrientation"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function u(){var t=new Promise(function(t,n){e.Deferred();if(screen)t(JSON.parse('{"presence":true}'));else{var a="http://localhost:8182/discoveryagent/screen/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceScreen"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function d(){var t=new Promise(function(t,n){e.Deferred();if("ontouchstart"in window)t(JSON.parse('{"presence":true}'));else{var a="http://localhost:8182/discoveryagent/touchscreen/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceTouchscreen"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function p(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/upnp/presence");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceUpnp"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})});return t}function m(){var t=new Promise(function(t,n){e.Deferred();if(window.UserProximityEvent)t(JSON.parse('{"presence":true}'));else{var a="http://localhost:8182/discoveryagent/userProximity/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceUserProximity"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function h(){var t=new Promise(function(t,n){e.Deferred();if(navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate)t(JSON.parse('{"presence":true}'));else{var a="http://localhost:8182/discoveryagent/vibration/presence";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceVibration"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})}});return t}function g(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/agent/presence");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"presenceAgent"}).done(function(e,n,a){console.log(e),t(JSON.parse('{"presence":true}'))}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"presence":"Service Not Working"}'):JSON.parse('{"presence":false}'))})});return t}function f(){var t=new Promise(function(t,n){e.Deferred();t((navigator.onLine||navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)?JSON.parse('{"presence":true}'):JSON.parse('{"presence":false}'))});return t}function y(){var t=new Promise(function(t,n){e.Deferred();t(navigator.userAgent?JSON.parse('{"presence":true}'):JSON.parse('{"presence":false}'))});return t}if(t){if(t.toLowerCase().indexOf("battery")!=-1)return n();if(t.toLowerCase().indexOf("bluetooth")!=-1)return a();if(t.toLowerCase().indexOf("camera")!=-1)return o();if(t.toLowerCase().indexOf("audio")!=-1)return i();if(t.toLowerCase().indexOf("deviceproximity")!=-1)return r();if(t.toLowerCase().indexOf("geolocation")!=-1)return s();if(t.toLowerCase().indexOf("language")!=-1)return l();if(t.toLowerCase().indexOf("orientation")!=-1)return c();if(t.toLowerCase().indexOf("screensize")!=-1)return u();if(t.toLowerCase().indexOf("touchscreen")!=-1)return d();if(t.toLowerCase().indexOf("upnp")!=-1)return p();if(t.toLowerCase().indexOf("userproximity")!=-1)return m();if(t.toLowerCase().indexOf("vibration")!=-1)return h();if(t.toLowerCase().indexOf("connection")!=-1)return f();if(t.toLowerCase().indexOf("devicetype")!=-1)return y();var C=new Promise(function(t,n){e.Deferred();t(JSON.parse('{"presence":false}'))});return C}return g()},this.getExtra=function(t){function n(){var t=new Promise(function(t,n){e.Deferred();if(navigator.battery||navigator.webkitBattery||navigator.mozBattery||window.navigator.msBattery||navigator.getBattery)navigator.getBattery?navigator.getBattery().then(function(e){t(JSON.parse('{"extra":{"level":"'+Math.floor(100*e.level)+'%","charging":"'+e.charging+'"}}'))}):t(JSON.parse('{"extra":{"level":"'+Math.floor(100*navigator.battery.level)+'%","charging":"'+navigator.battery.charging+'"}}'));else{var a="http://localhost:8182/discoveryagent/battery/extra";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraBattery"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})}});return t}function a(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/bluetooth/extra");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraBluetooth"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})});return t}function o(){var t=new Promise(function(t,n){e.Deferred();if(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)"undefined"==typeof MediaStreamTrack?t(JSON.parse('{"extra":{"cameras":false}}')):"function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString()?MediaStreamTrack.getSources(function(e){for(var n=0,a=0;a<e.length;a++)"video"==e[a].kind&&n++;t(n>0?JSON.parse('{"extra":{"cameras":"'+n+'"}}'):JSON.parse('{"extra":{"cameras":false}}'))}):t(JSON.parse('{"extra":{"cameras":false}}'));else{var a="http://localhost:8182/discoveryagent/camera/extra";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraCamera"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})}});return t}function i(){console.log("audioGetExtra");var t=new Promise(function(t,n){e.Deferred();(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&"function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString()?MediaStreamTrack.getSources(function(e){for(var n=0,a=0;a<e.length;a++)"audio"==e[a].kind&&n++;t(JSON.parse('{"extra":{"audio":"'+n+'"}}'))}):t(JSON.parse('{"extra":{"audio":false}}'))});return t}function r(){console.log("deviceProximityGetExtra");var t=new Promise(function(t,n){e.Deferred();window.DeviceProximityEvent?window.addEventListener("deviceproximity",function(e){if(e.value){e.max,e.min,e.value;t(JSON.parse('{"extra":{"deviceProximity":"'+e.value+'"}}'))}else t(JSON.parse('{"extra":false}'))}):t(JSON.parse('{"extra":false}'))});return t}function s(){console.log("geolocationGetExtra");var t=new Promise(function(t,n){e.Deferred();if(navigator.geolocation)navigator.geolocation.getCurrentPosition(function(e){t(JSON.parse('{"extra":[{"latitude":"'+e.coords.latitude+'"},{"longitude":"'+e.coords.longitude+'"}]}'))},function(n){var a="http://localhost:8182/discoveryagent/geolocation/extra";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraGeolocation"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})});else{var a="http://localhost:8182/discoveryagent/geolocation/extra";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraGeolocation"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})}});return t}function l(){console.log("languageGetExtra");var t=new Promise(function(t,n){e.Deferred();t(navigator.language?JSON.parse('{"extra":{"language":"'+navigator.language+'"}}'):JSON.parse('{"extra":false}'))});return t}function c(){console.log("orientationGetExtra");var t=new Promise(function(t,n){e.Deferred();if(screen.orientation||screen.msorientation||screen.mozOrientation)screen.orientation?180==screen.orientation.angle?t(JSON.parse('{"extra":{"orientation":"reverse portrait"}}')):0==screen.orientation.angle?t(JSON.parse('{"extra":{"orientation":"portrait"}}')):screen.orientation.angle==-90||270==screen.orientation.angle?t(JSON.parse('{"extra":{"orientation":"reverse landscape"}}')):90==screen.orientation.angle&&t(JSON.parse('{"extra":{"orientation":"landscape"}}')):(screen.msorientation||screen.mozOrientation)&&("portrait-secondary"==screen.mozOrientation?t(JSON.parse('{"extra":{"orientation":"reverse portrait"}}')):"portrait-primary"==screen.mozOrientation?t(JSON.parse('{"extra":{"orientation":"portrait"}}')):"landscape-secondary"==screen.mozOrientation?t(JSON.parse('{"extra":{"orientation":"reverse landscape"}}')):"landscape-primary"==screen.mozOrientation&&t(JSON.parse('{"extra":{"orientation":"landscape"}}')));else{var a="http://localhost:8182/discoveryagent/orientation/extra";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraOrientation"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})}});return t}function u(){console.log("screenSizeGetExtra");var t=new Promise(function(t,n){e.Deferred();if(screen){var a,o;if(parseInt(navigator.appVersion)>3)a=screen.width,o=screen.height;else if("Netscape"==navigator.appName&&3==parseInt(navigator.appVersion)&&navigator.javaEnabled()){var i=java.awt.Toolkit.getDefaultToolkit(),r=i.getScreenSize();a=r.width,o=r.height}document.body.insertAdjacentHTML("beforeend",'<div id="dpi" style="height: 1in; width: 1in; left: 100%; position: absolute; top: 100%;"></div>');var s=document.getElementById("dpi").offsetWidth,l=document.getElementById("dpi").offsetHeight,c=screen.width/window.devicePixelRatio/s,u=screen.height/window.devicePixelRatio/l;document.getElementById("dpi").remove(),t(JSON.parse('{"extra":[{"width":"'+a+'","height":"'+o+'"},{"screenX":"'+c+'","screenY":"'+u+'"}]}')),mediascape.screenX=c,mediascape.screenY=u}else{var d="http://localhost:8182/discoveryagent/screen/extra";e.ajax({url:d,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraScreen"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})}});return t}function d(t,n){console.log("upnpGetExtra");var a=new Promise(function(a,o){var i=(e.Deferred(),{elementNumber:t,elementType:n}),r="http://localhost:8182/discoveryagent/upnp/extra";e.ajax({url:r,data:i,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraUpnp"}).done(function(e,t,n){a(e)}).fail(function(e,t,n){a(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})});return a}function p(){console.log("userProximityGetExtra");var t=new Promise(function(t,n){e.Deferred();if(window.UserProximityEvent)window.addEventListener("userproximity",function(e){t(e.near?JSON.parse('{"extra":{"userProximity":"'+e.value+'"}}'):JSON.parse('{"extra":false}'))});else{var a="http://localhost:8182/discoveryagent/userProximity/extra";e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"extraUserProximity"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"extra":"Service Not Working"}'):JSON.parse('{"extra":false}'))})}});return t}function m(){console.log("connectionGetExtra");var t=new Promise(function(t,n){e.Deferred();if(navigator.onLine||navigator.connection||navigator.mozConnection||navigator.webkitConnection){var a,o;switch(a=navigator.connection||{type:"0"},a.type){case a.CELL_3G:o="mediumbandwidth";break;case a.CELL_2G:o="lowbandwidth";break;default:o="highbandwidth"}t(void 0!=o?JSON.parse('{"extra":{"connection":"'+o+'"}}'):JSON.parse('{"extra":false}'))}else t(JSON.parse('{"extra":false}'))});return t}function h(){var t=new Promise(function(t,n){e.Deferred();navigator.userAgent&&(navigator.userAgent.toLowerCase().indexOf("mobile")!=-1?t(navigator.userAgent.toLowerCase().indexOf("ipad")!=-1?JSON.parse('{"extra":{"deviceType":"tablet"}}'):JSON.parse('{"extra":{"deviceType":"mobile"}}')):navigator.userAgent.toLowerCase().indexOf("x11")!=-1||navigator.userAgent.toLowerCase().indexOf("macintosh")!=-1||navigator.userAgent.toLowerCase().indexOf("windows nt")!=-1?t(JSON.parse('{"extra":{"deviceType":"computer"}}')):navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1||navigator.userAgent.toLowerCase().indexOf("rk3066")!=-1?t(JSON.parse('{"extra":{"deviceType":"tv"}}')):navigator.userAgent.toLowerCase().indexOf("android")!=-1&&t(JSON.parse('{"extra":{"deviceType":"tablet"}}')))});return t}function g(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/agent/capabilities");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"capabilities"}).done(function(e,n,a){if((navigator.battery||navigator.webkitBattery||navigator.mozBattery||window.navigator.msBattery||navigator.getBattery)&&!e.capabilities[0].batteryPresence&&(navigator.getBattery?navigator.getBattery().then(function(t){e.capabilities[0].batteryPresence=!0,e.capabilities[1].batteryExtra=JSON.parse('{"level":"'+Math.floor(100*t.level)+'%","charging":"'+t.charging+'"}')}):(e.capabilities[0].batteryPresence=!0,e.capabilities[1].batteryExtra=JSON.parse('[{"level":"'+Math.floor(100*navigator.battery.level)+'%","charging":"'+navigator.battery.charging+'"}]'))),(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&!e.capabilities[2].cameraPresence&&"function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString()&&MediaStreamTrack.getSources(function(t){for(var n=0,a=0;a<t.length;a++)"video"==t[a].kind&&n++;e.capabilities[2].cameraPresence=!0,e.capabilities[3].cameraExtra=n}),navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)if("function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString())MediaStreamTrack.getSources(function(t){for(var n=0,a=0;a<t.length;a++)"audio"==t[a].kind&&n++;if(n>0){var o='{"audioPresence":true}',i=JSON.parse(o);e.capabilities.push(i);var r='{"audioExtra":'+n+"}",s=JSON.parse(r);e.capabilities.push(s)}else{var o='{"audioPresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"audioExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}});else{var o='{"audioPresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"audioExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}if(screen&&!e.capabilities[4].orientationPresence){var l,c;if(e.capabilities[4].screenSizePresence=!0,parseInt(navigator.appVersion)>3)l=screen.width,c=screen.height;else if("Netscape"==navigator.appName&&3==parseInt(navigator.appVersion)&&navigator.javaEnabled()){var u=java.awt.Toolkit.getDefaultToolkit(),d=u.getScreenSize();l=d.width,c=d.height}document.body.insertAdjacentHTML("beforeend",'<div id="dpi" style="height: 1in; width: 1in; left: 100%; position: absolute; top: 100%;"></div>');var p=document.getElementById("dpi").offsetWidth,m=document.getElementById("dpi").offsetHeight,h=screen.width/window.devicePixelRatio/p,g=screen.height/window.devicePixelRatio/m;document.getElementById("dpi").remove(),e.capabilities[5].screenSizeExtra=JSON.parse('[{"width":"'+l+'","height":"'+c+'"},{"screenX":"'+h+'","screenY":"'+g+'"}]')}if(window.UserProximityEvent&&!e.capabilities[6].userProximityPresence&&window.addEventListener("userproximity",function(t){t.near&&(e.capabilities[6].userProximityPresence=!0,e.capabilities[7].userProximityExtra=t.value)}),(navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate)&&!e.capabilities[8].vibrationPresence&&(e.capabilities[8].vibrationPresence=!0),"ontouchstart"in window&&!e.capabilities[9].touchscreenPresence&&(e.capabilities[9].touchScreenPresence=!0),(screen.orientation||screen.msorientation||screen.mozOrientation)&&!e.capabilities[10].orientationPresence&&(screen.orientation?(e.capabilities[10].orientationPresence=!0,0==screen.orientation.angle?e.capabilities[11].orientationExtra="portrait":180==screen.orientation.angle?e.capabilities[11].orientationExtra="reverse portrait":90==screen.orientation.angle?e.capabilities[11].orientationExtra="landscape":screen.orientation.angle!=-90&&270!=screen.orientation.angle||(e.capabilities[11].orientationExtra="reverse landscape")):(screen.msorientation||screen.mozOrientation)&&(e.capabilities[10].orientationPresence=!0,"portrait-primary"==screen.orientation?e.capabilities[11].orientationExtra="portrait":"portrait-secondary"==screen.orientation?e.capabilities[11].orientationExtra="reverse portrait":"landscape-primary"==screen.orientation?e.capabilities[11].orientationExtra="landscape":"landscape-secondary"==screen.orientation&&(e.capabilities[11].orientationExtra="reverse landscape"))),navigator.geolocation&&!e.capabilities[12].geolocationPresence&&navigator.geolocation.getCurrentPosition(function(t){e.capabilities[12].geolocationPresence=!0,e.capabilities[13].geolocationExtra=JSON.parse('[{"latitude":"'+t.coords.latitude+'"},{"longitude":"'+t.coords.longitude+'"}]')}),navigator.language){var o='{"languagePresence":true}',i=JSON.parse(o);e.capabilities.push(i);var r='{"languageExtra":"'+navigator.language+'"}',s=JSON.parse(r);
e.capabilities.push(s)}else{var o='{"languagePresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"languageExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}if(window.DeviceProximityEvent)window.addEventListener("deviceproximity",function(t){if(t.value){var n='{"deviceProximityPresence":true}',a=JSON.parse(n);e.capabilities.push(a);var o='{"deviceProximityExtra":'+t.value+"}",i=JSON.parse(o);e.capabilities.push(i)}else{var n='{"deviceProximityPresence":false}',a=JSON.parse(n);e.capabilities.push(a);var o='{"deviceProximityExtra":false}',i=JSON.parse(o);e.capabilities.push(i)}});else{var o='{"deviceProximityPresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"deviceProximityExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}if(navigator.onLine||navigator.connection||navigator.mozConnection||navigator.webkitConnection){var f,y;switch(f=navigator.connection||{type:"0"},f.type){case f.CELL_3G:y="mediumbandwidth";break;case f.CELL_2G:y="lowbandwidth";break;default:y="highbandwidth"}if(void 0!=y){var o='{"connectionPresence":true}',i=JSON.parse(o);e.capabilities.push(i);var r='{"connectionExtra":"'+y+'"}',s=JSON.parse(r);e.capabilities.push(s)}else{var o='{"connectionPresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"connectionExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}}else{var o='{"connectionPresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"connectionExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}if(navigator.userAgent){var o='{"deviceTypePresence":true}',i=JSON.parse(o);if(e.capabilities.push(i),navigator.userAgent.toLowerCase().indexOf("mobile")!=-1)if(navigator.userAgent.toLowerCase().indexOf("ipad")!=-1){var r='{"deviceType":"tablet"}',s=JSON.parse(r);e.capabilities.push(s)}else{var r='{"deviceType":"mobile"}',s=JSON.parse(r);e.capabilities.push(s)}else if(navigator.userAgent.toLowerCase().indexOf("x11")!=-1||navigator.userAgent.toLowerCase().indexOf("macintosh")!=-1||navigator.userAgent.toLowerCase().indexOf("windows nt")!=-1){var r='{"deviceType":"computer"}',s=JSON.parse(r);e.capabilities.push(s)}else if(navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1||navigator.userAgent.toLowerCase().indexOf("rk3066")!=-1){var r='{"deviceType":"tv"}',s=JSON.parse(r);e.capabilities.push(s)}else if(navigator.userAgent.toLowerCase().indexOf("android")!=-1){var r='{"deviceType":"tablet"}',s=JSON.parse(r);e.capabilities.push(s)}}else{var o='{"deviceTypePresence":false}',i=JSON.parse(o);e.capabilities.push(i);var r='{"deviceTypeExtra":false}',s=JSON.parse(r);e.capabilities.push(s)}setTimeout(function(){t(e)},500)}).fail(function(e,n,a){var o='{"capabilities":[]}',i=JSON.parse(o);if(navigator.battery||navigator.webkitBattery||navigator.mozBattery||window.navigator.msBattery||navigator.getBattery){var r='{"batteryPresence":true}',s=JSON.parse(r);if(i.capabilities.push(s),navigator.getBattery)navigator.getBattery().then(function(e){var t=JSON.parse('{"batteryExtra":{"level":"'+Math.floor(100*e.level)+'%","charging":"'+e.charging+'"}}');i.capabilities.push(t)});else{var l=JSON.parse('{"batteryExtra":{"level":"'+Math.floor(100*navigator.battery.level)+'%","charging":"'+navigator.battery.charging+'"}}');i.capabilities.push(l)}}else{var r='{"batteryPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"batteryExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)if("function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString())MediaStreamTrack.getSources(function(e){for(var t=0,n=0;n<e.length;n++)"audio"==e[n].kind&&t++;if(t>0){var a='{"audioPresence":true}',o=JSON.parse(a);i.capabilities.push(o);var r='{"audioExtra":'+t+"}",s=JSON.parse(r);i.capabilities.push(s)}else{var a='{"audioPresence":false}',o=JSON.parse(a);i.capabilities.push(o);var r='{"audioExtra":false}',s=JSON.parse(r);i.capabilities.push(s)}});else{var r='{"audioPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"audioExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)if("function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString())MediaStreamTrack.getSources(function(e){for(var t=0,n=0;n<e.length;n++)"video"==e[n].kind&&t++;if(t>0){var a='{"cameraPresence":true}',o=JSON.parse(a);i.capabilities.push(o);var r='{"cameraExtra":'+t+"}",s=JSON.parse(r);i.capabilities.push(s)}else{var a='{"cameraPresence":false}',o=JSON.parse(a);i.capabilities.push(o);var r='{"cameraExtra":false}',s=JSON.parse(r);i.capabilities.push(s)}});else{var r='{"cameraPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"cameraExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(screen){var u,d;if(parseInt(navigator.appVersion)>3)u=screen.width,d=screen.height;else if("Netscape"==navigator.appName&&3==parseInt(navigator.appVersion)&&navigator.javaEnabled()){var p=java.awt.Toolkit.getDefaultToolkit(),m=p.getScreenSize();u=m.width,d=m.height}document.body.insertAdjacentHTML("beforeend",'<div id="dpi" style="height: 1in; width: 1in; left: 100%; position: absolute; top: 100%;"></div>');var h=document.getElementById("dpi").offsetWidth,g=document.getElementById("dpi").offsetHeight,f=screen.width/window.devicePixelRatio/h,y=screen.height/window.devicePixelRatio/g,r='{"screenSizePresence":true}',s=JSON.parse(r);i.capabilities.push(s),document.getElementById("dpi").remove();var c='{"screenSizeExtra":[{"width":"'+u+'","height":"'+d+'"},{"screenX":"'+f+'","screenY":"'+y+'"}]}',l=JSON.parse(c);i.capabilities.push(l)}else{var r='{"screenSizePresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"screenSizeExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(window.UserProximityEvent)window.addEventListener("userproximity",function(e){if(e.near){var t='{"userProximityPresence":true}',n=JSON.parse(t);i.capabilities.push(n);var a='{"userProximityExtra":'+evet.near+"}",o=JSON.parse(a);i.capabilities.push(o)}else{var t='{"userProximityPresence":false}',n=JSON.parse(t);i.capabilities.push(n);var a='{"userProximityExtra":false}',o=JSON.parse(a);i.capabilities.push(o)}});else{var r='{"userProximityPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"userProximityExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate){var r='{"vibrationPresence":true}',s=JSON.parse(r);i.capabilities.push(s)}else{var r='{"vibrationPresence":false}',s=JSON.parse(r);i.capabilities.push(s)}if("ontouchstart"in window){var r='{"touchScreenPresence":true}',s=JSON.parse(r);i.capabilities.push(s)}else{var r='{"touchScreenPresence":false}',s=JSON.parse(r);i.capabilities.push(s)}if(screen.orientation||screen.msorientation||screen.mozOrientation){var C,r='{"orientationPresence":true}',s=JSON.parse(r);if(i.capabilities.push(s),screen.orientation){0==screen.orientation.angle?C="portrait":180==screen.orientation.angle?C="reverse portrait":90==screen.orientation.angle?C="landscape":screen.orientation.angle!=-90&&270!=screen.orientation.angle||(C="reverse landscape");var c='{"orientationExtra":"'+C+'"}',l=JSON.parse(c);i.capabilities.push(l)}else if(screen.msorientation||screen.mozOrientation){"portrait-primary"==screen.orientation?C="portrait":"portrait-secondary"==screen.orientation?C="reverse portrait":"landscape-primary"==screen.orientation?C="landscape":"landscape-secondary"==screen.orientation&&(C="reverse landscape");var c='{"orientationExtra":"'+C+'"}',l=JSON.parse(c);i.capabilities.push(l)}}else{var r='{"orientationPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"orientationExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(navigator.geolocation)navigator.geolocation.getCurrentPosition(function(e){if(e){var t='{"geolocationPresence":true}',n=JSON.parse(t);i.capabilities.push(n);var a='{"geolocationExtra":[{"latitude":"'+e.coords.latitude+'"},{"longitude":"'+e.coords.longitude+'"}]}',o=JSON.parse(a);i.capabilities.push(o)}else{var t='{"geolocationPresence":false}',n=JSON.parse(t);i.capabilities.push(n);var a='{"geolocationExtra":false}',o=JSON.parse(a);i.capabilities.push(o)}});else{var r='{"geolocationPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"geolocationExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(navigator.language){var r='{"languagePresence":true}',s=JSON.parse(r);i.capabilities.push(s);var c='{"languageExtra":"'+navigator.language+'"}',l=JSON.parse(c);i.capabilities.push(l)}else{var r='{"languagePresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"languageExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(window.DeviceProximityEvent)window.addEventListener("deviceproximity",function(e){if(e.value){var t='{"deviceProximityPresence":true}',n=JSON.parse(t);i.capabilities.push(n);var a='{"deviceProximityExtra":'+e.value+"}",o=JSON.parse(a);i.capabilities.push(o)}else{var t='{"deviceProximityPresence":false}',n=JSON.parse(t);i.capabilities.push(n);var a='{"deviceProximityExtra":false}',o=JSON.parse(a);i.capabilities.push(o)}});else{var r='{"deviceProximityPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"deviceProximityExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}var r='{"bluetoothPresence":false}',s=JSON.parse(r);if(i.capabilities.push(s),navigator.onLine||navigator.connection||navigator.mozConnection||navigator.webkitConnection){var v,N;switch(v=navigator.connection||{type:"0"},v.type){case v.CELL_3G:N="mediumbandwidth";break;case v.CELL_2G:N="lowbandwidth";break;default:N="highbandwidth"}if(void 0!=N){var r='{"connectionPresence":true}',s=JSON.parse(r);i.capabilities.push(s);var c='{"connectionExtra":"'+N+'"}',l=JSON.parse(c);i.capabilities.push(l)}else{var r='{"connectionPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"connectionExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}}else{var r='{"connectionPresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"connectionExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}if(navigator.userAgent){var r='{"deviceTypePresence":true}',s=JSON.parse(r);if(i.capabilities.push(s),navigator.userAgent.toLowerCase().indexOf("mobile")!=-1)if(navigator.userAgent.toLowerCase().indexOf("ipad")!=-1){var c='{"deviceType":"tablet"}',l=JSON.parse(c);i.capabilities.push(l)}else{var c='{"deviceType":"mobile"}',l=JSON.parse(c);i.capabilities.push(l)}else if(navigator.userAgent.toLowerCase().indexOf("x11")!=-1||navigator.userAgent.toLowerCase().indexOf("macintosh")!=-1||navigator.userAgent.toLowerCase().indexOf("windows nt")!=-1){var c='{"deviceType":"computer"}',l=JSON.parse(c);i.capabilities.push(l)}else if(navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1||navigator.userAgent.toLowerCase().indexOf("rk3066")!=-1){var c='{"deviceType":"tv"}',l=JSON.parse(c);i.capabilities.push(l)}else if(navigator.userAgent.toLowerCase().indexOf("android")!=-1){var c='{"deviceType":"tablet"}',l=JSON.parse(c);i.capabilities.push(l)}}else{var r='{"deviceTypePresence":false}',s=JSON.parse(r);i.capabilities.push(s);var c='{"deviceTypeExtra":false}',l=JSON.parse(c);i.capabilities.push(l)}setTimeout(function(){t(i)},500)})});return t}if(t){if(t.toLowerCase().indexOf("battery")!=-1)return n();if(t.toLowerCase().indexOf("bluetooth")!=-1)return a();if(t.toLowerCase().indexOf("camera")!=-1)return o();if(t.toLowerCase().indexOf("audio")!=-1)return i();if(t.toLowerCase().indexOf("deviceproximity")!=-1)return r();if(t.toLowerCase().indexOf("geolocation")!=-1)return s();if(t.toLowerCase().indexOf("language")!=-1)return l();if(t.toLowerCase().indexOf("orientation")!=-1)return c();if(t.toLowerCase().indexOf("screensize")!=-1)return u();if(t.toLowerCase().indexOf("upnp")!=-1)return d();if(t.toLowerCase().indexOf("userproximity")!=-1)return p();if(t.toLowerCase().indexOf("connection")!=-1)return m();if(t.toLowerCase().indexOf("devicetype")!=-1)return h();var f=new Promise(function(t,n){e.Deferred();t(JSON.parse('{"extra":false}'))});return f}return g()},this.getDevices=function(t){function a(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/bluetooth/devices");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"devicesBluetooth"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"devices":"Service Not Working"}'):JSON.parse('{"devices":false}'))})});return t}function o(){var t=new Promise(function(t,n){var a=(e.Deferred(),"http://localhost:8182/discoveryagent/upnp/devices");e.ajax({url:a,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"devicesUpnp"}).done(function(e,n,a){t(e)}).fail(function(e,n,a){t(404==e.status?JSON.parse('{"devices":"Service Not Working"}'):JSON.parse('{"devices":false}'))})});return t}function i(){var t=new Promise(function(t,a){e.Deferred();if(null!=n){var o=[];console.log(n),o.push({id:n.id});for(var i=0;i<n.peers.length;i++)o.push({id:n.peers[i].id});t(0!=o.length?JSON.parse('{"devices":'+JSON.stringify(o)+"}"):JSON.parse('{"devices":false}'))}else t(JSON.parse('{"devices":false}'))});return t}if(t){if(t.toLowerCase().indexOf("upnp")!=-1)return o();if(t.toLowerCase().indexOf("bluetooth")!=-1)return a();if(t.toLowerCase().indexOf("namedwebsockets")!=-1)return i()}},this.getServices=function(t,n){function a(t){var n=new Promise(function(n,a){var o=(e.Deferred(),{device:t}),i="http://localhost:8182/discoveryagent/bluetooth/services";e.ajax({url:i,data:o,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"servicesBluetooth"}).done(function(e,t,a){n(e)}).fail(function(e,t,a){n(404==e.status?JSON.parse('{"services":"Service Not Working"}'):JSON.parse('{"services":false}'))})});return n}function o(t){var n=new Promise(function(n,a){var o=(e.Deferred(),{device:t}),i="http://localhost:8182/discoveryagent/upnp/services";e.ajax({url:i,data:o,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"servicesUpnp"}).done(function(e,t,a){n(e)}).fail(function(e,t,a){n(404==e.status?JSON.parse('{"services":"Service Not Working"}'):JSON.parse('{"services":false}'))})});return n}if(t){if(t.toLowerCase().indexOf("upnp")!=-1)return o(n);if(t.toLowerCase().indexOf("bluetooth")!=-1)return a(n)}},this.getActions=function(t,n,a){function o(t,n){var a=new Promise(function(a,o){var i=(e.Deferred(),{device:t,service:n}),r="http://localhost:8182/discoveryagent/bluetooth/actions";e.ajax({url:r,data:i,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"actionsBluetooth"}).done(function(e,t,n){a(e)}).fail(function(e,t,n){a(404==e.status?JSON.parse('{"actions":"Service Not Working"}'):JSON.parse('{"actions":false}'))})});return a}function i(t,n){var a=new Promise(function(a,o){var i=(e.Deferred(),{device:t,service:n}),r="http://localhost:8182/discoveryagent/upnp/actions";e.ajax({url:r,data:i,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"actionsUpnp"}).done(function(e,t,n){a(e)}).fail(function(e,t,n){a(404==e.status?JSON.parse('{"actions":"Service Not Working"}'):JSON.parse('{"actions":false}'))})});return a}if(t){if(t.toLowerCase().indexOf("upnp")!=-1)return i(n,a);if(t.toLowerCase().indexOf("bluetooth")!=-1)return o(n,a)}},this.getParameters=function(t,n,a,o){function i(t,n,a){var o=new Promise(function(o,i){var r=(e.Deferred(),{device:t,service:n,action:a}),s="http://localhost:8182/discoveryagent/bluetooth/parameters";e.ajax({url:s,data:r,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"parametersBluetooth"}).done(function(e,t,n){o(e)}).fail(function(e,t,n){o(404==e.status?JSON.parse('{"actions":"Service Not Working"}'):JSON.parse('{"actions":false}'))})});return o}function r(t,n,a){var o=new Promise(function(o,i){var r=(e.Deferred(),{device:t,service:n,action:a}),s="http://localhost:8182/discoveryagent/upnp/parameters";e.ajax({url:s,data:r,dataType:"jsonp",crossDomain:!0,jsonp:"callback",jsonpCallback:"parametersUpnp"}).done(function(e,t,n){o(e)}).fail(function(e,t,n){o(404==e.status?JSON.parse('{"actions":"Service Not Working"}'):JSON.parse('{"actions":false}'))})});return o}if(t){if(t.toLowerCase().indexOf("upnp")!=-1)return r(n,a,o);if(t.toLowerCase().indexOf("bluetooth")!=-1)return i(n,a,o)}}};return a.__moduleName="discovery",a}),define("mediascape/Mappingservice/mappingservice",["socketio"],function(e){var t=function(t,n){var a=null,o={},r=Object.freeze({CONNECTING:"connecting",OPEN:"open",CLOSED:"closed"});if("object"==typeof t){var n=t;t={},console.log("options",n)}var s={readystatechange:[]};if(!n)var n={};n.maxTimeout||(n.maxTimeout=2e3),n.forceNew=!0,n.multiplex=!1;var l=t||{},c=[],u=[],d=function(){a=e(l,n),a.on("connect",p),g.set("connecting"),a.on("mapping",m),a.connected===!0&&p()},p=function(){g.set("open")},m=function(e){var n=t;if("object"==typeof t||!t)var n=window.location.protocol+"//"+window.location.host+"/";if(e.group){var a={group:n+e.group};u.length>0&&(promise=u.pop(),promise(a))}else{var a={};e.user&&(a.user=n+e.user),e.app&&(a.app=n+e.app),e.userApp&&(a.userApp=n+e.userApp),c.length>0&&(promise=c.pop(),promise(a))}},h=function(e,t,n){if(!s.hasOwnProperty(e))throw"Unsupported event "+e;var a;for(i=0;i<s[e].length;i++){if(a=s[e][i],void 0===n){if(a._immediate_pending)continue}else{if(a!==n)continue;n._immediate_pending=!1}try{a.call(o,t)}catch(t){_error("Error in "+e+": "+a+": "+t)}}},g=function(){var e=r.CONNECTING;return{set:function(t){found=!1;for(key in r)r.hasOwnProperty(key)&&r[key]===t&&(found=!0);if(!found)throw"Illegal state value "+t;e!==r.CLOSED&&t!==e&&(e=t,h("readystatechange",t))},get:function(){return e}}}(),f=function(e,t){if(!e||!Array.isArray(t))throw"appId or scopeList undefined";for(var o={appId:e},i=0,r=t.length;i<r;i++)"user"===t[i]&&(o.user=!0),"app"===t[i]&&(o.app=!0),"userApp"===t[i]&&(o.userApp=!0);return n.userId&&(o.userId=n.userId),a.emit("getMapping",o),new Promise(function(e,t){c.push(function(t){e(t)}),setTimeout(function(){t({error:"timeout-mappinservice"})},n.maxTimeout)})},y=function(e){if(!e)throw"groupId undefined";var t={groupId:e};return a.emit("getMapping",t),new Promise(function(e,t){u.push(function(t){e(t)}),console.log(n.maxTimeout),setTimeout(function(){t({error:"timeout-mappinservice2"})},n.maxTimeout)})},C=function(e,t){if(!t||"function"!=typeof t)throw"Illegal handler";if(!s.hasOwnProperty(e))throw"Unsupported event "+e;var n=s[e].indexOf(t);return n===-1&&(s[e].push(t),t._immediate_pending=!0,setTimeout(function(){switch(e){case"readystatechange":h("readystatechange",g.get(),t)}},0)),o},v=function(e,t){if(void 0!==s[e]){var n=s[e].indexOf(t);n>-1&&s[e].splice(n,1)}return o};return o.__defineGetter__("readyState",g.get),o.__defineGetter__("STATE",function(){return r}),o.getUserMapping=f,o.getGroupMapping=y,o.on=C,o.off=v,d(),o};return t.__moduleName="mappingService",t}),function(e,t){"function"==typeof define&&define.amd?define("shake",[],function(){return t(e,e.document)}):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.document):e.Shake=t(e,e.document)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(n){if(this.hasDeviceMotion="ondevicemotion"in e,this.options={threshold:15,timeout:1e3},"object"==typeof n)for(var a in n)n.hasOwnProperty(a)&&(this.options[a]=n[a]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof t.CustomEvent)this.event=new t.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if("function"!=typeof t.createEvent)return!1;this.event=t.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&e.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&e.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(t){var n,a,o=t.accelerationIncludingGravity,i=0,r=0,s=0;return null===this.lastX&&null===this.lastY&&null===this.lastZ?(this.lastX=o.x,this.lastY=o.y,void(this.lastZ=o.z)):(i=Math.abs(this.lastX-o.x),r=Math.abs(this.lastY-o.y),s=Math.abs(this.lastZ-o.z),(i>this.options.threshold&&r>this.options.threshold||i>this.options.threshold&&s>this.options.threshold||r>this.options.threshold&&s>this.options.threshold)&&(n=new Date,a=n.getTime()-this.lastTime.getTime(),a>this.options.timeout&&(e.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=o.x,this.lastY=o.y,void(this.lastZ=o.z))},n.prototype.handleEvent=function(e){if("function"==typeof this[e.type])return this[e.type](e)},n}),define("mediascape/DiscoveryForAgentContext/discoveryforagentcontext",["mediascape/Discovery/discovery","mediascape/Agentcontext/agentcontext","shake"],function(e,t){var n=function(){function e(e,t){var n=0,a=0;for(var o in e)a+=e[o][t],n++;return a/n}function n(t){var n={alpha:t.alpha,beta:t.beta,gamma:t.gamma};c.push(n);var o=new Date;if(o-u>150){var n={alpha:e(c,"alpha"),beta:e(c,"beta"),gamma:e(c,"gamma")};a.setItem("deviceOrientation",n),c=[],u=o}}function e(e,t){var n=0,a=0;for(var o in e)a+=e[o][t],n++;return a/n}console.log("DISCOVER WP4<<<<<<<<<<<<<<<<");var a=mediascape.agentContext,o={};try{document.createEvent("TouchEvent");var i={init:function(){this.setCapability("touchScreen","supported"),a.setItem("touchScreen","supported")},on:function(){this.setCapability("touchScreen","supported"),a.setItem("touchScreen","supported")},off:function(){}};a.load({touchScreen:i})}catch(e){var i={init:function(){this.setCapability("touchScreen","unsupported"),a.setItem("touchScreen","unsupported")},on:function(){this.setCapability("touchScreen","unsupported"),a.setItem("touchScreen","unsupported")},off:function(){}};a.load({touchScreen:i})}mediascape.discovery.isPresent("screensize").then(function(e){if(e.presence===!0){var t={init:function(){this.setCapability("screenSize","supported")},on:function(){mediascape.discovery.getExtra("screensize").then(function(e){navigator.appVersion.indexOf("MK12")!=-1?(e.extra[1].screenX="24",e.extra[1].screenY="18",a.setItem("screenSize",e.extra)):navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1?(e.extra[1].screenX="24",e.extra[1].screenY="18",e.extra[0].width="20000",e.extra[0].height="20000",a.setItem("screenSize",e.extra)):a.setItem("screenSize",e.extra)})},off:function(){}};a.load({screenSize:t})}});var r={init:function(){this.setCapability("componentsStatus","supported"),document.addEventListener("onComponentsChange",function(e){a.setItem("componentsStatus",e.detail.cmps),document.removeEventListener("onComponentsChange",arguments.callee)})},on:function(){document.addEventListener("onComponentsChange",function(e){a.setItem("componentsStatus",e.detail.cmps)})},off:function(){document.removeEventListener("onComponentsChange",function(e){a.setItem("componentsStatus",e.detail.cmps)})}};a.load({componentsStatus:r});var s={init:function(){this.setCapability("layoutEvent","supported"),a.setItem("layoutEvent",""),console.log("INIT INSTRUMENT")},on:function(){a.setItem("layoutEvent","")},off:function(){}};a.load({layoutEvent:s});var s={init:function(){this.setCapability("layoutStatus","supported"),document.addEventListener("applicationContext-ready",function(){var e=setInterval(function(){try{void 0!==mediascape.AdaptationToolkit.Adaptation.UIAdaptation.getActualLayout()&&(a.setItem("layoutStatus",mediascape.AdaptationToolkit.Adaptation.UIAdaptation.getActualLayout()),clearInterval(e))}catch(e){console.log(e)}},500)}),document.addEventListener("layoutEvent",function(e){a.setItem("layoutStatus",e.detail.layoutName)}),console.log("INIT LAYOUT STATUS INSTRUMENT")},on:function(){document.addEventListener("layoutEvent",function(e){a.setItem("layoutStatus",e.detail.layoutName)})},off:function(){}};a.load({layoutStatus:s});var l={init:function(){this.setCapability("layoutParameter","supported"),a.setItem("layoutParameter",""),console.log("INIT INSTRUMENT")},on:function(){document.addEventListener("onLayoutParameterChange",function(e){a.setItem("layoutParameter",e.detail)})},off:function(){}};if(a.load({layoutParameter:l}),mediascape.discovery.isPresent("language").then(function(e){if(e.presence){var t={init:function(){this.setCapability("language","supported"),mediascape.discovery.getExtra("language").then(function(e){a.setItem("language",e.extra.language)})}};a.load({language:t})}}),navigator.platform&&(o.platform={init:function(){this.setCapability("platform","supported"),document.addEventListener("mediascape-modules-ready",function(){mediascape.DeviceProfile.checkDevice(navigator.userAgent).done(function(e){mediascape.deviceType=e.deviceType,a.setItem("platform",e)})})}}),navigator.product&&(o.navigatorProduct={init:function(){this.setCapability("navigatorProduct","supported"),a.setItem("navigatorProduct",navigator.product)}}),navigator.onLine&&(o.onLine={init:function(){this.setCapability("onLine","supported"),a.setItem("onLine",navigator.onLine)}}),mediascape.discovery.isPresent("deviceType").then(function(e){if(e.presence){var t={init:function(){this.setCapability("deviceType","supported"),mediascape.discovery.getExtra("deviceType").then(function(e){a.setItem("deviceType",e.extra.deviceType)})}};a.load({deviceType:t})}}),mediascape.discovery.isPresent("vibration").then(function(e){if(e.presence){var t={init:function(){this.setCapability("vibrate","maybe")}};a.load({vibration:t})}}),window.DeviceOrientationEvent){var c=[],u=0;o.deviceOrientation={init:function(){function e(e){window.ondeviceorientation=null,null==e.gamma&&null==e.beta&&null==e.alpha?t.setCapability("deviceOrientation","unsupported"):t.setCapability("deviceOrientation","supported")}var t=this;this.setCapability("deviceOrientation","unsupported"),window.ondeviceorientation=e},on:function(){window.addEventListener("deviceorientation",n)},off:function(){window.removeEventListener("deviceorientation",n)}}}if(mediascape.discovery.isPresent("orientation").then(function(e){function t(){mediascape.discovery.getExtra("orientation").then(function(e){a.setItem("orientation",e.extra.orientation)})}if(e.presence){var n={init:function(){this.setCapability("orientation","supported"),t()},on:function(){screen.orientation?window.addEventListener("orientationchange",t):(screen.msorientation||screen.mozOrientation)&&(window.addEventListener("orientationchange",t),window.addEventListener("MozOrientation",t),window.addEventListener("resize",t)),t()},off:function(){window.removeEventListener("orientationchange",t),window.removeEventListener("MozOrientation",t)}};a.load({orientation:n})}}),window.DeviceMotionEvent){var d=[],p=0,m=function(t){var n=t.accelerationIncludingGravity.x,o=t.accelerationIncludingGravity.y,i=t.accelerationIncludingGravity.z,r={x:n,y:o,z:i,xAngle:Math.atan2(o,i),yAngle:Math.atan2(n,i),zAngle:Math.atan2(n,o)};d.push(r);var s=new Date;if(s-p>150){var l={x:e(d,"x"),y:e(d,"y"),z:e(d,"z"),xAngle:e(d,"xAngle"),yAngle:e(d,"yAngle"),zAngle:e(d,"zAngle")};a.setItem("deviceMotion",l),d=[],p=s}};o.deviceMotion={init:function(){this.setCapability("deviceMotion","unsupported");var e=this;motiontest=function(t){window.ondevicemotion=null,null==t.acceleration.x&&null==t.acceleration.y&&null==t.acceleration.z?e.setCapability("deviceMotion","unsupported"):e.setCapability("deviceMotion","supported")},void 0==window.DeviceMotionEvent?e.setCapability("deviceMotion","unsupported"):window.ondevicemotion=motiontest},on:function(){window.addEventListener("devicemotion",m,!1)},off:function(){window.removeEventListener("devicemotion",m)}}}t&&(window.myShakeEvent=new t({threshold:3,timeout:100})),window.DeviceMotionEvent&&window.myShakeEvent&&(o.shake={init:function(){var e=this;this.setCapability("shake","unsupported"),motiontest=function(t){if(window.ondevicemotion=null,null==t.acceleration.x&&null==t.acceleration.y&&null==t.acceleration.z)e.setCapability("shake","unsupported");else{e.setCapability("shake","supported");var n;window.addEventListener("shake",function(){n?(clearTimeout(n),n=null):a.setItem("shake",!0),n=setTimeout(function(){a.setItem("shake",!1),n=null},500)},!1)}},window.ondevicemotion=motiontest},on:function(){window.myShakeEvent.start()},off:function(){window.myShakeEvent.stop()}}),mediascape.discovery.isPresent("connection").then(function(e){function t(){mediascape.discovery.getExtra("connection").then(function(e){a.setItem("connection",e.extra.connection)})}if(e.presence){var n={init:function(){this.setCapability("connection","supported"),t()},on:function(){navigator.connection.ontypechange=t},off:function(){navigator.connection.ontypechange=null}};a.load({connection:n})}}),o.touchScreen&&(o.pointer={init:function(){this.setCapability("pointer","supported")},on:function(){var e=[null,null];document.ontouchstart=function(t){var n=t.changedTouches[0];e=[n.clientX,n.clientY]};var t=0;document.ontouchmove=function(n){if(new Date-t>100){t=new Date;var o=n.changedTouches[0];a.setItem("pointer",{x:o.clientX,y:o.clientY,deltaX:o.clientX-e[0],deltaY:e[1]-o.clientY})}}},off:function(){document.ontouchstart=null,document.ontouchmove=null}}),a.load(o),mediascape.discovery.isPresent("audio").then(function(e){if(e.presence){var t={init:function(){this.setCapability("microphone","supported"),mediascape.discovery.getExtra("audio").then(function(e){a.setItem("microphone",e.extra.audio)})}};a.load({microphone:t})}}),mediascape.discovery.isPresent("camera").then(function(e){if(e.presence){var t={init:function(){this.setCapability("camera","supported"),mediascape.discovery.getExtra("camera").then(function(e){a.setItem("camera",e.extra.cameras)})}};a.load({camera:t})}}),mediascape.discovery.isPresent("battery").then(function(e){function t(){mediascape.discovery.getExtra("battery").then(function(e){var t={level:e.extra.level,charging:e.extra.charging,dischargeTime:e.extra.dischargeTime};a.setItem("battery",t)})}if(e.presence){var n={init:function(){this.setCapability("battery","supported"),t()},on:function(){navigator.getBattery?navigator.getBattery().then(function(e){e.onlevelchange=function(){t()},e.onchargingchange=function(){t()},e.ondischargingtimechange=function(){t()}}):navigator.battery&&(navigator.battery.onlevelchange=function(){t()},navigator.battery.onchargingchange=function(){t()},navigator.battery.ondischargingtimechange=function(){t()})},off:function(){navigator.getBattery?navigator.getBattery().then(function(e){e.onlevelchange=void 0,e.onchargingchange=void 0,e.ondischarchingtimechange=void 0}):navigator.battery&&(navigator.battery.onlevelchange=void 0,navigator.battery.onchargingchange=void 0,navigator.battery.ondischarchingtimechange=void 0)}};a.load({battery:n})}})};return n.__moduleName="discovery_wp4",n}),define("mediascape/DeviceProfile/deviceProfile",["jquery"],function(e){var t=function(){this.checkDevice=function(t){var n=e.ajax({method:"GET",crossDomain:!0,url:"http://"+window.location.host+":6675/checkDevice",data:{agent:t}});return n},this.learn=function(t,n){var a=e.ajax({method:"GET",url:"http://"+window.location.host+":6675/learn",data:{agent:t,device:n},crossDomain:!0});return a}};return t.__moduleName="DeviceProfile",t});var QRCode;!function(){function e(e){this.mode=c.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=[],n=0,a=this.data.length;a>n;n++){var o=this.data.charCodeAt(n);o>65536?(t[0]=240|(1835008&o)>>>18,t[1]=128|(258048&o)>>>12,t[2]=128|(4032&o)>>>6,t[3]=128|63&o):o>2048?(t[0]=224|(61440&o)>>>12,t[1]=128|(4032&o)>>>6,t[2]=128|63&o):o>128?(t[0]=192|(1984&o)>>>6,t[1]=128|63&o):t[0]=o,this.parsedData=this.parsedData.concat(t)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);
for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var a=0;a<e.length-n;a++)this.num[a]=e[a+n]}function a(e,t){this.totalCount=e,this.dataCount=t}function o(){this.buffer=[],this.length=0}function i(){return"undefined"!=typeof CanvasRenderingContext2D}function r(){var e=!1,t=navigator.userAgent;return/android/i.test(t)&&(e=!0,aMat=t.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(e=parseFloat(aMat[1]))),e}function s(e,t){for(var n=1,a=l(e),o=0,i=g.length;i>=o;o++){var r=0;switch(t){case u.L:r=g[o][0];break;case u.M:r=g[o][1];break;case u.Q:r=g[o][2];break;case u.H:r=g[o][3]}if(r>=a)break;n++}if(n>g.length)throw new Error("Too long data");return n}function l(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}e.prototype={getLength:function(){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;n>t;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[a][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;7>=n;n++)if(!(-1>=e+n||this.moduleCount<=e+n))for(var a=-1;7>=a;a++)-1>=t+a||this.moduleCount<=t+a||(this.modules[e+n][t+a]=n>=0&&6>=n&&(0==a||6==a)||a>=0&&6>=a&&(0==n||6==n)||n>=2&&4>=n&&a>=2&&4>=a)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;8>n;n++){this.makeImpl(!0,n);var a=p.getLostPoint(this);(0==n||e>a)&&(e=a,t=n)}return t},createMovieClip:function(e,t,n){var a=e.createEmptyMovieClip(t,n),o=1;this.make();for(var i=0;i<this.modules.length;i++)for(var r=i*o,s=0;s<this.modules[i].length;s++){var l=s*o,c=this.modules[i][s];c&&(a.beginFill(0,100),a.moveTo(l,r),a.lineTo(l+o,r),a.lineTo(l+o,r+o),a.lineTo(l,r+o),a.endFill())}return a},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var e=p.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var a=e[t],o=e[n];if(null==this.modules[a][o])for(var i=-2;2>=i;i++)for(var r=-2;2>=r;r++)this.modules[a+i][o+r]=-2==i||2==i||-2==r||2==r||0==i&&0==r}},setupTypeNumber:function(e){for(var t=p.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var a=!e&&1==(1&t>>n);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(var n=0;18>n;n++){var a=!e&&1==(1&t>>n);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=a}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,a=p.getBCHTypeInfo(n),o=0;15>o;o++){var i=!e&&1==(1&a>>o);6>o?this.modules[o][8]=i:8>o?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(var o=0;15>o;o++){var i=!e&&1==(1&a>>o);8>o?this.modules[8][this.moduleCount-o-1]=i:9>o?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,a=this.moduleCount-1,o=7,i=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var s=0;2>s;s++)if(null==this.modules[a][r-s]){var l=!1;i<e.length&&(l=1==(1&e[i]>>>o));var c=p.getMask(t,a,r-s);c&&(l=!l),this.modules[a][r-s]=l,o--,-1==o&&(i++,o=7)}if(a+=n,0>a||this.moduleCount<=a){a-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,i){for(var r=a.getRSBlocks(e,n),s=new o,l=0;l<i.length;l++){var c=i[l];s.put(c.mode,4),s.put(c.getLength(),p.getLengthInBits(c.mode,e)),c.write(s)}for(var u=0,l=0;l<r.length;l++)u+=r[l].dataCount;if(s.getLengthInBits()>8*u)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);0!=s.getLengthInBits()%8;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*u)&&(s.put(t.PAD0,8),!(s.getLengthInBits()>=8*u));)s.put(t.PAD1,8);return t.createBytes(s,r)},t.createBytes=function(e,t){for(var a=0,o=0,i=0,r=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;o=Math.max(o,c),i=Math.max(i,u),r[l]=new Array(c);for(var d=0;d<r[l].length;d++)r[l][d]=255&e.buffer[d+a];a+=c;var m=p.getErrorCorrectPolynomial(u),h=new n(r[l],m.getLength()-1),g=h.mod(m);s[l]=new Array(m.getLength()-1);for(var d=0;d<s[l].length;d++){var f=d+g.getLength()-s[l].length;s[l][d]=f>=0?g.get(f):0}}for(var y=0,d=0;d<t.length;d++)y+=t[d].totalCount;for(var C=new Array(y),v=0,d=0;o>d;d++)for(var l=0;l<t.length;l++)d<r[l].length&&(C[v++]=r[l][d]);for(var d=0;i>d;d++)for(var l=0;l<t.length;l++)d<s[l].length&&(C[v++]=s[l][d]);return C};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},u={L:1,M:0,Q:3,H:2},d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case d.PATTERN000:return 0==(t+n)%2;case d.PATTERN001:return 0==t%2;case d.PATTERN010:return 0==n%3;case d.PATTERN011:return 0==(t+n)%3;case d.PATTERN100:return 0==(Math.floor(t/2)+Math.floor(n/3))%2;case d.PATTERN101:return 0==t*n%2+t*n%3;case d.PATTERN110:return 0==(t*n%2+t*n%3)%2;case d.PATTERN111:return 0==(t*n%3+(t+n)%2)%2;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),a=0;e>a;a++)t=t.multiply(new n([1,m.gexp(a)],0));return t},getLengthInBits:function(e,t){if(t>=1&&10>t)switch(e){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:return 8;case c.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(27>t)switch(e){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(41>t))throw new Error("type:"+t);switch(e){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,a=0;t>a;a++)for(var o=0;t>o;o++){for(var i=0,r=e.isDark(a,o),s=-1;1>=s;s++)if(!(0>a+s||a+s>=t))for(var l=-1;1>=l;l++)0>o+l||o+l>=t||(0!=s||0!=l)&&r==e.isDark(a+s,o+l)&&i++;i>5&&(n+=3+i-5)}for(var a=0;t-1>a;a++)for(var o=0;t-1>o;o++){var c=0;e.isDark(a,o)&&c++,e.isDark(a+1,o)&&c++,e.isDark(a,o+1)&&c++,e.isDark(a+1,o+1)&&c++,(0==c||4==c)&&(n+=3)}for(var a=0;t>a;a++)for(var o=0;t-6>o;o++)e.isDark(a,o)&&!e.isDark(a,o+1)&&e.isDark(a,o+2)&&e.isDark(a,o+3)&&e.isDark(a,o+4)&&!e.isDark(a,o+5)&&e.isDark(a,o+6)&&(n+=40);for(var o=0;t>o;o++)for(var a=0;t-6>a;a++)e.isDark(a,o)&&!e.isDark(a+1,o)&&e.isDark(a+2,o)&&e.isDark(a+3,o)&&e.isDark(a+4,o)&&!e.isDark(a+5,o)&&e.isDark(a+6,o)&&(n+=40);for(var u=0,o=0;t>o;o++)for(var a=0;t>a;a++)e.isDark(a,o)&&u++;var d=Math.abs(100*u/t/t-50)/5;return n+=10*d}},m={glog:function(e){if(1>e)throw new Error("glog("+e+")");return m.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return m.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},h=0;8>h;h++)m.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)m.EXP_TABLE[h]=m.EXP_TABLE[h-4]^m.EXP_TABLE[h-5]^m.EXP_TABLE[h-6]^m.EXP_TABLE[h-8];for(var h=0;255>h;h++)m.LOG_TABLE[m.EXP_TABLE[h]]=h;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),a=0;a<this.getLength();a++)for(var o=0;o<e.getLength();o++)t[a+o]^=m.gexp(m.glog(this.get(a))+m.glog(e.get(o)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=m.glog(this.get(0))-m.glog(e.get(0)),a=new Array(this.getLength()),o=0;o<this.getLength();o++)a[o]=this.get(o);for(var o=0;o<e.getLength();o++)a[o]^=m.gexp(m.glog(e.get(o))+t);return new n(a,0).mod(e)}},a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var n=a.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=n.length/3,i=[],r=0;o>r;r++)for(var s=n[3*r+0],l=n[3*r+1],c=n[3*r+2],u=0;s>u;u++)i.push(new a(l,c));return i},a.getRsBlockTable=function(e,t){switch(t){case u.L:return a.RS_BLOCK_TABLE[4*(e-1)+0];case u.M:return a.RS_BLOCK_TABLE[4*(e-1)+1];case u.Q:return a.RS_BLOCK_TABLE[4*(e-1)+2];case u.H:return a.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},o.prototype={get:function(e){var t=Math.floor(e/8);return 1==(1&this.buffer[t]>>>7-e%8)},put:function(e,t){for(var n=0;t>n;n++)this.putBit(1==(1&e>>>t-n-1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var g=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],f=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in t)t.hasOwnProperty(a)&&n.setAttribute(a,t[a]);return n}var n=this._htOption,a=this._el,o=e.getModuleCount();Math.floor(n.width/o),Math.floor(n.height/o),this.clear();var i=t("svg",{viewBox:"0 0 "+String(o)+" "+String(o),width:"100%",height:"100%",fill:n.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),a.appendChild(i),i.appendChild(t("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;o>r;r++)for(var s=0;o>s;s++)if(e.isDark(r,s)){var l=t("use",{x:String(r),y:String(s)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),y="svg"===document.documentElement.tagName.toLowerCase(),C=y?f:i()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function t(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var a=document.createElement("img"),o=function(){n._bSupportDataURI=!1,n._fFail&&_fFail.call(n)},i=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)};return a.onabort=o,a.onerror=o,a.onload=i,void(a.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}n._bSupportDataURI===!0&&n._fSuccess?n._fSuccess.call(n):n._bSupportDataURI===!1&&n._fFail&&n._fFail.call(n)}if(this._android&&this._android<=2.1){var n=1/window.devicePixelRatio,a=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,t,o,i,r,s,l,c){if("nodeName"in e&&/img/i.test(e.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*n;else"undefined"==typeof c&&(arguments[1]*=n,arguments[2]*=n,arguments[3]*=n,arguments[4]*=n);a.apply(this,arguments)}}var o=function(e,t){this._bIsPainted=!1,this._android=r(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(e){var t=this._elImage,n=this._oContext,a=this._htOption,o=e.getModuleCount(),i=a.width/o,r=a.height/o,s=Math.round(i),l=Math.round(r);t.style.display="none",this.clear();for(var c=0;o>c;c++)for(var u=0;o>u;u++){var d=e.isDark(c,u),p=u*i,m=c*r;n.strokeStyle=d?a.colorDark:a.colorLight,n.lineWidth=1,n.fillStyle=d?a.colorDark:a.colorLight,n.fillRect(p,m,i,r),n.strokeRect(Math.floor(p)+.5,Math.floor(m)+.5,s,l),n.strokeRect(Math.ceil(p)-.5,Math.ceil(m)-.5,s,l)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&t.call(this,e)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},o}():function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,a=e.getModuleCount(),o=Math.floor(t.width/a),i=Math.floor(t.height/a),r=['<table style="border:0;border-collapse:collapse;">'],s=0;a>s;s++){r.push("<tr>");for(var l=0;a>l;l++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+i+"px;background-color:"+(e.isDark(s,l)?t.colorDark:t.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),n.innerHTML=r.join("");var c=n.childNodes[0],u=(t.width-c.offsetWidth)/2,d=(t.height-c.offsetHeight)/2;u>0&&d>0&&(c.style.margin=d+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}();QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:u.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._android=r(),this._el=e,this._oQRCode=null,this._oDrawing=new C(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(e){this._oQRCode=new t(s(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=u}(),define("qrcode",function(){}),define("webcodecam",["jquery"],function(e,t){!function(e,t,n,a){function o(t,n){this.element=t,l=e(t),this.options=e.extend({},y,n),this._defaults=y,this._name="WebCodeCam",this.init()&&(this.setEventListeners(),(this.options.ReadQRCode||this.options.ReadBarecode)&&this.setCallback())}var i,r,s,l,c,u,d={},p=e('<video style="position:absolute;visibility:hidden;display: none;">')[0],m=!1,h=!1,g=new Worker("js/lib/DecoderWorker.js"),f=!1,y={ReadQRCode:!0,ReadBarecode:!0,width:320,height:240,videoSource:{id:!0,maxWidth:640,maxHeight:480},flipVertical:!1,flipHorizontal:!1,zoom:-1,beep:"js/beep.mp3",brightness:0,autoBrightnessValue:!1,grayScale:!1,contrast:0,threshold:0,sharpness:[],resultFunction:function(e,t){},getUserMediaError:function(){},cameraError:function(e){}};o.prototype={init:function(){return i=this,s=i.element.getContext("2d"),c=i.options.width,u=i.options.height,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?(d[i.options.videoSource.id]&&d[i.options.videoSource.id].active?i.cameraSuccess(d[i.options.videoSource.id]):navigator.getUserMedia({video:{mandatory:{maxWidth:i.options.videoSource.maxWidth,maxHeight:i.options.videoSource.maxHeight},optional:[{sourceId:i.options.videoSource.id}]},audio:!1},i.cameraSuccess,i.cameraError),!0):(i.options.getUserMediaError(),!1)},cameraSuccess:function(e){d[i.options.videoSource.id]=e;var n=t.URL||t.webkitURL;p.src=n?n.createObjectURL(e):e,p.play()},cameraError:function(e){return i.options.cameraError(e),!1},setEventListeners:function(){p.addEventListener("canplay",function(e){h||(0<p.videoWidth&&(u=p.videoHeight/(p.videoWidth/c)),l[0].setAttribute("width",c),l[0].setAttribute("height",u),i.options.flipHorizontal&&(s.scale(-1,1),s.translate(-c,0)),i.options.flipVertical&&(s.scale(1,-1),s.translate(0,-u)),h=!0,(i.options.ReadQRCode||i.options.ReadBarecode)&&i.delay())},!1),p.addEventListener("play",function(){setInterval(function(){if(!p.paused&&!p.ended){s.clearRect(0,0,c,u);var e=i.options.zoom;0>e&&(e=i.optimalZoom()),s.drawImage(p,(c*e-c)/-2,(u*e-u)/-2,c*e,u*e),e=s.getImageData(0,0,c,u),i.options.grayScale&&(e=i.grayScale(e)),0==i.options.brightness&&0==i.options.autoBrightnessValue||(e=i.brightness(e,i.options.brightness)),0!=i.options.contrast&&(e=i.contrast(e,i.options.contrast)),0!=i.options.threshold&&(e=i.threshold(e,i.options.threshold)),0!=i.options.sharpness.length&&(e=i.convolute(e,i.options.sharpness)),s.putImageData(e,0,0)}},40)},!1)},setCallback:function(){g.onmessage=function(e){f||p.paused||(e.data.success&&1<e.data.result[0].length&&-1==e.data.result[0].indexOf("undefined")?(i.beep(),f=!0,i.delay(),i.options.resultFunction(e.data.result[0],r)):e.data.finished&&(m=!m,setTimeout(function(){i.tryParseBarecode()},320)))},qrcode.callback=function(e){f||p.paused||(i.beep(),f=!0,i.delay(),i.options.resultFunction(e,r))}},tryParseBarecode:function(){var e=1==m?"flip":"normal";r=l[0].toDataURL();var t=s.getImageData(0,0,c,u).data;g.postMessage({ImageData:t,Width:c,Height:u,cmd:e,DecodeNr:1,LowLight:!1})},tryParseQRCode:function(){try{r=l[0].toDataURL(),qrcode.decode()}catch(e){f||setTimeout(function(){i.tryParseQRCode()},320)}},delay:function(){i.cameraPlay(!0)},cameraStop:function(){f=!0,p.pause()},cameraStopAll:function(){s.clearRect(0,0,c,u),f=!0,p.pause();for(var e in d)d[e]&&(d[e].stop(),d[e]=null)},cameraPlay:function(e){d[i.options.videoSource.id]?e||i.cameraSuccess(d[i.options.videoSource.id]):i.init(),f=!0,p.play(),setTimeout(function(){f=!1,i.options.ReadBarecode&&i.tryParseBarecode(),i.options.ReadQRCode&&i.tryParseQRCode()},2e3)},getLastImageSrc:function(){return r},optimalZoom:function(e){return p.videoHeight/u},getImageLightness:function(){for(var e,t,n,a=s.getImageData(0,0,c,u).data,o=0,i=0,r=a.length;i<r;i+=4)e=a[i],t=a[i+1],n=a[i+2],e=Math.floor((e+t+n)/3),o+=e;return Math.floor(o/(c*u))},brightness:function(e,t){t=0==t&&0!=i.options.autoBrightnessValue?i.options.autoBrightnessValue-i.getImageLightness():t;for(var n=e.data,a=0;a<n.length;a+=4)n[a]+=t,n[a+1]+=t,n[a+2]+=t;return e},grayScale:function(e){for(var t=e.data,n=0;n<t.length;n+=4)t[n]=t[n+1]=t[n+2]=.2126*t[n]+.7152*t[n+1]+.0722*t[n+2];return e},contrast:function(e,t){for(var n=e.data,a=0;a<n.length;a+=4){t=10;var o=Math.round((n[a]+n[a+1]+n[a+2])/3);127<o?(n[a]+=n[a]/o*t,n[a+1]+=n[a+1]/o*t,n[a+2]+=n[a+2]/o*t):(n[a]-=n[a]/o*t,n[a+1]-=n[a+1]/o*t,n[a+2]-=n[a+2]/o*t)}return e},threshold:function(e,t){for(var n,a=e.data,o=0,i=c*u*4;o<i;o+=4)n=a[o]+a[o+1]+a[o+2],a[o]=n<t?a[o+1]=a[o+2]=0:a[o+1]=a[o+2]=255,a[o+3]=255;return e},convolute:function(e,t,a){var o=e.width,i=e.height,r=Math.round(Math.sqrt(t.length)),s=Math.floor(r/2);e=e.data;var l=n.createElement("canvas").getContext("2d").createImageData(o,i),c=l.data;a=a?1:0;for(var u=0;u<i;u++)for(var d=0;d<o;d++){for(var p=u,m=d,h=0,g=0,f=0,y=0,C=4*(u*o+d),v=0;v<r;v++)for(var N=0;N<r;N++){var b=p+v-s,w=m+N-s;0<=b&&b<i&&0<=w&&w<o&&(b=4*(b*o+w),w=t[v*r+N],h+=e[b]*w,g+=e[b+1]*w,f+=e[b+2]*w,y+=e[b+3]*w)}c[C]=h,c[C+1]=g,c[C+2]=f,c[C+3]=y+a*(255-y)}return l},beep:function(){if("string"==typeof i.options.beep){var e=i.options.beep;setTimeout(function(){new Audio(e).play()},0)}}},e.fn.WebCodeCam=function(t){return this.each(function(){e.data(this,"plugin_WebCodeCam")||e.data(this,"plugin_WebCodeCam",new o(this,t))})}}(e,window,document)}),_aa={},_aa._ab=function(e,t){for(var n=qrcode.width,a=qrcode.height,o=!0,i=0;i<t.length&&o;i+=2){var r=Math.floor(t[i]),s=Math.floor(t[i+1]);if(r<-1||r>n||s<-1||s>a)throw"Error._ab ";o=!1,r==-1?(t[i]=0,o=!0):r==n&&(t[i]=n-1,o=!0),s==-1?(t[i+1]=0,o=!0):s==a&&(t[i+1]=a-1,o=!0)}o=!0;for(var i=t.length-2;i>=0&&o;i-=2){var r=Math.floor(t[i]),s=Math.floor(t[i+1]);if(r<-1||r>n||s<-1||s>a)throw"Error._ab ";o=!1,r==-1?(t[i]=0,o=!0):r==n&&(t[i]=n-1,o=!0),s==-1?(t[i+1]=0,o=!0):s==a&&(t[i+1]=a-1,o=!0)}},_aa._af=function(e,t,n){for(var a=new _ac(t),o=new Array(t<<1),i=0;i<t;i++){for(var r=o.length,s=i+.5,l=0;l<r;l+=2)o[l]=(l>>1)+.5,o[l+1]=s;n._ad(o),_aa._ab(e,o);try{for(var l=0;l<r;l+=2){var c=4*Math.floor(o[l])+Math.floor(o[l+1])*qrcode.width*4,u=e[Math.floor(o[l])+qrcode.width*Math.floor(o[l+1])];qrcode.imagedata.data[c]=u?255:0,qrcode.imagedata.data[c+1]=u?255:0,qrcode.imagedata.data[c+2]=0,qrcode.imagedata.data[c+3]=255,u&&a._dq(l>>1,i)}}catch(e){throw"Error._ab"}}return a},_aa._ah=function(e,t,n,a,o,i,r,s,l,c,u,d,p,m,h,g,f,y){var C=_ae._ag(n,a,o,i,r,s,l,c,u,d,p,m,h,g,f,y);return _aa._af(e,t,C)},_a3._bv=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),_a3.VERSIONS=_ay(),_a3._av=function(e){if(e<1||e>40)throw"bad arguments";return _a3.VERSIONS[e-1]},_a3._at=function(e){if(e%4!=1)throw"Error _at";try{return _a3._av(e-17>>2)}catch(e){throw"Error _av"}},_a3._aw=function(e){for(var t=4294967295,n=0,a=0;a<_a3._bv.length;a++){var o=_a3._bv[a];if(o==e)return this._av(a+7);var i=_ax._gj(e,o);i<t&&(n=a+7,t=i)}return t<=3?this._av(n):null},_ae._ag=function(e,t,n,a,o,i,r,s,l,c,u,d,p,m,h,g){var f=this._be(e,t,n,a,o,i,r,s),y=this._bf(l,c,u,d,p,m,h,g);return y.times(f)},_ae._bf=function(e,t,n,a,o,i,r,s){return dy2=s-i,dy3=t-a+i-s,0==dy2&&0==dy3?new _ae(n-e,o-n,e,a-t,i-a,t,0,0,1):(dx1=n-o,dx2=r-o,dx3=e-n+o-r,dy1=a-i,_dr=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/_dr,a23=(dx1*dy3-dx3*dy1)/_dr,new _ae(n-e+a13*n,r-e+a23*r,e,a-t+a13*a,s-t+a23*s,t,a13,a23,1))},_ae._be=function(e,t,n,a,o,i,r,s){return this._bf(e,t,n,a,o,i,r,s)._fr()};var _ca=21522,_cb=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),_ch=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);_ax._gj=function(e,t){return e^=t,_ch[15&e]+_ch[15&_ew(e,4)]+_ch[15&_ew(e,8)]+_ch[15&_ew(e,12)]+_ch[15&_ew(e,16)]+_ch[15&_ew(e,20)]+_ch[15&_ew(e,24)]+_ch[15&_ew(e,28)]},_ax._ci=function(e){var t=_ax._cj(e);return null!=t?t:_ax._cj(e^_ca)},_ax._cj=function(e){for(var t=4294967295,n=0,a=0;a<_cb.length;a++){var o=_cb[a],i=o[0];if(i==e)return new _ax(o[1]);var r=this._gj(e,i);r<t&&(n=o[1],t=r)}return t<=3?new _ax(n):null},_cg.forBits=function(e){if(e<0||e>=FOR_BITS.length)throw"bad arguments";return FOR_BITS[e]};var L=new _cg(0,1,"L"),M=new _cg(1,0,"M"),Q=new _cg(2,3,"Q"),H=new _cg(3,2,"H"),FOR_BITS=new Array(M,L,H,Q);_dl._gn=function(e,t,n){if(e.length!=t._dp)throw"bad arguments";for(var a=t._bu(n),o=0,i=a._fb(),r=0;r<i.length;r++)o+=i[r].Count;for(var s=new Array(o),l=0,c=0;c<i.length;c++)for(var u=i[c],r=0;r<u.Count;r++){var d=u._dm,p=a._bo+d;s[l++]=new _dl(d,new Array(p))}for(var m=s[0]._dw.length,h=s.length-1;h>=0;){var g=s[h]._dw.length;if(g==m)break;h--}h++;for(var f=m-a._bo,y=0,r=0;r<f;r++)for(var c=0;c<l;c++)s[c]._dw[r]=e[y++];for(var c=h;c<l;c++)s[c]._dw[f]=e[y++];for(var C=s[0]._dw.length,r=f;r<C;r++)for(var c=0;c<l;c++){var v=c<h?r:r+1;s[c]._dw[v]=e[y++]}return s},_dx={},_dx._gl=function(e){if(e<0||e>7)throw"bad arguments";return _dx._dy[e]},_dx._dy=new Array(new _fg,new _fh,new _fi,new _fj,new _fk,new _fl,new _fm,new _fn),_az._bb=new _az(285),_az._bc=new _az(301),_az._bd=function(e,t){return e^t},Decoder={},Decoder.rsDecoder=new _db(_az._bb),Decoder.correctErrors=function(e,t){for(var n=e.length,a=new Array(n),o=0;o<n;o++)a[o]=255&e[o];var i=e.length-t;try{Decoder.rsDecoder.decode(a,i)}catch(e){throw e}for(var o=0;o<t;o++)e[o]=a[o]},Decoder.decode=function(e){for(var t=new _cl(e),n=t._cq(),a=t._cm()._cg,o=t._gk(),i=_dl._gn(o,n,a),r=0,s=0;s<i.length;s++)r+=i[s]._du;for(var l=new Array(r),c=0,u=0;u<i.length;u++){var d=i[u],p=d.Codewords,m=d._du;Decoder.correctErrors(p,m);for(var s=0;s<m;s++)l[c++]=p[s]}var h=new QRCodeDataBlockReader(l,n._fd,a.Bits);return h},qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode._eo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(e){if(0==arguments.length){var t=document.getElementById("qr-canvas"),n=t.getContext("2d");return qrcode.width=t.width,qrcode.height=t.height,qrcode.imagedata=n.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(n),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var a=new Image;a.onload=function(){var e=document.getElementById("out-canvas");if(null!=e){var t=e.getContext("2d");t.clearRect(0,0,320,240),t.drawImage(a,0,0,320,240)}var n=document.createElement("canvas"),o=n.getContext("2d"),i=a.height,r=a.width;if(a.width*a.height>qrcode.maxImgSize){var s=a.width/a.height;i=Math.sqrt(qrcode.maxImgSize/s),r=s*i}n.width=r,n.height=i,o.drawImage(a,0,0,n.width,n.height),qrcode.width=n.width,qrcode.height=n.height;try{qrcode.imagedata=o.getImageData(0,0,n.width,n.height)}catch(e){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(o)}catch(e){console.log(e),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},a.src=e},qrcode.isUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)},qrcode.decode_url=function(e){var t="";try{t=escape(e)}catch(n){console.log(n),t=e}var n="";try{n=decodeURIComponent(t)}catch(e){console.log(e),n=t}return n},qrcode.decode_utf8=function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},qrcode.process=function(e){var t=(new Date).getTime(),n=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var a=0;a<qrcode.height;a++)for(var o=0;o<qrcode.width;o++){var i=4*o+a*qrcode.width*4;qrcode.imagedata.data[i]=(n[o+a*qrcode.width],0),qrcode.imagedata.data[i+1]=(n[o+a*qrcode.width],0),qrcode.imagedata.data[i+2]=n[o+a*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}var r=new Detector(n),s=r.detect();qrcode.debug&&e.putImageData(qrcode.imagedata,0,0);for(var l=Decoder.decode(s.bits),c=l.DataByte,u="",d=0;d<c.length;d++)for(var p=0;p<c[d].length;p++)u+=String.fromCharCode(c[d][p]);var m=(new Date).getTime(),h=m-t;return console.log(h),qrcode.decode_utf8(u)},qrcode.getPixel=function(e,t){if(qrcode.width<e)throw"point error";
if(qrcode.height<t)throw"point error";return point=4*e+t*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100,p},qrcode.binarize=function(e){for(var t=new Array(qrcode.width*qrcode.height),n=0;n<qrcode.height;n++)for(var a=0;a<qrcode.width;a++){var o=qrcode.getPixel(a,n);t[a+n*qrcode.width]=o<=e}return t},qrcode._em=function(e){for(var t=4,n=Math.floor(qrcode.width/t),a=Math.floor(qrcode.height/t),o=new Array(t),i=0;i<t;i++){o[i]=new Array(t);for(var r=0;r<t;r++)o[i][r]=new Array(0,0)}for(var s=0;s<t;s++)for(var l=0;l<t;l++){o[l][s][0]=255;for(var c=0;c<a;c++)for(var u=0;u<n;u++){var d=e[n*l+u+(a*s+c)*qrcode.width];d<o[l][s][0]&&(o[l][s][0]=d),d>o[l][s][1]&&(o[l][s][1]=d)}}for(var p=new Array(t),m=0;m<t;m++)p[m]=new Array(t);for(var s=0;s<t;s++)for(var l=0;l<t;l++)p[l][s]=Math.floor((o[l][s][0]+o[l][s][1])/2);return p},qrcode.grayScaleToBitmap=function(e){for(var t=qrcode._em(e),n=t.length,a=Math.floor(qrcode.width/n),o=Math.floor(qrcode.height/n),i=new Array(qrcode.height*qrcode.width),r=0;r<n;r++)for(var s=0;s<n;s++)for(var l=0;l<o;l++)for(var c=0;c<a;c++)i[a*s+c+(o*r+l)*qrcode.width]=e[a*s+c+(o*r+l)*qrcode.width]<t[s][r];return i},qrcode.grayscale=function(){for(var e=new Array(qrcode.width*qrcode.height),t=0;t<qrcode.height;t++)for(var n=0;n<qrcode.width;n++){var a=qrcode.getPixel(n,t);e[n+t*qrcode.width]=a}return e},Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n)};var _gf=3,_eh=57,_el=8,_eg=2;qrcode._er=function(e){function t(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}function n(e,t,n){var a=t.x,o=t.y;return(n.x-a)*(e.y-o)-(n.y-o)*(e.x-a)}var a,o,i,r=t(e[0],e[1]),s=t(e[1],e[2]),l=t(e[0],e[2]);if(s>=r&&s>=l?(o=e[0],a=e[1],i=e[2]):l>=s&&l>=r?(o=e[1],a=e[0],i=e[2]):(o=e[2],a=e[0],i=e[1]),n(a,o,i)<0){var c=a;a=i,i=c}e[0]=a,e[1]=o,e[2]=i},define("qrcodelib",function(){}),define("association",["jquery","qrcode","webcodecam","qrcodelib"],function(e){var t=function(){function t(e){var t=l[e.toString()];void 0!=t&&(t.noteOff?t.noteOff(0):t.stop(0)),delete l[e]}function n(){console.log("createMessageEvent");var e,t=Array.prototype.slice.call(arguments);e=4==t.length?new CustomEvent(t[0],{detail:{show:t[1],type:t[2],text:t[3]}}):new CustomEvent(t[0],{detail:{show:t[1]}}),document.dispatchEvent(e)}var a,o,i,r,s,l={};this.doAssociation=function(){function c(e){console.log("errorParametersNumber");var t=new Promise(function(t,n){t(JSON.parse('{"response":"'+e+'"}'))});return t}function u(t){console.log("textAssociationTrigger");var n=new Promise(function(n,a){e.Deferred();t[2]&&t[1].indexOf("bit.ly")==-1&&""!=A&&""!=O?S(t[1]).then(function(e){n(JSON.parse('{"response":"'+e.response+'"}'))}):n(JSON.parse('{"response":"'+t[1]+'"}'))});return n}function d(t){console.log("qrCodeAssociationTrigger");var n=new Promise(function(n,a){var o=(e.Deferred(),"160"),i="160",r=0,s=0,l=(t[0],t[1]),c=t[2],u=t[3];return 6==t.length?(o=t[4],i=t[5]):8==t.length&&(o=t[4],i=t[5],r=t[6],s=t[7]),u&&c.indexOf("bit.ly")==-1&&""!=A&&""!=O?void S(c).then(function(e){return p(l,e.response,o,i,r,s,!0,n)}):p(l,c,o,i,r,s,!0,n)});return n}function p(e,t,n,a,o,i,r,s){var l=t,c=document.getElementById(e),u=document.createElement("div");u.id="code";var d=document.createElement("div");if(d.id="qrcode",d.style.width=n+"px",d.style.height=a+"px",u.style.transition="width 1.5s",0==o&&0==i||(d.style.marginLeft=o+"px",d.style.marginTop=i+"px"),u.appendChild(d),r){u.appendChild(document.createElement("br"));var p=m(l);u.appendChild(p)}if(c.querySelector("#code")&&c.removeChild(c.querySelector("#code")),c.appendChild(u),"mobile"===mediascape.deviceType.toLowerCase()){new QRCode("qrcode",{text:t,width:n-20,height:a-20,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});c.querySelector("#code").querySelector("img").style.border="solid white 10px"}else{new QRCode("qrcode",{text:t,width:n-40,height:a-40,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});c.querySelector("#code").querySelector("img").style.border="solid white 20px"}s(JSON.parse('{"response":"'+t+'"}'))}function m(e){var t=document.createElement("a");return t.id="url",t.href=e,t.innerHTML=e,t.target="_blank",t}function h(n){console.log("acousticAssociationTrigger");var i=new Promise(function(i,s){function c(e){if(r=new(window.AudioContext||window.webkitAudioContext),3==n.length){var i=[],s=[],l=parseInt((h-g)/m.length);s=m.split("");for(var c=g,d=0;d<m.length;d++)i[d]=c,c+=l;freq_error=l/3;var f=300,y=u(e),C=0,d=y[C].toString(),v=s.indexOf(d);v?(a=i[v],p(a)):console.log(" key not found for "+d+" /// "),o=setInterval(function(){if(a&&t(a),C+=1,y[C]){var e=y[C].toString(),n=s.indexOf(e);a=i[n],a?p(a):console.log(" key not found for "+e+" ")}else clearInterval(o),evt=document.createEvent("Event"),evt.initEvent("ended",!0,!0),document.dispatchEvent(evt)},f)}}function u(e){for(var t=e.length,n=e.split(""),a=[],o=0;o<f.length;o++)a.push(f[o]);var i=(""+t).split("");if(i.length<3)for(var o=0;o<3-i.length+1;o++)i.unshift("0");for(var o=0;o<i.length;o++)a.push(i[o]);for(var o=0;o<n.length;o++)a.push(n[o]);var r=E(e),i=(""+r).split("");if(i.length<3)for(var o=0;o<3-i.length+1;o++)i.unshift("0");for(var o=0;o<i.length;o++)a.push(i[o]);for(var s=[],o=0;o<a.length;o++){var l=a[o];l!=l.toLowerCase()&&s.push(C),a[o+1]&&a[o+1].toLowerCase()==l.toLowerCase()&&"#"!=l.toLowerCase()&&"*"!=l.toLowerCase()&&(s.push(y),o++),s.push(l.toLowerCase())}return console.log("playing "+s+" length "+t+" checksum "+r),s}function d(e){var t=r.createOscillator();t.frequency.value=e,t.noteOn?t.noteOn(0):t.start(0);var n=r.createGain();return t.connect(n),n.connect(r.destination),n.gain.value=1,t}function p(e){l[e.toString()]=d(e)}var m=(e.Deferred(),",0123456789*#.|!:/? abcdefghijklmnopqrstuvwxyz&"),h=6e3,g=3500,f=[" "," "," "," ","#","#","#","#","*","*","*","*","#","#","#","#"],y="|",C="!";n[2]&&n[1].indexOf("bit.ly")==-1&&""!=A&&""!=O?S(n[1]).then(function(e){c(e.response)}):c(n[1])});return i}function g(t){console.log("nwsAssociationTrigger");var n=new Promise(function(n,a){var o,i,r,s,l=(e.Deferred(),2e4);t[3]?(o=null,delete i,delete r,mediascape.discovery.connectNWS(t[1]).then(function(e){function n(e){e.indexOf("localhost")==-1?e&&e.indexOf("bit.ly")==-1&&""!=A&&""!=O?S(e).then(function(e){console.log(e.response),o.send(e.response),o.send(JSON.stringify({peersIds:o.peersIds})),i=setInterval(function(){console.log(e.response),o.send(e.response),o.send(JSON.stringify({peersIds:o.peersIds}))},l)}):i=setInterval(function(){console.log(e),o.send(e),o.send(JSON.stringify({peersIds:o.peersIds}))},l):0!=o.peersIds.length&&o.peersIds[0]!=o.id||(i=setInterval(function(){o.send(miniUrl),o.send(JSON.stringify({peersIds:o.peersIds}))},l))}o=e,s=t[2],o&&(1==o.readyState&&(console.log("Start Interval"),console.log(o.peers.length),0!=o.peers.length&&1!=o.peers.length||(o.emiter=!0),o.peersIds[0]==o.id&&1==o.emiter&&n(s)),o.ondisconnect=function(e){console.log("Disconnection"),console.log(o.peersIds),o.peersIds.splice(o.peersIds.indexOf(e.detail.target.id),1),console.log(o.peersIds),1==o.readyState&&o.peersIds[0]==o.id&&1!=o.emiter&&(o.emiter=!0,n(s))},o.onmessage=function(e){console.log("Message: peersIds"),console.log(o.peersIds),e.data.indexOf("peersIds")!=-1&&(o.peersIds=JSON.parse(e.data).peersIds)})}).catch(function(e){console.log(e)})):mediascape.discovery.connectNWS(t[1]).then(function(e){o=e,s=t[2],1==o.readyState&&(console.log("Emit"),o.emiter=!0,s.indexOf("localhost")==-1?t[2]&&s.indexOf("bit.ly")==-1&&""!=A&&""!=O?S(s).then(function(e){console.log(e.response),o.send(e.response),o.close()}):(console.log(s),o.send(s),o.close()):(o.send(miniUrl),o.close()),o.ondisconnect=function(e){o.peersIds.splice(o.peersIds.indexOf(e.detail.target.id),1),1==o.readyState&&o.peersIds[0]==o.id&&o.send(data.group)},o.onmessage=function(e){e.data.indexOf("peersIds")!=-1&&(o.peersIds=JSON.parse(e.data).peersIds)})}).catch(function(e){console.log(e)})});return n}function f(t){console.log("shakeAssociationTrigger");var a=new Promise(function(a,o){var r,l=(e.Deferred(),t[1]);e.ajax({type:"GET",url:"http://www.timeapi.org/utc/now.json",dataType:"jsonp",jsonpCallback:"myCallback",success:function(t){r=Date.parse(new Date(t.dateString)),l&&l.indexOf("bit.ly")==-1&&""!=A&&""!=O&&S(l).then(function(t){void 0!=t.response&&mediascape.discovery.isPresent("geolocation").then(function(a){a.presence&&mediascape.discovery.getExtra("geolocation").then(function(a){a.extra&&(n("shakeChange",!0,"message",1),e.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+a.extra[0].latitude+","+a.extra[1].longitude+"&sensor=false",function(o){"OK"===o.status?(console.log("The place has been defined"),s=e.post("http://"+_+"/api/associate",{timestamp:r,location:{latitude:a.extra[0].latitude,longitude:a.extra[1].longitude},place:o.results[0].formatted_address,url:l,miniUrl:t.response},function(e){e&&(console.log(e),e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?(n("shakeChange",!0,"errorMessage",1),n("shakeChange",!0,"message",2)):(n("shakeChange",!0,"errorMessage",1),i=setTimeout(function(){n("shakeChange",!0,"message",3),mediascape.association.doAssociation("acoustic",t.response,!1)},5e3)))})):(console.log("The place has not been defined"),s=e.post("http://"+_+"/api/associate",{timestamp:r,location:{latitude:a.extra[0].latitude,longitude:a.extra[1].longitude},url:l,miniUrl:t.response},function(e){e&&(e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?(n("shakeChange",!0,"errorMessage",1),n("shakeChange",!0,"message",2)):(n("shakeChange",!0,"errorMessage",1),i=setTimeout(function(){n("shakeChange",!0,"message",3),mediascape.association.doAssociation("acoustic",t.response,!1)},5e3)))}))}))})})})}})});return a}function y(t){console.log("syncAssociationTrigger");var a=new Promise(function(a,o){var i,r=(e.Deferred(),t[1]);e.ajax({type:"GET",url:"http://www.timeapi.org/utc/now.json",dataType:"jsonp",jsonpCallback:"myCallback",success:function(t){i=Date.parse(new Date(t.dateString)),r&&r.indexOf("bit.ly")==-1&&""!=A&&""!=O&&S(r).then(function(t){void 0!=t.response&&mediascape.discovery.isPresent("geolocation").then(function(o){o.presence&&mediascape.discovery.getExtra("geolocation").then(function(o){o.extra&&(n("shakeChange",!0,"message",1),e.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+o.extra[0].latitude+","+o.extra[1].longitude+"&sensor=false",function(n){"OK"===n.status?(console.log("The place has been defined"),s=e.post("http://"+_+"/api/associate",{timestamp:i,location:{latitude:o.extra[0].latitude,longitude:o.extra[1].longitude},place:n.results[0].formatted_address,url:r,miniUrl:t.response},function(e){e&&a(e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?JSON.parse('{"response":"<p>Association process has been completed successfully</p>"}'):JSON.parse('{"response":"<p>The device can not be associated.</p>"}'))})):(console.log("The place has not been defined"),s=e.post("http://"+_+"/api/associate",{timestamp:i,location:{latitude:o.extra[0].latitude,longitude:o.extra[1].longitude},url:r,miniUrl:t.response},function(e){e&&a(e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?JSON.parse('{"response":"<p>Association process has been completed successfully</p>"}'):JSON.parse('{"response":"<p>The device can not be associated.</p>"}'))}))}))})})})}})});return a}function C(t){console.log("qrCodeAssociationCatcher");var n=new Promise(function(n,a){e.Deferred();(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)&&"function MediaStreamTrack() { [native code] }"==MediaStreamTrack.toString()?MediaStreamTrack.getSources(function(a){for(var o=null,i=0;i!=a.length;++i){var r=a[i];"video"===r.kind&&(o=r.id)}if(null!=o){document.getElementById(t[1]).innerHTML='<h1>Qr Catcher</h1> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id="camera" style="width:320px;"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style="position: relative;display: inline-block;"> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<canvas id="qr-canvas" width="320" height="240" style="border:1px solid red;"></canvas> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="scanner-laser laser-rightBottom" style="opacity: 0.5;"></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="scanner-laser laser-rightTop" style="opacity: 0.5;"></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="scanner-laser laser-leftBottom" style="opacity: 0.5;"></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="scanner-laser laser-leftTop" style="opacity: 0.5;"></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>';for(var i=0;i<document.getElementsByClassName("scanner-laser").length;i++)document.getElementsByClassName("scanner-laser")[i].style.display="block";e("#qr-canvas").WebCodeCam({ReadQRCode:!0,ReadBarecode:!0,width:320,height:240,videoSource:{id:o,maxWidth:640,maxHeight:480},flipVertical:!1,flipHorizontal:!1,zoom:-1,beep:"audio/beep.mp3",autoBrightnessValue:!1,brightness:0,grayScale:!1,contrast:0,threshold:0,sharpness:[],resultFunction:function(e,t){e.indexOf("http://")==-1&&e.indexOf("https://")==-1||n(JSON.parse('{"response":"'+e+'"}'))},getUserMediaError:function(){n(JSON.parse('{"response":"<p>The browser does not support getUserMedia.</p>"}'))},cameraError:function(e){n(JSON.parse('{"response":"<p>Error with the camera.</p>"}'))}})}else n(JSON.parse('{"response":"<p>The device does not contain any camera.</p>"}'))}):n(JSON.parse('{"response":"<p>The device does not contain any camera.</p>"}'))});return n}function v(t){console.log("acousticAssociationCatcher");var a=new Promise(function(a,o){var i=(e.Deferred(),",0123456789*#.|!:/? abcdefghijklmnopqrstuvwxyz&"),s=6e3,l=3500,c="|",u="!",d=[],p=[],m=parseInt((s-l)/i.length);p=i.split("");for(var h=l,g=0;g<i.length;g++)d[g]=h,h+=m;freq_error=m/3,r=new(window.AudioContext||window.webkitAudioContext),navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getMedia?navigator.getMedia({audio:!0,video:!1},function(e){console.log("Start Acoustic Catcher");var o=r.createMediaStreamSource(e),i=r.createAnalyser(),m=r.createBiquadFilter();m.type="highpass",m.frequency.value=3500,o.connect(m),m.connect(i);var h=i.frequencyBinCount,g=new Uint8Array(h),f="",y="",C="",v="",N=!1,b=!1,w=!1,S=!1,A=!1,O="",_=1,k=0,x="",q=new Array,z=new Array;document.getElementById(t[1]).innerHTML="";var L=setInterval(function(){i.getByteFrequencyData(g);for(var e,o,m=-(1/0),h=1/0,T=-1,Z=0;Z<g.length;Z++)g[Z]>m&&(m=g[Z],T=Z),g[Z]<m&&(h=g[Z]);e=m-h;var I=r.sampleRate/2;o=I/g.length*T,z.push(M);for(var Z in d)if(o>d[Z]-freq_error&&o<d[Z]+freq_error&&o>l&&o<s){var M=(d[Z],p[Z]);if(q.push(M),y.length<3&&""!=v&&(C==d[Z]?_+=1:C!=d[Z]&&(_>5&&(y+=v,"#*#"==y&&(1==b&&(w=!0),b=!0,f="#*",n("startAudioProcessing"),setTimeout(function(){clearInterval(L),a(JSON.parse('{"response":"<p>Problem catching the audio.</p>"}'))},3e4))),k=_,_=1)),C!=d[Z]&&b&&k>5&&(M==u?N?(console.log("Mayuscula Detectada con predecesor Mayuscula"),A=!0,N=!0):(console.log("Mayuscula Detectada sin predecesor Mayuscula"),A=!0,N=!0,f+=v,document.getElementById(t[1]).insertAdjacentHTML("beforeend",v)):M==c?A?(console.log("Duplicado Detectado Con Mayuscula"),S=!0):N?(console.log("Duplicado Detectado Sin Mayuscula con predecesor Mayuscula"),S=!0):(console.log("Duplicado Detectado Sin Mayuscula sin predecesor Mayuscula"),S=!0,f+=v,document.getElementById(t[1]).insertAdjacentHTML("beforeend",v)):A?S?(console.log("Upper repeated"),f=f+M.toUpperCase()+M.toUpperCase(),S=!1,x=M,document.getElementById(t[1]).insertAdjacentHTML("beforeend",M.toUpperCase()+M.toUpperCase())):(console.log("Upper !repeated"),f+=M.toUpperCase(),A=!1,x=M,document.getElementById(t[1]).insertAdjacentHTML("beforeend",M.toUpperCase())):S?(console.log("repeated"),f+=M,S=!1,document.getElementById(t[1]).insertAdjacentHTML("beforeend",M),N=!1):(console.log("last"),N=!1,v!=x?(f+=v,document.getElementById(t[1]).insertAdjacentHTML("beforeend",v)):x="")),O=E(f.substring(6,f.length-3)),0!=y.indexOf("|")&&1!=y.indexOf("|")||y.indexOf("|")<y.length-1&&(y=y.replace("|",y.substring(y.indexOf("|")+1,y.indexOf("|")+2))),3==y.length&&C!=d[Z])if(parseInt(y)==O&&0!=O){clearInterval(L);var P=document.createEvent("Event");P.initEvent("ended",!0,!0),document.dispatchEvent(P)}else y=y.substring(1,y.length);else if(w){clearInterval(L);var P=document.createEvent("Event");P.initEvent("ended",!0,!0),document.dispatchEvent(P)}y.length<3&&(""==v?(C=d[Z],v=p[Z]):""!=v&&C!=d[Z]&&(C=d[Z],v=p[Z]))}},10);document.getElementById(t[1]).insertAdjacentHTML("beforeend","<br>"+f),document.addEventListener("ended",function(e){console.log("Ended"),""!=f&&(console.log("Recived Message: "+f),console.log("Start String: "+f.substring(0,3)),console.log("Length: "+f.substring(3,6)),console.log("Url: "+f.substring(6,f.length-3)),console.log("Checksum: "+f.substring(f.length-3,f.length)),document.getElementById(t[1]).insertAdjacentHTML("beforeend","<br>Result:<br>"+f.substring(6,f.length-3)),clearInterval(L),a(JSON.parse('{"response":"'+f.substring(6,f.length-3)+'"}')))})},function(e){alert(e)}):a(JSON.parse('{"response":"<p>The device can not catch audio.</p>"}'))});return a}function N(t){console.log("nwsAssociationCatcher");var n=new Promise(function(n,a){var i;e.Deferred();mediascape.discovery.isPresent("namedwebsockets").then(function(e){e.presence?(delete i,delete o,delete interval1,mediascape.discovery.connectNWS(t[1]).then(function(e){i=e,i.onmessage=function(e){console.log(e.data),e.data.indexOf("peersIds")!=-1?i.peersIds=JSON.parse(e.data).peersIds:e.data.indexOf("http://")==-1&&e.data.indexOf("https://")==-1||n(JSON.parse('{"response":"'+e.data+'"}'))}}).catch(function(e){console.log(e)})):n(JSON.parse('{"response":"<p>It has been impossible to find the NamedWebSocket Proxy.</p><p>Remeber that you can associate using On Demand system.</p>"}'))})});return n}function b(t){console.log("shakeAssociationCatcher");var a=new Promise(function(a,o){e.Deferred();e.ajax({type:"GET",url:"http://www.timeapi.org/utc/now.json",dataType:"jsonp",jsonpCallback:"myCallback",success:function(o){time=Date.parse(new Date(o.dateString)),mediascape.discovery.isPresent("geolocation").then(function(o){o.presence&&mediascape.discovery.getExtra("geolocation").then(function(o){o.extra&&(n("shakeChange",!0,"message",1),e.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+o.extra[0].latitude+","+o.extra[1].longitude+"&sensor=false",function(r){s="OK"===r.status?e.post("http://"+_+"/api/associate",{timestamp:time,location:{latitude:o.extra[0].latitude,longitude:o.extra[1].longitude},place:r.results[0].formatted_address},function(o){o&&(o.response.indexOf("http://")!=-1||o.response.indexOf("https://")!=-1?a(JSON.parse('{"response":"'+o.response+'"}')):(n("shakeChange",!0,"errorMessage",3),i=setTimeout(function(){n("shakeChange",!1);var o=["qr",t[1]];C(o).then(function(e){e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?a(JSON.parse('{"response":"'+e.response+'"}')):console.log(e.response)});var r=["acoustic",t[2]];v(r).then(function(t){t.response.indexOf("http://")!=-1||t.response.indexOf("https://")!=-1?s=e.post("http://"+_+"/api/associate",{url:url},function(e){a(JSON.parse('{"response":"'+t.response+'"}'))}):(n("shakeChange",!0,"errorMessage",3),i=setTimeout(function(){n("shakeChange",!1)},5e3))})},5e3)))}):e.post("http://"+_+"/api/associate",{timestamp:time,location:{latitude:o.extra[0].latitude,longitude:o.extra[1].longitude}},function(e){e&&(e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?a(JSON.parse('{"response":"'+e.response+'"}')):(n("shakeChange",!0,"errorMessage",3),i=setTimeout(function(){n("shakeChange",!1);var e=["qr",t[1]];C(e).then(function(e){e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?a(JSON.parse('{"response":"'+e.response+'"}')):console.log(e)});var e=["acoustic",t[2]];v(e).then(function(e){e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?a(JSON.parse('{"response":"'+e.response+'"}')):(n("shakeChange",!0,"errorMessage",3),i=setTimeout(function(){n("shakeChange",!1)},5e3))})},5e3)))})}))})})}})});return a}function w(t){console.log(t),console.log("syncAssociationCatcher");var a=new Promise(function(t,a){e.Deferred();e.ajax({type:"GET",url:"http://www.timeapi.org/utc/now.json",dataType:"jsonp",jsonpCallback:"myCallback",success:function(a){time=Date.parse(new Date(a.dateString)),mediascape.discovery.isPresent("geolocation").then(function(a){a.presence&&mediascape.discovery.getExtra("geolocation").then(function(a){a.extra&&(n("shakeChange",!0,"message",1),e.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+a.extra[0].latitude+","+a.extra[1].longitude+"&sensor=false",function(n){"OK"===n.status?e.post("http://"+_+"/api/associate",{timestamp:time,location:{latitude:a.extra[0].latitude,longitude:a.extra[1].longitude},place:n.results[0].formatted_address},function(e){e&&t(e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?JSON.parse('{"response":"'+e.response+'"}'):JSON.parse('{"response":"<p>The device can not be associated.</p>"}'))}):e.post("http://"+_+"/api/associate",{timestamp:time,location:{latitude:a.extra[0].latitude,longitude:a.extra[1].longitude}},function(e){e&&t(e.response.indexOf("http://")!=-1||e.response.indexOf("https://")!=-1?JSON.parse('{"response":"'+e.response+'"}'):JSON.parse('{"response":"<p>The device can not be associated.</p>"}'))})}))})})}})});return a}function S(t){console.log("Short");var n=new Promise(function(n,a){e.Deferred();""!==O&&""!==A?e.ajax({url:"http://api.bit.ly/v3/shorten",data:{longUrl:t,apiKey:O,login:A},dataType:"jsonp"}).done(function(e,t,a){if(200==e.status_code){var o=e.data.url;n(JSON.parse('{"response":"'+o+'"}'))}else n(JSON.parse('{"response":"<p>It has not been possible to minimize the url.</p>"}'))}):n(JSON.parse('{"response":"<p>It has not been possible to minimize the url.<p></p> Define a Bitly user and pass.</p>"}'))});return n}function E(e){for(var t=unescape(encodeURIComponent(e)),n=0,a=0;a<t.length;a++){var o=t.charCodeAt(a);n+=o}var i=255&n;return i}var A="ionalberdi",O="R_978251cf3ed04317a147fde5a237b13c",_=window.location.host,k=Array.prototype.slice.call(arguments);if("qr"===k[0].toLowerCase())return 4==k.length||6==k.length||8==k.length?(console.log("Trigger"),d(k)):2==k.length?(console.log("Catcher"),C(k)):c("<p>Review the number of parameters used.</p>");if("acoustic"===k[0].toLowerCase())return 3==k.length?(console.log("Trigger"),h(k)):2==k.length?(console.log("Catcher"),v(k)):c("<p>Review the number of parameters used.</p>");if("nws"===k[0].toLowerCase())return 4==k.length?(console.log("Trigger"),g(k)):2==k.length?(console.log("Catcher"),N(k)):c("<p>Review the number of parameters used.</p>");if("shake"===k[0].toLowerCase())return 2==k.length?(console.log("Trigger"),f(k)):3==k.length?(console.log("Catcher"),b(k)):c("<p>Review the number of parameters used.</p>");if("dial"===k[0].toLowerCase());else if("presentation"!==k[0].toLowerCase())return"text"===k[0].toLowerCase()?3==k.length?u(k):c("<p>Review the number of parameters used.</p>"):"sync"===k[0].toLowerCase()?2==k.length?(console.log("Trigger"),y(k)):1==k.length?(console.log("Catcher"),w(k)):c("<p>Review the number of parameters used.</p>"):c("<p>The technology has not been developed yet.</p>")},this.stopAssociation=function(n){console.log("stopFSKModulator");var l=new Promise(function(l,c){e.Deferred();"acoustic"===n&&(a?(t(a),clearInterval(o)):clearInterval(o)),void 0!=r&&r.close(),clearTimeout(i),void 0!=s&&s.abort()});return l},this.on=function(e,t){console.log("on"),"shakeChange"==e?document.addEventListener("shakeChange",function(e){t(JSON.parse('{"response":'+JSON.stringify(e.detail)+"}"))}):"startAudioProcessing"==e&&document.addEventListener("startAudioProcessing",function(){t()})}};return t.__moduleName="association",t}),define("mediascape/MediaSync/mediasync",[],function(){var e=function(){function e(e,t,n){function a(){1==m.vel&&e.play()}function o(){console.log("onplay"),0==m.vel&&e.pause()}function i(){console.log(err),E()}function r(t){return c.loop?c.duration?t%c.duration:t%e.duration:t}function s(){if(c.debug)if("function"==typeof c.debug){var e=arguments;setTimeout(function(){c.debug.apply(window,e)},0)}else{var e=[];for(var t in arguments)e.push(arguments[t]);console.log(JSON.stringify(e))}}var l,c=n||{};c.skew=c.skew||0,c.target=c.target||.025,c.original_target=c.target,c.loop=c.loop||!1,c.target=2*c.target,void 0===c.remember&&(c.remember=!1),(c.debug||c.remember===!1)&&(localStorage.removeItem("mediascape_vpbr"),c.remember=!1),void 0===c.automute&&(c.automute=!0);var u=!1,d=function(e){A=0,_=[],C=null,b||w||(void 0!=g?g(e):console.log("WARNING: onchange but no update func yet"))},p=function(e){A=0,m&&m.off("change",d),m=e,3==m.version&&(m.__defineGetter__("pos",function(){return m.query().position}),m.__defineGetter__("vel",function(){return m.query().velocity}),m.__defineGetter__("acc",function(){return m.query().acceleration})),m.on("change",d)};t||console.log("WARNING: No motion has been set");var m,g,f,y,C,v,N,b=!1,w=!1,S=function(e){void 0==e&&(e=!0),w=e,w||d()},E=function(){b=!0,e.removeEventListener("paused",a),e.removeEventListener("play",o),e.removeEventListener("error",i)},A=0,O=0,_=[],k=0,x=5,q=!1,z=0,L=function(t){if(0!=e.readyState){if(1!=m.vel)return e.currentTime=t,C=void 0,void F("skip",{event:"skip",pos:t,target:m.pos,adjust:0});var n=0,a=performance.now();if(C){a-C.ts<1500?(z+=1,z>3&&(s("Lost all confidence (thrashing)"),c.target=Math.min(1,2*c.target),F("target_change",{event:"target_change",target:c.target,reason:"thrashing"}),z=0)):z=0;var o=(a-C.ts)/1e3,i=e.currentTime,l=r(C.pos+o)-i;n=C.adjust+l,Math.abs(n)>5&&(n=0)}e.playbackRate=1,s({type:"skip",pos:t+n,target:r(m.pos),adjust:n}),x=Math.min(5,x+5),1!=m.vel?e.currentTime=t:(e.currentTime=t+n,C={ts:a,pos:t,adjust:n}),q&&(q=!1,F("sync",{event:"sync",sync:!1})),F("skip",{event:"skip",pos:t+n,target:m.pos,adjust:n})}},T=function(t){if(!b&&!w){var n=G();if(r(n.pos)!=f){f=r(n.pos);var a=r(n.pos+c.skew),o=e.duration;if(o&&(a<0||a>o))return void(e.paused||e.pause());0!=n.vel?e.paused&&e.play():e.paused||e.pause();try{if(!y&&A>40)throw u&&(e.muted=!1,u=!1),F("muted",{event:"muted",muted:!1}),new Error("Variable playback rate seems broken - "+A+" bad");var i=a-e.currentTime;if(i<-1||0==n.vel||Math.abs(i)>1){s({type:"jump",diff:i});var l=r(n.pos+c.skew);return void(performance.now()-k>150&&(k=performance.now(),L(l)))}if(_.push(i),!(_.length>=3))return;for(var d=0,p=0;p<_.length;p++)d+=_[p];i=d/_.length,_=_.splice(0,1),s({type:"dbg",diff:i,bad:A,vpbr:y});var h=function(e,t){return Math.min(m.vel+e,Math.max(m.vel-e,m.vel+t))};Math.abs(i)>1?(_=[],e.playbackRate=h(1,1.3*i),s({type:"vpbr",level:"coarse",rate:e.playbackRate}),A+=4):Math.abs(i)>.5?(_=[],e.playbackRate=h(.5,.75*i),s({type:"vpbr",level:"mid",rate:e.playbackRate}),A+=2):Math.abs(i)>.1?(_=[],e.playbackRate=h(.4,.75*i),s({type:"vpbr",level:"midfine",rate:e.playbackRate}),A+=1):Math.abs(i)>.025?(_=[],e.playbackRate=h(.3,.6*i),s({type:"vpbr",level:"fine",rate:e.playbackRate})):(y||(A=Math.max(0,A-20),O++,O>5&&(y=!0,localStorage&&c.remember&&(s("Variable Playback Rate capability stored"),localStorage.mediascape_vpbr=JSON.stringify({appVersion:navigator.appVersion,vpbr:!0})))),q||(q=!0,F("sync",{event:"sync",sync:!0})),e.playbackRate=h(.02,.07*i)),c.automute&&(!e.muted&&(e.playbackRate>1.05||e.playbackRate<.95)?(u=!0,e.muted=!0,F("muted",{event:"muted",muted:!0}),s({type:"mute",muted:!0})):e.muted&&u&&(u=!1,e.muted=!1,s({type:"mute",muted:!1}),F("muted",{event:"muted",muted:!1})))}catch(t){c.automute&&(e.muted=!1),C=null,localStorage&&c.remember&&(s("Variable Playback Rate NOT SUPPORTED, remembering this  "),localStorage.mediascape_vpbr=JSON.stringify({appVersion:navigator.appVersion,vpbr:!1})),console.log("Error setting variable playback speed - seems broken",t),B(Z)}}}},x=5,Z=function(t){if(!b&&!w){var n=G();if(n.vel>0?e.paused&&e.play():e.paused||e.pause(),1!=n.vel){if(r(n.pos)==v)return;v=n.pos,s("Jump, playback speed is not :",n.vel);var a=r(n.pos+c.skew);return void(e.currentTime!=a&&L(a,"jump"))}var o=n.pos+c.skew,i=o-e.currentTime;if(void 0!=t&&void 0!=t.pos){s("MOTION JUMP");var a=n.pos+c.skew;return void L(a)}if(_.push(i),_.length>=3){for(var l=0,u=0;u<_.length;u++)l+=_[u];if(i=l/_.length,_.splice(0,1),Math.abs(i)<.001&&(x=Math.max(5,x)),x<=-2?(s("Lost all confidence"),c.target=Math.min(1,1.4*c.target),x=0,F("target_change",{event:"target_change",target:c.target,reason:"unknown"})):x>15&&(s("Feels better"),c.target==c.original_target&&(q||(q=!0,F("sync",{event:"sync",sync:!0}))),c.target=Math.max(.7*Math.abs(i),c.original_target),x-=8,F("target_change",{event:"target_change",target:c.target,reason:"improving"})),s({type:"dbg",diff:i,target:c.target,perfect:x}),Math.abs(i)>c.target){if(x-=1,x>0)return;a=m.pos+c.skew,x+=8,L(a)}else Math.abs(i-N)<c.target/2&&x++,N=i}}},I=!1,M=function(){if(!I){if(I=!0,void 0===m&&p(t),localStorage&&c.remember&&localStorage.mediascape_vpbr){var n=JSON.parse(localStorage.mediascape_vpbr);n.appVersion===navigator.appVersion&&(y=n.vpbr)}"vpbr"===c.mode&&(y=!0),"skip"===c.mode||y===!1?(e.playbackRate=1,g=Z):(c.automute&&(e.muted=!0,u=!0,F("muted",{event:"muted",muted:!0})),g=T),e.removeEventListener("canplay",M),e.removeEventListener("playing",M),B(g),m.on("change",d)}};e.addEventListener("canplay",M),e.addEventListener("playing",M);var P,D,B=function(t){P&&(clearInterval(D),e.removeEventListener("timeupdate",P),e.removeEventListener("pause",P),e.removeEventListener("ended",P)),P=t,e.playbackRate=1,e.addEventListener("timeupdate",t),e.addEventListener("pause",t),e.addEventListener("ended",t),t===T?F("mode_change",{event:"mode_change",mode:"vpbr"}):F("mode_change",{event:"mode_change",mode:"skip"})},G=function(){if(3==m.version){var e=m.query();return{pos:e.position,vel:e.velocity,acc:e.acceleration}}return m.query()},H=function(e){c.skew=e},U=function(){return c.skew},R=function(e,t){c[e]=t,"target"===e&&(c.original_target=t)},j=function(){return g===T?"playbackRate":"skip"},J=setInterval(function(){if(e.readyState>=2){clearInterval(J);try{var t=new Event("canplay");e.dispatchEvent(t)}catch(n){var t=document.createEvent("Event");t.initEvent("canplay",!0,!1),e.dispatchEvent(t)}}},100),V={skip:[],mode_change:[],target_change:[],muted:[],sync:[]},F=function(e,t){if(!V.hasOwnProperty(e))throw"Unsupported event: "+e;for(var n=0;n<V[e].length;n++){h=V[e][n];try{h.call(l,t)}catch(t){console.log("Error in "+e+": "+h+": "+t)}}},W=function(e,t){if(!V.hasOwnProperty(e))throw"Unknown parameter "+e;var n=V[e].indexOf(t);return n>-1&&V[e].splice(n,1),l},K=function(e,t,n){if(!V.hasOwnProperty(e))throw new Error("Unsupported event: "+e);if(!t||"function"!=typeof t)throw"Illegal handler";var a=V[e].indexOf(t);if(a!=-1)throw new Error("Already registered");return V[e].push(t),setTimeout(function(){"sync"===e&&F(e,{event:e,sync:q},t),"muted"===e&&F(e,{event:e,muted:u},t)},0),l};return l={setSkew:H,getSkew:U,setOption:R,getMethod:j,setMotion:p,stop:E,pause:S,on:K,off:W,init:M}}var t={};return t.mediaSync=e,t};return e.__moduleName="mediaSync",e}),function(e){function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function n(e,t){var n=a(e,t)?i:o;n(e,t)}var a,o,i;"classList"in document.documentElement?(a=function(e,t){return e.classList.contains(t)},o=function(e,t){e.classList.add(t)},i=function(e,t){e.classList.remove(t)}):(a=function(e,n){return t(n).test(e.className)},o=function(e,t){a(e,t)||(e.className=e.className+" "+t)},i=function(e,n){e.className=e.className.replace(t(n)," ")}),e.classie={hasClass:a,addClass:o,removeClass:i,toggleClass:n,
has:a,add:o,remove:i,toggle:n}}(window),define("classifie",function(){}),define("configPanel",["jquery","bootstrap","classifie"],function(e,t){var n=function(e){this.items=[],this.activeSection="",this.activeDevice="",this.selfID="",this.selfIDNum="",this.selfDev="",this.showing=!0,this.enabled=!0,this.securityTime=3e3;var t=null,n=e,i=null,r=null,s=null,l=null,c=null;this.textos={menu:[{id:"stronghide",eu:"itxi",es:"cerrar"},{id:"strongadd",eu:"gehitu",es:"aadir"},{id:"stronglayouts",eu:"layoutak",es:"layouts"},{id:"strongcameras",eu:"kamarak",es:"camaras"},{id:"strongtwitter",eu:"twitter",es:"twitter"},{id:"stronggraphics",eu:"grafikoak",es:"graficos"},{id:"strongfull",eu:"osoan",es:"completa"},{id:"strongcloseapp",eu:"itxi app",es:"cerrar app"}],addDev:[{id:"qrexplanation",eu:"Irakurri QR kodea edo sartu URL-a beste gailu bat gehitzeko",es:"Escanea el cdigo QR o introduce la URL para aadir otro dispositivo"}],twitter:[{id:"titTw",eu:"Segi Twitterren",es:"Sigue en Twitter"},{id:"subTw",eu:"#I25",es:"#25S"}],graficos:[{id:"ptablaresultsEitb1",eu:"EMAITZEN TAULA",es:"TABLA DE RESULTADOS"},{id:"ptablaresultsEitb2",eu:"EMAITZEN TAULA",es:"TABLA DE RESULTADOS"},{id:"pmaparesultsMap1",eu:"EMAITZEN MAPA",es:"MAPA DE RESULTADOS"},{id:"pmaparesultsMap2",eu:"EMAITZEN MAPA",es:"MAPA DE RESULTADOS"},{id:"pgraphgraficoSemi1",eu:"SEKTOREAK EAEN",es:"SECTORES EN CAV"},{id:"pgraphgraficoSemi2",eu:"SEKTOREAK ARABAN",es:"SECTORES EN ALAVA"},{id:"pgraphgraficoSemi3",eu:"SEKTOREAK GIPUZKOAN",es:"SECTORES EN GUIPUZCOA"},{id:"pgraphgraficoSemi4",eu:"SEKTOREAK BIZKAIAN",es:"SECTORES EN BIZKAIA"},{id:"conggraficoSemi2",eu:"Kongresua",es:"Congreso"},{id:"sengraficoSemi2",eu:"Senatua",es:"Senado"},{id:"conggraficoSemi1",eu:"Kongresua",es:"Congreso"},{id:"sengraficoSemi1",eu:"Senatua",es:"Senado"},{id:"congresultsMap1",eu:"Kongresua",es:"Congreso"},{id:"senresultsMap1",eu:"Senatua",es:"Senado"},{id:"congresultsMap2",eu:"Kongresua",es:"Congreso"},{id:"senresultsMap2",eu:"Senatua",es:"Senado"},{id:"congresultsEitb1",eu:"Kongresua",es:"Congreso"},{id:"senresultsEitb1",eu:"Senatua",es:"Senado"},{id:"congresultsEitb2",eu:"Kongresua",es:"Congreso"},{id:"senresultsEitb2",eu:"Senatua",es:"Senado"}]},this.controlPanel=function(){function e(e){if(e.id===d)return e}var u=mediascape.AdaptationToolkit.componentManager.core.getComponents();console.log("Konstruktorea");var d="video2",p=u.filter(e),b=new y;b.setID(p[0].getAttribute("compId")),b.setName(p[0].id),b.setImage("../resources/configPanel/img/camara/logos_partidos_PNV_BLANCO.png"),d="video3",p=u.filter(e);var O=new y;O.setID(p[0].getAttribute("compId")),O.setName(p[0].id),O.setImage("../resources/configPanel/img/camara/logo_sozialista.png"),d="video4",p=u.filter(e);var _=new y;_.setID(p[0].getAttribute("compId")),_.setName(p[0].id),_.setImage("../resources/configPanel/img/camara/logo_podemos.png"),d="video5",p=u.filter(e);var k=new y;k.setID(p[0].getAttribute("compId")),k.setName(p[0].id),k.setImage("../resources/configPanel/img/camara/logo_bildu.png"),d="video6",p=u.filter(e);var x=new y;x.setID(p[0].getAttribute("compId")),x.setName(p[0].id),x.setImage("../resources/configPanel/img/camara/logos_partidos_Populares_vascos_BLANCO.png"),d="resultsEitb1",p=u.filter(e);var q=new w;q.setName(p[0].id),q.setID(p[0].getAttribute("compId")),d="resultsEitb2",p=u.filter(e);var z=new w;z.setName(p[0].id),z.setID(p[0].getAttribute("compId")),d="twitterViewer",p=u.filter(e);var L=new v;L.setID(p[0].getAttribute("compId")),d="resultsMap1",p=u.filter(e);var T=new S;T.setName(p[0].id),T.setID(p[0].getAttribute("compId")),d="resultsMap2",p=u.filter(e);var Z=new S;Z.setName(p[0].id),Z.setID(p[0].getAttribute("compId")),d="graficoSemi1",p=u.filter(e);var I=new E;I.setName(p[0].id),I.setID(p[0].getAttribute("compId")),d="graficoSemi2",p=u.filter(e);var M=new E;M.setName(p[0].id),M.setID(p[0].getAttribute("compId")),d="graficoSemi3",p=u.filter(e);var P=new E;P.setName(p[0].id),P.setID(p[0].getAttribute("compId")),d="graficoSemi4",p=u.filter(e);var D=new E;D.setName(p[0].id),D.setID(p[0].getAttribute("compId")),s=new C,s.addCamera(b),s.addCamera(O),s.addCamera(_),s.addCamera(k),s.addCamera(x),l=new A,l.addTableComp(q),l.addTableComp(z),l.addPartyMapComp(T),l.addPartyMapComp(Z),l.addPieComp(I),l.addPieComp(M),l.addPieComp(P),l.addPieComp(D),c=new N,c.addViewerComp(L),t=new m;var B=new h;B.setName("pip"),B.setImage("../resources/configPanel/img/layouts/layout_03.png");var G=new h;G.setName("divided"),G.setImage("../resources/configPanel/img/layouts/layout_06.png");var H=new h;H.setName("pipGrid"),H.setImage("../resources/configPanel/img/layouts/layout_11.png"),i=new g,i.addLayout(B),i.addLayout(G),i.addLayout(H),r=new f(n);var U=new o,R=new a;R.setTextId("strongadd"),R.setText("Add device"),R.setIcon("zmdi zmdi-plus"),R.setSection("AddDevice"),U.addItem(R);var j=new a;j.setTextId("stronglayouts"),j.setText("Layouts"),j.setIcon("zmdi zmdi-view-quilt"),j.setSection("layouts"),U.addItem(j);var J=new a;J.setTextId("strongcameras"),J.setText("Cameras"),J.setIcon("zmdi zmdi-videocam"),J.setSection("cameras"),U.addItem(J);var V=new a;V.setTextId("strongtwitter"),V.setText("Twitter"),V.setIcon("zmdi zmdi-twitter"),V.setSection("twitter"),U.addItem(V);var F=new a;F.setTextId("stronggraphics"),F.setText("Graphics"),F.setIcon("zmdi zmdi-equalizer"),F.setSection("graphics"),U.addItem(F),this.addItem(U),document.body.appendChild(this.render("")),mediascape.AdaptationToolkit.Utils.enableCameraAdmin()},this.addItem=function(e){this.items.push(e)},this.addItemPos=function(e,t){this.items.splice(t,0,e)},this.removeItem=function(e){for(var t=0;t<this.items.length;t++)this.items[t].name===e&&this.items.splice(t,1)},this.onAgentChange=function(e){var n=document.querySelector("#fullTemp");if(void 0===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAppAttribute("language"))if(window.location.href.indexOf("?lang")>-1)var a=mediascape.AdaptationToolkit.Utils.getUrlVar("lang");else var a="eu";else var a=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAppAttribute("language");1===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext().agents.length&&"join"===e.detail.status?"tv"===e.detail.profile.deviceType.toLowerCase()?mediascape.AdaptationToolkit.uiComponents.qrNotification(a,"tv"):mediascape.AdaptationToolkit.uiComponents.qrNotification(a,"other"):"join"===e.detail.status?mediascape.AdaptationToolkit.uiComponents.connectedNotification(a):"left"===e.detail.status&&mediascape.AdaptationToolkit.uiComponents.disconnectedNotification(a);var o=this;setTimeout(function(){function a(e){if(e.id===f)return e}function u(e){if(e.id===q)return e}function m(e){if(e.id===q)return e}if("join"===e.detail.status){mediascape.AdaptationToolkit.uiComponents.ctrlPanel.selfID=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId();var h=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),g=h.agents,f=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.selfID,y=g.filter(a);mediascape.AdaptationToolkit.uiComponents.ctrlPanel.selfIDNum=y[0]._id+1;var f=e.detail.agentid,C=g.filter(a);if(h.agents.length>1&&0===t.devices.length){for(var v=0;v<h.agents.length;v++){var N=new p;if("TV"===h.agents[v].capabilities.platform.deviceType?h.agents[v]._id+1<=9?N.setIcon("TV_"+(h.agents[v]._id+1)+".png"):N.setIcon("TV_default.png"):"desktop"===h.agents[v].capabilities.platform.deviceType.toLowerCase()?h.agents[v]._id+1<=9?N.setIcon("LAPTOP_"+(h.agents[v]._id+1)+".png"):N.setIcon("LAPTOP_default.png"):"Tablet"===h.agents[v].capabilities.platform.deviceType?h.agents[v]._id+1<=9?N.setIcon("TABLET_"+(h.agents[v]._id+1)+".png"):N.setIcon("TABLET_default.png"):"mobile"===h.agents[v].capabilities.platform.deviceType.toLowerCase()&&(h.agents[v]._id+1<=9?N.setIcon("MOVIL_"+(h.agents[v]._id+1)+".png"):N.setIcon("MOVIL_default.png")),h.agents[v].id===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()&&(o.selfDev="../resources/configPanel/img/devices/"+N.icon,document.querySelector("#devNum").setAttribute("src","../resources/configPanel/img/devices/"+N.icon),document.querySelector("#tabDevId").setAttribute("src","../resources/configPanel/img/devices/"+N.icon)),N.setID(h.agents[v].id),0===v){var b=new d;b.setName("AddDevice"),b.addItem(r),o.addItem(b),n.appendChild(b.render())}var w=new d;w.setName(h.agents[v].id+"layouts"),w.addItem(t),i.setActiveLayout(h.agents[v].capabilities.layoutStatus),w.addItem(i),o.addItem(w),n.appendChild(w.render());var S=new d;S.setName(h.agents[v].id+"cameras"),S.addItem(t),s.setCamsViewStatus(h.agents[v].id),s.setCamsSoundStatus(h.agents[v].id),S.addItem(s),o.addItem(S),"tv"===h.agents[v].capabilities.platform.deviceType.toLowerCase()?n.appendChild(S.render("tv")):n.appendChild(S.render("other"));var E=new d;E.setName(h.agents[v].id+"twitter"),E.addItem(t),c.setViewerViewStatus(h.agents[v].id),E.addItem(c),o.addItem(E),n.appendChild(E.render());var A=new d;A.setName(h.agents[v].id+"graphics"),A.addItem(t),l.setTableViewStatus(h.agents[v].id),l.setTablePlaceStatus(h.agents[v].id),l.setTableTipoStatus(h.agents[v].id),l.setPieViewStatus(h.agents[v].id),l.setPiePlaceStatus(h.agents[v].id),l.setPieTipoStatus(h.agents[v].id),l.setPartyMapViewStatus(h.agents[v].id),l.setPartyMapLugarStatus(h.agents[v].id),l.setPartyMapTipoStatus(h.agents[v].id),A.addItem(l),o.addItem(A),n.appendChild(A.render()),t.addDevice(N)}for(var O=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,_=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,k=document.querySelector("#fullTemp").children,v=2;v<_;v++)k[v].replaceChild(t.render(),k[v].children[0])}else{mediascape.AdaptationToolkit.uiComponents.ctrlPanel.selfID=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId();var N=new p;if("TV"===e.detail.profile.deviceType?C[0]._id+1<=9?N.setIcon("TV_"+(C[0]._id+1)+".png"):N.setIcon("TV_default.png"):"desktop"===e.detail.profile.deviceType.toLowerCase()?C[0]._id+1<=9?N.setIcon("LAPTOP_"+(C[0]._id+1)+".png"):N.setIcon("LAPTOP_default.png"):"Tablet"===e.detail.profile.deviceType?C[0]._id+1<=9?N.setIcon("TABLET_"+(C[0]._id+1)+".png"):N.setIcon("TABLET_default.png"):"mobile"===e.detail.profile.deviceType.toLowerCase()&&(C[0]._id+1<=9?N.setIcon("MOVIL_"+(C[0]._id+1)+".png"):N.setIcon("MOVIL_default.png")),C[0].id===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()&&(o.selfDev="../resources/configPanel/img/devices/"+N.icon,document.querySelector("#devNum").setAttribute("src","../resources/configPanel/img/devices/"+N.icon),document.querySelector("#tabDevId").setAttribute("src","../resources/configPanel/img/devices/"+N.icon)),0===t.devices.length){N.setID(e.detail.agentid);var b=new d;b.setName("AddDevice"),b.addItem(r),o.addItem(b),n.appendChild(b.render());var w=new d;w.setName(e.detail.agentid+"layouts"),w.addItem(t),i.setActiveLayout(C[0].capabilities.layoutStatus),w.addItem(i),o.addItem(w),n.appendChild(w.render());var S=new d;S.setName(e.detail.agentid+"cameras"),S.addItem(t),s.setCamsViewStatus(e.detail.agentid),s.setCamsSoundStatus(e.detail.agentid),S.addItem(s),o.addItem(S),"tv"===e.detail.profile.deviceType.toLowerCase()?n.appendChild(S.render("tv")):n.appendChild(S.render("other"));var E=new d;E.setName(e.detail.agentid+"twitter"),E.addItem(t),c.setViewerViewStatus(e.detail.agentid),E.addItem(c),o.addItem(E),n.appendChild(E.render());var A=new d;A.setName(e.detail.agentid+"graphics"),A.addItem(t),l.setTableViewStatus(e.detail.agentid),l.setTablePlaceStatus(e.detail.agentid),l.setTableTipoStatus(e.detail.agentid),l.setPieViewStatus(e.detail.agentid),l.setPiePlaceStatus(e.detail.agentid),l.setPieTipoStatus(e.detail.agentid),l.setPartyMapViewStatus(e.detail.agentid),l.setPartyMapLugarStatus(e.detail.agentid),l.setPartyMapTipoStatus(e.detail.agentid),A.addItem(l),o.addItem(A),n.appendChild(A.render())}else{N.setID(e.detail.agentid);var w=new d;w.setName(e.detail.agentid+"layouts"),w.addItem(t),i.setActiveLayout(C[0].capabilities.layoutStatus),w.addItem(i),o.addItem(w),n.appendChild(w.render());var S=new d;S.setName(e.detail.agentid+"cameras"),S.addItem(t),s.setCamsViewStatus(e.detail.agentid),s.setCamsSoundStatus(e.detail.agentid),S.addItem(s),o.addItem(S),"tv"===e.detail.profile.deviceType.toLowerCase()?n.appendChild(S.render("tv")):n.appendChild(S.render("other"));var E=new d;E.setName(e.detail.agentid+"twitter"),E.addItem(t),c.setViewerViewStatus(e.detail.agentid),E.addItem(c),o.addItem(E),n.appendChild(E.render());var A=new d;A.setName(e.detail.agentid+"graphics"),A.addItem(t),l.setTableViewStatus(e.detail.agentid),l.setTablePlaceStatus(e.detail.agentid),l.setTableTipoStatus(e.detail.agentid),l.setPieViewStatus(e.detail.agentid),l.setPiePlaceStatus(e.detail.agentid),l.setPieTipoStatus(e.detail.agentid),l.setPartyMapViewStatus(e.detail.agentid),l.setPartyMapLugarStatus(e.detail.agentid),l.setPartyMapTipoStatus(e.detail.agentid),A.addItem(l),o.addItem(A),n.appendChild(A.render())}t.addDevice(N);for(var O=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,_=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,k=document.querySelector("#fullTemp").children,v=2;v<_;v++)if(O[v].name.indexOf("cameras")>-1&&O[v].name.indexOf(e.detail.agentid)===-1){var x=new d;x.setName(O[v].name),x.addItem(t);var q=O[v].name.split("cameras")[0],z=O[v].items[0].devices.filter(u);s.setCamsViewStatus(O[v].name.split("cameras")[0]),s.setCamsSoundStatus(O[v].name.split("cameras")[0]),x.addItem(s),o.removeItem(O[v].name),o.addItemPos(x,v),z[0].icon.indexOf("TV")>-1?n.replaceChild(x.render("tv"),k[v]):n.replaceChild(x.render("other"),k[v])}else k[v].replaceChild(t.render(),k[v].children[0]);mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSection(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeSection,void 0)}if(1===g.length&&"tv"===e.detail.profile.deviceType.toLowerCase()?(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.show(),document.querySelector("#hide").focus()):mediascape.AdaptationToolkit.uiComponents.ctrlPanel.hide(),void 0===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAppAttribute("language"))window.location.href.indexOf("?lang")>-1?mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setAppAttribute("language",mediascape.AdaptationToolkit.Utils.getUrlVar("lang")):mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setAppAttribute("language","eu");else{var L=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAppAttribute("language");if("es"===L||"eu"===L){var T=document.querySelector("#fullTemp").querySelectorAll("#arMun"),Z=document.querySelector("#fullTemp").querySelectorAll("#vizMun"),I=document.querySelector("#fullTemp").querySelectorAll("#gipMun");if("es"===L){document.querySelector("#langes").className="active",document.querySelector("#langeu").className="";for(var M=0;M<T.length;M++)T[M].label="Municipios de Alava",Z[M].label="Municipios de Bizkaia",I[M].label="Municipios de Guipuzcoa";document.querySelector("#loadingNotif").src="../resources/images/cargandoes.png"}else if("eu"===L){document.querySelector("#langeu").className="active",document.querySelector("#langes").className="";for(var M=0;M<T.length;M++)T[M].label="Arabako udalerriak",Z[M].label="Bizkaiako udalerriak",I[M].label="Gipuzkoako udalerriak";document.querySelector("#loadingNotif").src="../resources/images/cargandoeu.png"}null!==document.querySelector("#qrNotif")&&(document.querySelector("#qrNotif").src=document.querySelector("#qrNotif").src.split("notif")[0]+"notif"+L+".png");for(var v=0;v<o.textos.menu.length;v++)null!==document.querySelector("#fullTemp").querySelector("#"+o.textos.menu[v].id)&&(document.querySelector("#fullTemp").querySelector("#"+o.textos.menu[v].id).innerHTML=o.textos.menu[v][L]);for(var v=0;v<o.textos.addDev.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+o.textos.addDev[v].id),M=0;M<P.length;M++)P[M].innerHTML=o.textos.addDev[v][L];for(var v=0;v<o.textos.twitter.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+o.textos.twitter[v].id),M=0;M<P.length;M++)P[M].innerHTML=o.textos.twitter[v][L];for(var v=0;v<o.textos.graficos.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+o.textos.graficos[v].id),M=0;M<P.length;M++)P[M].innerHTML=o.textos.graficos[v][L];for(var D={zonas:[{Z:1,N:"Alava-Araba",O:28,NE:"Araba",NC:"Alava",C:1984},{Z:2,N:"Vizcaya",O:28,NE:"Bizkaia",NC:"Bizkaia",C:1984},{Z:3,N:"Guipuzcoa",O:28,NE:"Gipuzkoa",NC:"Guipzcoa",C:1984},{Z:5,N:"CAV-EAE",O:28,NE:"EAE",NC:"CAV",C:1984}]},B={zonas:[{Z:1001,N:"Alegra-Dulantzi",O:28,NE:"Dulantzi",NC:"Alegra-Dulantzi",C:1984},{Z:1002,N:"Amurrio",O:29,NE:"Amurrio",NC:"Amurrio",C:8139},{Z:1049,N:"Aana",O:63,NE:"Aana",NC:"Aana",C:140},{Z:1003,N:"Aramaio",O:30,NE:"Aramaio",NC:"Aramaio",C:1186},{Z:1006,N:"Armin",O:32,NE:"Armion",NC:"Armin",C:176},{Z:1037,N:"Arraia-Maeztu",O:55,NE:"Arraia-Maeztu",NC:"Arraia-Maeztu",C:586},{Z:1008,N:"Arratzua-Ubarrundia",O:33,NE:"Arratzua-Ubarrundia",NC:"Arratzua-Ubarrundia",C:790},{Z:1004,N:"Artziniega",O:31,NE:"Artziniega",NC:"Artziniega",C:1405},{Z:1009,N:"Asparrena",O:34,NE:"Asparrena",NC:"Asparrena",C:1281},{Z:1010,N:"Ayala/Aiara",O:35,NE:"Aiara",NC:"Ayala",C:2275},{Z:1011,N:"Baos de Ebro/Maueta",O:36,NE:"Maueta",NC:"Baos de Ebro",C:237},{Z:1013,N:"Barrundia",O:37,NE:"Barrundia",NC:"Barrundia",C:711},{Z:1014,N:"Berantevilla",O:38,NE:"Berantevilla",NC:"Berantevilla",C:372},{Z:1016,N:"Bernedo",O:39,NE:"Bernedo",NC:"Bernedo",C:439},{Z:1017,N:"Campezo/Kanpezu",O:40,NE:"Kanpezu",NC:"Campezo",C:869},{Z:1021,N:"Elburgo/Burgelu",O:44,NE:"Burgu",NC:"Elburgo",C:460},{Z:1022,N:"Elciego",O:45,NE:"Eltziego",NC:"Elciego",C:805},{Z:1023,N:"Elvillar/Bilar",O:46,NE:"Bilar",NC:"Elvillar",C:269},{Z:1901,N:"Irua Oka/Irua de Oca",O:76,NE:"Irua Oka",NC:"Irua de Oca",C:2344},{Z:1027,N:"Iruraiz-Gauna",O:47,NE:"Iruraitz-Gauna",NC:"Iruraitz-Gauna",C:416},{Z:1019,N:"Kripan",O:42,NE:"Kripan",NC:"Kripan",C:144},{Z:1020,N:"Kuartango",O:43,NE:"Kuartango",NC:"Kuartango",C:326},{Z:1028,N:"Labastida",O:48,NE:"Bastida",NC:"Labastida",C:1077},{Z:1030,N:"Lagrn",O:49,NE:"Lagran",NC:"Lagrn",C:159},{Z:1031,N:"Laguardia",O:50,NE:"Guardia",NC:"Laguardia",C:1183},{Z:1032,N:"Lanciego/Lantziego",O:51,NE:"Lantziego",NC:"Lanciego",C:522},{Z:1902,N:"Lantarn",O:77,NE:"Lantaron",NC:"Lantarn",C:738},{Z:1033,N:"Lapuebla de Labarca",O:52,NE:"Lapuebla de Labarca",NC:"Lapuebla de Labarca",C:649},{Z:1058,N:"Legutiano",O:71,NE:"Legutio",NC:"Legutio",C:1327},{Z:1034,N:"Leza",O:53,NE:"Leza",NC:"Leza",C:165},{Z:1036,N:"Llodio/Laudio",O:54,NE:"Laudio",NC:"Llodio",C:15034},{Z:1039,N:"Moreda de Alava",O:56,NE:"Moreda Araba",NC:"Moreda de Alava",C:202},{Z:1041,N:"Navaridas",O:57,NE:"Navaridas",NC:"Navaridas",C:153},{Z:1042,N:"Okondo",O:58,NE:"Okondo",NC:"Okondo",C:901},{Z:1043,N:"Oyn/Oion",O:59,NE:"Oion",NC:"Oyn",C:2318},{Z:1044,N:"Peacerrada-Urizaharra",O:60,NE:"Urizaharra",NC:"Peacerrada",C:236},{Z:1046,N:"Ribera Alta",O:61,NE:"Erriberagoitia",NC:"Ribera Alta",C:594},{Z:1047,N:"Ribera Baja/Erribera Beitia",O:62,NE:"Erriberabeitia",NC:"Ribera Baja",C:964},{Z:1051,N:"Salvatierra/Agurain",O:64,NE:"Agurain",NC:"Salvatierra",C:3606},{Z:1052,N:"Samaniego",O:65,NE:"Samaniego",NC:"Samaniego",C:244},{Z:1053,N:"San Milln/Donemiliaga",O:66,NE:"Donemiliaga",NC:"San Milln",C:587},{Z:1054,N:"Urkabustaiz",O:67,NE:"Urkabustaiz",NC:"Urkabustaiz",C:952},{Z:1055,N:"Valdegova/Gaubea",O:68,NE:"Gaubea",NC:"Valdegova",C:836},{Z:1056,N:"Harana/Valle de Arana",O:69,NE:"Harana",NC:"Valle de Arana",C:218},{Z:1057,N:"Villabuena de Alava/Eskuernaga",O:70,NE:"Villabuena",NC:"Villabuena de Alava",C:245},{Z:10,N:"Gasteiz",O:7,NE:"Gasteiz",NC:"Vitoria-Gasteiz",C:186354},{Z:1060,N:"Ycora/Iekora",O:72,NE:"Ekora",NC:"Ycora",C:199},{Z:1061,N:"Zalduondo",O:73,NE:"Zalduondo",NC:"Zalduondo",C:153},{Z:1062,N:"Zambrana",O:74,NE:"Zanbrana",NC:"Zambrana",C:314},{Z:1018,N:"Zigoitia",O:41,NE:"Zigoitia",NC:"Zigoitia",C:1370},{Z:1063,N:"Zuia",O:75,NE:"Zuia",NC:"Zuia",C:1799}]},G={zonas:[{Z:2001,N:"Abadio",O:81,NE:"Abadio",NC:"Abadio",C:5832},{Z:2002,N:"Abanto y Cirvana/Abanto Zierbena",O:82,NE:"Abanto",NC:"Abanto y Cirvana",C:7851},{Z:2911,N:"Ajangiz",O:187,NE:"Ajangiz",NC:"Ajangiz",C:382},{Z:2912,N:"Alonsotegi",O:188,NE:"Alonsotegi",NC:"Alonsotegi",C:2308},{Z:2003,N:"Amorebieta-Etxano",O:83,NE:"Zornotza",NC:"Amorebieta-Etxano",C:14338},{Z:2004,N:"Amoroto",O:84,NE:"Amoroto",NC:"Amoroto",C:334},{Z:2005,N:"Arakaldo",O:85,NE:"Arakaldo",NC:"Arakaldo",C:117},{Z:2006,N:"Arantzazu",O:86,NE:"Arantzazu",NC:"Arantzazu",C:289},{Z:2093,N:"Areatza",O:172,NE:"Areatza",NC:"Areatza",C:900},{Z:2009,N:"Arrankudiaga",O:89,NE:"Arrankudiaga",NC:"Arrankudiaga",C:786},{Z:2914,N:"Arratzu",O:190,NE:"Arratzu",NC:"Arratzu",C:330},{Z:2010,N:"Arrieta",O:90,NE:"Arrieta",NC:"Arrieta",C:457},{Z:2011,N:"Arrigorriaga",O:91,NE:"Arrigorriaga",NC:"Arrigorriaga",C:9692},{Z:2023,N:"Artea",O:102,NE:"Arteaga",NC:"Artea",C:594},{Z:2008,N:"Arcentales",O:88,NE:"Artzentales",NC:"Artzentales",C:617},{Z:2091,N:"Atxondo",O:170,NE:"Atxondo",NC:"Atxondo",C:1134},{Z:2070,N:"Aulesti",O:149,NE:"Aulesti",NC:"Aulesti",C:545},{Z:2012,N:"Bakio",O:92,NE:"Bakio",NC:"Bakio",C:2041},{Z:2090,N:"Balmaseda",O:169,NE:"Balmaseda",NC:"Balmaseda",C:6022},{Z:2013,N:"Barakaldo",O:93,NE:"Barakaldo",NC:"Barakaldo",C:79984},{Z:2014,N:"Barrika",O:94,NE:"Barrika",NC:"Barrika",C:1218},{Z:2015,N:"Basauri",O:95,NE:"Basauri",NC:"Basauri",C:33690},{Z:2092,N:"Bedia",O:171,NE:"Bedia",NC:"Bedia",C:837},{Z:2016,N:"Berango",O:96,NE:"Berango",NC:"Berango",C:5260},{Z:2017,N:"Bermeo",O:97,NE:"Bermeo",NC:"Bermeo",C:13290},{Z:2018,N:"Berriatua",O:98,NE:"Berriatua",NC:"Berriatua",C:875},{Z:2019,N:"Berriz",O:99,NE:"Berriz",NC:"Berriz",C:3594},{Z:20,N:"Bilbao",O:8,NE:"Bilbo",NC:"Bilbao",C:274076},{Z:2021,N:"Busturia",O:100,NE:"Busturia",NC:"Busturia",C:1352},{Z:2901,N:"Derio",O:177,NE:"Derio",NC:"Derio",C:4775},{Z:2026,N:"Dima",O:105,NE:"Dima",NC:"Dima",C:1134},{Z:2027,N:"Durango",O:106,NE:"Durango",NC:"Durango",C:22033},{Z:2028,N:"Ea",O:107,NE:"Ea",NC:"Ea",C:715},{Z:2031,N:"Elantxobe",O:110,NE:"Elantxobe",NC:"Elantxobe",C:340},{Z:2032,N:"Elorrio",O:111,NE:"Elorrio",NC:"Elorrio",C:5735},{Z:2902,N:"Erandio",O:178,NE:"Erandio",NC:"Erandio",C:19124},{Z:2033,N:"Ereo",O:112,NE:"Ereo",NC:"Ereo",C:215},{Z:2034,N:"Ermua",O:113,NE:"Ermua",NC:"Ermua",C:12902},{Z:2079,N:"Errigoiti",O:158,NE:"Errigoiti",NC:"Errigoiti",C:425},{Z:2029,N:"Etxebarri Anteiglesia de San Esteban",O:108,NE:"Etxebarri",NC:"Etxebarri",C:8332},{Z:2030,N:"Etxebarria",O:109,NE:"Etxebarria",NC:"Etxebarria",C:608},{Z:2906,N:"Forua",O:182,NE:"Forua",NC:"Forua",C:775},{Z:2035,N:"Fruiz",O:114,NE:"Fruiz",NC:"Fruiz",C:412},{Z:2036,N:"Galdakao",O:115,NE:"Galdakao",NC:"Galdakao",C:24144},{Z:2037,N:"Galdames",O:116,NE:"Galdames",NC:"Galdames",C:678},{Z:2038,N:"Gamiz-Fika",O:117,NE:"Gamiz-Fika",NC:"Gamiz-Fika",C:1122},{Z:2039,N:"Garai",O:118,NE:"Garai",NC:"Garai",C:243},{Z:2040,N:"Gatika",O:119,NE:"Gatika",NC:"Gatika",C:1299},{Z:2041,N:"Gautegiz Arteaga",O:120,NE:"Gautegiz-Arteaga",NC:"Gautegiz-Arteaga",C:704},{Z:2046,N:"Gernika-Lumo",O:125,NE:"Gernika-Lumo",NC:"Gernika-Lumo",C:12617},{Z:2044,N:"Getxo",O:123,NE:"Getxo",NC:"Getxo",C:62989},{Z:2047,N:"Gizaburuaga",O:126,NE:"Gizaburuaga",NC:"Gizaburuaga",C:161},{Z:2042,N:"Gordexola",O:121,NE:"Gordexola",NC:"Gordexola",C:1384},{Z:2043,N:"Gorliz",O:122,NE:"Gorliz",NC:"Gorliz",C:4403},{Z:2045,N:"Gees",O:124,NE:"Guees",NC:"Gees",C:5149},{Z:2048,N:"Ibarrangelu",O:127,NE:"Ibarrangelu",NC:"Ibarrangelu",C:562},{Z:2094,N:"Igorre",O:173,NE:"Igorre",NC:"Igorre",C:3193},{Z:2049,N:"Ispaster",O:128,NE:"Ispaster",NC:"Ispaster",C:548},{Z:2910,N:"Iurreta",O:186,NE:"Iurreta",NC:"Iurreta",C:2948},{Z:2050,N:"Izurtza",O:129,NE:"Izurtza",NC:"Izurtza",C:198},{Z:2907,N:"Kortezubi",O:183,NE:"Kortezubi",NC:"Kortezubi",C:355},{Z:2051,N:"Lanestosa",O:130,NE:"Lanestosa",NC:"Lanestosa",C:220},{Z:2052,N:"Larrabetzu",O:131,NE:"Larrabetzu",NC:"Larrabetzu",C:1559},{Z:2053,N:"Laukiz",O:132,NE:"Laukiz",NC:"Laukiz",C:900},{Z:2054,N:"Leioa",O:133,NE:"Leioa",NC:"Leioa",C:24135},{Z:2057,N:"Lekeitio",O:136,NE:"Lekeitio",NC:"Lekeitio",C:5749},{Z:2055,N:"Lemoa",O:134,NE:"Lemoa",NC:"Lemoa",C:2662},{Z:2056,N:"Lemoiz",O:135,NE:"Lemoiz",NC:"Lemoiz",C:978},{Z:2081,N:"Lezama",O:160,NE:"Lezama",NC:"Lezama",C:1883},{Z:2903,N:"Loiu",O:179,NE:"Loiu",NC:"Loiu",C:1838},{Z:2058,N:"Mallabia",O:137,NE:"Mallabia",NC:"Mallabia",C:972},{Z:2059,N:"Maaria",O:138,NE:"Maaria",NC:"Maaria",C:402},{Z:2060,N:"Markina-Xemein",O:139,NE:"Markina-Xemein",NC:"Markina-Xemein",C:3645},{Z:2061,N:"Maruri-Jatabe",O:140,NE:"Jatabe",NC:"Maruri-Jatabe",C:762},{Z:2062,N:"Mendata",O:141,NE:"Mendata",NC:"Mendata",C:300},{Z:2063,N:"Mendexa",O:142,NE:"Mendexa",NC:"Mendexa",C:373},{Z:2064,N:"Meaka",O:143,NE:"Meaka",NC:"Meaka",C:603},{Z:2066,N:"Morga",O:145,NE:"Morga",NC:"Morga",C:346},{Z:2068,N:"Mundaka",O:147,NE:"Mundaka",NC:"Mundaka",C:1551},{Z:2069,N:"Mungia",O:148,NE:"Mungia",NC:"Mungia",C:12765},{Z:2007,N:"Munitibar-Arbatzegi Gerrikaitz",O:87,NE:"Munitibar",NC:"Munitibar-Arbatzegi-Gerrikaitz",C:365},{Z:2908,N:"Murueta",O:184,NE:"Murueta",NC:"Murueta",C:245},{Z:2071,N:"Muskiz",O:150,NE:"Muskiz",NC:"Muskiz",C:6118},{Z:2067,N:"Muxika",O:146,NE:"Muxika",NC:"Muxika",C:1161},{Z:2909,N:"Nabarniz",O:185,NE:"Nabarniz",NC:"Nabarniz",C:207},{Z:2073,N:"Ondarroa",O:152,NE:"Ondarroa",NC:"Ondarroa",C:6952},{Z:2074,N:"Ordua",O:153,NE:"Urdua",NC:"Ordua",C:3333},{Z:2075,N:"Orozko",O:154,NE:"Orozko",NC:"Orozko",C:1975},{Z:2083,N:"Ortuella",O:162,NE:"Ortuella",NC:"Ortuella",C:6950},{Z:2072,N:"Otxandio",O:151,NE:"Otxandio",NC:"Otxandio",C:974},{Z:2077,N:"Plentzia",O:156,NE:"Plentzia",NC:"Plentzia",C:3367},{Z:2078,N:"Portugalete",O:157,NE:"Portugalete",NC:"Portugalete",C:38742},{Z:2082,N:"Santurtzi",O:161,NE:"Santurtzi",NC:"Santurtzi",C:37673},{Z:2084,N:"Sestao",O:163,NE:"Sestao",NC:"Sestao",C:22577},{Z:2904,N:"Sondika",O:180,NE:"Sondika",NC:"Sondika",C:3504},{Z:2085,N:"Sopelana",O:164,NE:"Sopela",NC:"Sopela",C:10301},{Z:2086,N:"Sopuerta",O:165,NE:"Sopuerta",NC:"Sopuerta",C:2073},{Z:2076,N:"Sukarrieta",O:155,NE:"Sukarrieta",NC:"Sukarrieta",C:314},{Z:2087,N:"Trucios-Turtzioz",O:166,NE:"Turtzioz",NC:"Trucios",C:429},{Z:2088,N:"Ubide",O:167,NE:"Ubide",NC:"Ubide",C:135},{Z:2065,N:"Ugao-Miraballes",O:144,NE:"Ugao",NC:"Ugao-Miraballes",C:3315},{Z:2089,N:"Urduliz",O:168,NE:"Urduliz",NC:"Urduliz",C:3266},{Z:2022,N:"Carranza",O:101,NE:"Karrantza",NC:"Valle de Carranza",C:2355},{Z:2080,N:"Valle de Trpaga-Trapagaran",O:159,NE:"Trapagaran",NC:"Valle de Trpaga",C:9971},{Z:2095,N:"Zaldibar",O:174,NE:"Zaldibar",NC:"Zaldibar",C:2352},{Z:2096,N:"Zalla",O:175,NE:"Zalla",NC:"Zalla",C:6608},{Z:2905,N:"Zamudio",O:181,NE:"Zamudio",NC:"Zamudio",C:2565},{Z:2097,N:"Zaratamo",O:176,NE:"Zaratamo",NC:"Zaratamo",C:1303},{Z:2024,N:"Zeanuri",O:103,NE:"Zeanuri",NC:"Zeanuri",C:1003},{Z:2025,N:"Zeberio",O:104,NE:"Zeberio",NC:"Zeberio",C:883},{Z:2913,N:"Zierbena",O:189,NE:"Zierbena",NC:"Zierbena",C:1251},{Z:2915,N:"Ziortza-Bolibar",O:191,NE:"Ziortza-Bolibar",NC:"Ziortza-Bolibar",C:362}]},H={zonas:[{Z:3001,N:"Abaltzisketa",O:192,NE:"Abaltzisketa",NC:"Abaltzisketa",C:242},{Z:3002,N:"Aduna",O:193,NE:"Aduna",NC:"Aduna",C:343},{Z:3016,N:"Aia",O:207,NE:"Aia",NC:"Aia",C:1514},{Z:3003,N:"Aizarnazabal",O:194,NE:"Aizarnazabal",NC:"Aizarnazabal",C:541},{Z:3004,N:"Albiztur",O:195,NE:"Albiztur",NC:"Albiztur",C:252},{Z:3005,N:"Alegia",O:196,NE:"Alegia",NC:"Alegia",C:1261},{Z:3006,N:"Alkiza",O:197,NE:"Alkiza",NC:"Alkiza",C:262},{Z:3906,N:"Altzaga",O:277,NE:"Altzaga",NC:"Altzaga",C:121},{Z:3007,N:"Altzo",O:198,NE:"Altzo",NC:"Altzo",C:304},{Z:3008,N:"Amezketa",O:199,NE:"Amezketa",NC:"Amezketa",C:721},{Z:3009,N:"Andoain",O:200,NE:"Andoain",NC:"Andoain",C:11528},{Z:3010,N:"Anoeta",O:201,NE:"Anoeta",NC:"Anoeta",C:1494},{Z:3011,N:"Antzuola",O:202,NE:"Antzuola",NC:"Antzuola",C:1660},{Z:3012,N:"Arama",O:203,NE:"Arama",NC:"Arama",C:144},{Z:3013,N:"Aretxabaleta",O:204,NE:"Aretxabaleta",NC:"Aretxabaleta",C:5427},{Z:3014,N:"Asteasu",O:205,NE:"Asteasu",NC:"Asteasu",C:1111},{Z:3903,N:"Astigarraga",O:274,NE:"Astigarraga",NC:"Astigarraga",C:4247},{Z:3015,N:"Ataun",O:206,NE:"Ataun",NC:"Ataun",C:1272},{Z:3017,N:"Azkoitia",O:208,NE:"Azkoitia",NC:"Azkoitia",C:8580},{Z:3018,N:"Azpeitia",O:209,NE:"Azpeitia",NC:"Azpeitia",C:11074},{Z:3904,N:"Baliarrain",O:275,NE:"Baliarrain",NC:"Baliarrain",C:96},{Z:3019,N:"Beasain",O:210,NE:"Beasain",NC:"Beasain",C:10053},{Z:3020,N:"Beizama",O:211,NE:"Beizama",NC:"Beizama",C:129},{Z:3021,N:"Belauntza",O:212,NE:"Belauntza",NC:"Belauntza",C:199},{Z:3022,N:"Berastegi",O:213,NE:"Berastegi",NC:"Berastegi",C:834},{Z:3074,N:"Bergara",O:264,NE:"Bergara",NC:"Bergara",C:11610},{Z:3023,N:"Berrobi",O:214,NE:"Berrobi",NC:"Berrobi",C:445},{Z:3024,N:"Bidania-Goiatz",O:215,NE:"Bidania-Goiatz",NC:"Bidania-Goiatz",C:393},{Z:3029,N:"Deba",O:220,NE:"Deba",NC:"Deba",C:4258},{Z:30,N:"Donostia",O:9,NE:"Donostia",NC:"Donostia-San Sebastin",C:147189},{Z:3030,N:"Eibar",O:221,NE:"Eibar",NC:"Eibar",C:21515},{Z:3031,N:"Elduain",O:222,NE:"Elduain",NC:"Elduain",C:180},{Z:3033,N:"Elgeta",O:224,NE:"Elgeta",NC:"Elgeta",C:864},{Z:3032,N:"Elgoibar",O:223,NE:"Elgoibar",NC:"Elgoibar",C:8785},{Z:3067,N:"Errenteria",O:258,NE:"Errenteria",NC:"Errenteria",C:30825},{Z:3066,N:"Errezil",O:257,NE:"Errezil",NC:"Errezil",C:461},{Z:3034,N:"Eskoriatza",O:225,NE:"Eskoriatza",NC:"Eskoriatza",C:3157},{Z:3035,N:"Ezkio-Itsaso",O:226,NE:"Ezkio-Itsaso",NC:"Ezkio-Itsaso",C:482},{Z:3038,N:"Gabiria",O:229,NE:"Gabiria",NC:"Gabiria",C:392},{Z:3037,N:"Gaintza",O:228,NE:"Gaintza",NC:"Gaintza",C:97},{Z:3907,N:"Gaztelu",O:278,NE:"Gaztelu",NC:"Gaztelu",C:120},{Z:3039,N:"Getaria",O:230,NE:"Getaria",NC:"Getaria",C:2111},{Z:3040,N:"Hernani",O:231,NE:"Hernani",NC:"Hernani",C:15321},{Z:3041,N:"Hernialde",O:232,NE:"Hernialde",NC:"Hernialde",C:258},{Z:3036,N:"Hondarribia",O:227,NE:"Hondarribia",NC:"Hondarribia",C:13148},{Z:3042,N:"Ibarra",O:233,NE:"Ibarra",NC:"Ibarra",C:3251},{Z:3043,N:"Idiazabal",O:234,NE:"Idiazabal",NC:"Idiazabal",C:1740},{Z:3044,N:"Ikaztegieta",O:235,NE:"Ikaztegieta",NC:"Ikaztegieta",C:368},{Z:3045,N:"Irun",O:236,NE:"Irun",NC:"Irun",C:46691},{Z:3046,N:"Irura",O:237,NE:"Irura",NC:"Irura",C:1167},{Z:3047,N:"Itsasondo",O:238,NE:"Itsasondo",NC:"Itsasondo",C:477},{Z:3048,N:"Larraul",O:239,NE:"Larraul",NC:"Larraul",C:176},{Z:3902,N:"Lasarte-Oria",O:273,NE:"Lasarte-Oria",NC:"Lasarte-Oria",C:14193},{Z:3049,N:"Lazkao",O:240,NE:"Lazkao",NC:"Lazkao",C:4124},{Z:3050,N:"Leaburu",O:241,NE:"Leaburu",NC:"Leaburu",C:263},{Z:3051,N:"Legazpi",O:242,NE:"Legazpi",NC:"Legazpi",C:6904},{Z:3052,N:"Legorreta",O:243,NE:"Legorreta",NC:"Legorreta",C:1091},{Z:3068,N:"Leintz-Gatzaga",O:259,NE:"Leintz Gatzaga",NC:"Leintz-Gatzaga",C:183},{Z:3053,N:"Lezo",O:244,NE:"Lezo",NC:"Lezo",C:4765},{Z:3054,N:"Lizartza",O:245,NE:"Lizartza",NC:"Lizartza",C:447},{Z:3901,N:"Mendaro",O:272,NE:"Mendaro",NC:"Mendaro",C:1441},{Z:3055,N:"Arrasate/Mondragn",O:246,NE:"Arrasate",NC:"Mondragn",C:17522},{Z:3057,N:"Mutiloa",O:248,NE:"Mutiloa",NC:"Mutiloa",C:201},{Z:3056,N:"Mutriku",O:247,NE:"Mutriku",NC:"Mutriku",C:4104},{Z:3063,N:"Oiartzun",O:254,NE:"Oiartzun",NC:"Oiartzun",C:7990},{Z:3058,N:"Olaberria",O:249,NE:"Olaberria",NC:"Olaberria",C:746},{Z:3059,N:"Oati",O:250,NE:"Oati",NC:"Oati",C:8863},{Z:3076,N:"Ordizia",O:266,NE:"Ordizia",NC:"Ordizia",C:6978},{Z:3905,N:"Orendain",O:276,NE:"Orendain",NC:"Orendain",C:141},{Z:3060,N:"Orexa",O:251,NE:"Orexa",NC:"Orexa",C:89},{Z:3061,N:"Orio",O:252,NE:"Orio",NC:"Orio",C:4273},{Z:3062,N:"Ormaiztegi",O:253,NE:"Ormaiztegi",NC:"Ormaiztegi",C:982},{Z:3064,N:"Pasaia",O:255,NE:"Pasaia",NC:"Pasaia",C:12526},{Z:3070,N:"Segura",O:260,NE:"Segura",NC:"Segura",C:1099},{Z:3065,N:"Soraluze",O:256,NE:"Soraluze",NC:"Soraluze",C:3006},{Z:3071,N:"Tolosa",O:261,NE:"Tolosa",NC:"Tolosa",C:14818},{Z:3072,N:"Urnieta",O:262,NE:"Urnieta",NC:"Urnieta",C:4731},{Z:3077,N:"Urretxu",O:267,NE:"Urretxu",NC:"Urretxu",C:5243
},{Z:3073,N:"Usurbil",O:263,NE:"Usurbil",NC:"Usurbil",C:4677},{Z:3075,N:"Villabona",O:265,NE:"Villabona",NC:"Villabona",C:4359},{Z:3078,N:"Zaldibia",O:268,NE:"Zaldibia",NC:"Zaldibia",C:1155},{Z:3079,N:"Zarautz",O:269,NE:"Zarautz",NC:"Zarautz",C:17835},{Z:3025,N:"Zegama",O:216,NE:"Zegama",NC:"Zegama",C:1144},{Z:3026,N:"Zerain",O:217,NE:"Zerain",NC:"Zerain",C:202},{Z:3027,N:"Zestoa",O:218,NE:"Zestoa",NC:"Zestoa",C:2816},{Z:3028,N:"Zizurkil",O:219,NE:"Zizurkil",NC:"Zizurkil",C:2255},{Z:3081,N:"Zumaia",O:271,NE:"Zumaia",NC:"Zumaia",C:7460},{Z:3080,N:"Zumarraga",O:270,NE:"Zumarraga",NC:"Zumarraga",C:7900}]},v=0;v<D.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+D.zonas[v].NC+D.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=D.zonas[v].NC:"eu"===L&&(P[M].innerHTML=D.zonas[v].NE);findElement=function(e,t,n){for(var a=0,o=e.length;a<o;a++){var i=e[a][n];if(i==t)return e[a]}return null};for(var P=document.querySelector("#fullTemp").querySelectorAll("x-select"),v=0;v<P.length;v++){var U=findElement(D.zonas,P[v].getAttribute("val"),"Z"),R=findElement(B.zonas,P[v].getAttribute("val"),"Z"),j=findElement(G.zonas,P[v].getAttribute("val"),"Z"),J=findElement(H.zonas,P[v].getAttribute("val"),"Z");null!==U?"es"===L?P[v].$.selectBut.innerHTML=U.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=U.NE):null!==R?"es"===L?P[v].$.selectBut.innerHTML=R.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=R.NE):null!==j?"es"===L?P[v].$.selectBut.innerHTML=j.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=j.NE):null!==J&&("es"===L?P[v].$.selectBut.innerHTML=J.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=J.NE))}for(var v=0;v<B.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+B.zonas[v].NC+B.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=B.zonas[v].NC:"eu"===L&&(P[M].innerHTML=B.zonas[v].NE);for(var v=0;v<G.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+G.zonas[v].NC+G.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=G.zonas[v].NC:"eu"===L&&(P[M].innerHTML=G.zonas[v].NE);for(var v=0;v<H.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+H.zonas[v].NC+H.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=H.zonas[v].NC:"eu"===L&&(P[M].innerHTML=H.zonas[v].NE);for(var P=document.querySelector("#fullTemp").querySelectorAll("#imgAvisoCam"),M=0;M<P.length;M++)"es"===L?P[M].src="../resources/configPanel/img/camara/camconfiges.png":"eu"===L&&(P[M].src="../resources/configPanel/img/camara/camconfigeu.png")}}o.changeSoundSWActive()}else{t.removeDevice(e.detail.agentid);for(var O=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,_=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,k=document.querySelector("#fullTemp").children,V=0,v=2;v<_;v++)if(0===O[v-V].name.indexOf(e.detail.agentid))mediascape.AdaptationToolkit.uiComponents.ctrlPanel.removeItem(O[v-V].name),O=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,n.removeChild(k[v-V]),V+=1;else{if(O[v-V].name.indexOf("cameras")>-1){var x=new d;x.setName(O[v-V].name),x.addItem(t);var q=O[v-V].name.split("cameras")[0],z=O[v-V].items[0].devices.filter(m);s.setCamsViewStatus(O[v-V].name.split("cameras")[0]),s.setCamsSoundStatus(O[v-V].name.split("cameras")[0]),x.addItem(s),o.removeItem(O[v-V].name),o.addItemPos(x,v-V),z[0].icon.indexOf("TV")>-1?n.replaceChild(x.render("tv"),k[v-V]):n.replaceChild(x.render("other"),k[v-V])}else if(O[v-V].name.indexOf("twitter")>-1){var x=new d;x.setName(O[v-V].name),x.addItem(t),c.setViewerViewStatus(O[v-V].name.split("twitter")[0]),x.addItem(c),o.removeItem(O[v-V].name),o.addItemPos(x,v-V),n.replaceChild(x.render(),k[v-V])}else if(O[v-V].name.indexOf("graphics")>-1){var x=new d;x.setName(O[v-V].name),x.addItem(t),l.setTableViewStatus(O[v-V].name.split("graphics")[0]),l.setTablePlaceStatus(O[v-V].name.split("graphics")[0]),l.setTableTipoStatus(O[v-V].name.split("graphics")[0]),l.setPieViewStatus(O[v-V].name.split("graphics")[0]),l.setPiePlaceStatus(O[v-V].name.split("graphics")[0]),l.setPieTipoStatus(O[v-V].name.split("graphics")[0]),l.setPartyMapViewStatus(O[v-V].name.split("graphics")[0]),l.setPartyMapLugarStatus(O[v-V].name.split("graphics")[0]),l.setPartyMapTipoStatus(O[v-V].name.split("graphics")[0]),x.addItem(l),o.removeItem(O[v-V].name),o.addItemPos(x,v-V),n.replaceChild(x.render(),k[v-V])}k[v-V].replaceChild(t.render(),k[v-V].children[0])}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSection(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeSection,void 0),void 0===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAppAttribute("language"))window.location.href.indexOf("?lang")>-1?ediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setAppAttribute("language",mediascape.AdaptationToolkit.Utils.getUrlVar("lang")):mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setAppAttribute("language","eu");else{var L=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAppAttribute("language");if("es"===L||"eu"===L){var T=document.querySelector("#fullTemp").querySelectorAll("#arMun"),Z=document.querySelector("#fullTemp").querySelectorAll("#vizMun"),I=document.querySelector("#fullTemp").querySelectorAll("#gipMun");if("es"===L){document.querySelector("#langes").className="active",document.querySelector("#langeu").className="";for(var M=0;M<T.length;M++)T[M].label="Municipios de Alava",Z[M].label="Municipios de Bizkaia",I[M].label="Municipios de Guipuzcoa";document.querySelector("#loadingNotif").src="../resources/images/cargandoes.png"}else if("eu"===L){document.querySelector("#langeu").className="active",document.querySelector("#langes").className="";for(var M=0;M<T.length;M++)T[M].label="Arabako udalerriak",Z[M].label="Bizkaiako udalerriak",I[M].label="Gipuzkoako udalerriak";document.querySelector("#loadingNotif").src="../resources/images/cargandoeu.png"}null!==document.querySelector("#qrNotif")&&(document.querySelector("#qrNotif").src=document.querySelector("#qrNotif").src.split("notif")[0]+"notif"+L+".png");for(var v=0;v<o.textos.menu.length;v++)null!==document.querySelector("#fullTemp").querySelector("#"+o.textos.menu[v].id)&&(document.querySelector("#fullTemp").querySelector("#"+o.textos.menu[v].id).innerHTML=o.textos.menu[v][L]);for(var v=0;v<o.textos.addDev.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+o.textos.addDev[v].id),M=0;M<P.length;M++)P[M].innerHTML=o.textos.addDev[v][L];for(var v=0;v<o.textos.twitter.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+o.textos.twitter[v].id),M=0;M<P.length;M++)P[M].innerHTML=o.textos.twitter[v][L];for(var v=0;v<o.textos.graficos.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+o.textos.graficos[v].id),M=0;M<P.length;M++)P[M].innerHTML=o.textos.graficos[v][L];for(var D={zonas:[{Z:1,N:"Alava-Araba",O:28,NE:"Araba",NC:"Alava",C:1984},{Z:2,N:"Vizcaya",O:28,NE:"Bizkaia",NC:"Bizkaia",C:1984},{Z:3,N:"Guipuzcoa",O:28,NE:"Gipuzkoa",NC:"Guipzcoa",C:1984},{Z:5,N:"CAV-EAE",O:28,NE:"EAE",NC:"CAV",C:1984}]},B={zonas:[{Z:1001,N:"Alegra-Dulantzi",O:28,NE:"Dulantzi",NC:"Alegra-Dulantzi",C:1984},{Z:1002,N:"Amurrio",O:29,NE:"Amurrio",NC:"Amurrio",C:8139},{Z:1049,N:"Aana",O:63,NE:"Aana",NC:"Aana",C:140},{Z:1003,N:"Aramaio",O:30,NE:"Aramaio",NC:"Aramaio",C:1186},{Z:1006,N:"Armin",O:32,NE:"Armion",NC:"Armin",C:176},{Z:1037,N:"Arraia-Maeztu",O:55,NE:"Arraia-Maeztu",NC:"Arraia-Maeztu",C:586},{Z:1008,N:"Arratzua-Ubarrundia",O:33,NE:"Arratzua-Ubarrundia",NC:"Arratzua-Ubarrundia",C:790},{Z:1004,N:"Artziniega",O:31,NE:"Artziniega",NC:"Artziniega",C:1405},{Z:1009,N:"Asparrena",O:34,NE:"Asparrena",NC:"Asparrena",C:1281},{Z:1010,N:"Ayala/Aiara",O:35,NE:"Aiara",NC:"Ayala",C:2275},{Z:1011,N:"Baos de Ebro/Maueta",O:36,NE:"Maueta",NC:"Baos de Ebro",C:237},{Z:1013,N:"Barrundia",O:37,NE:"Barrundia",NC:"Barrundia",C:711},{Z:1014,N:"Berantevilla",O:38,NE:"Berantevilla",NC:"Berantevilla",C:372},{Z:1016,N:"Bernedo",O:39,NE:"Bernedo",NC:"Bernedo",C:439},{Z:1017,N:"Campezo/Kanpezu",O:40,NE:"Kanpezu",NC:"Campezo",C:869},{Z:1021,N:"Elburgo/Burgelu",O:44,NE:"Burgu",NC:"Elburgo",C:460},{Z:1022,N:"Elciego",O:45,NE:"Eltziego",NC:"Elciego",C:805},{Z:1023,N:"Elvillar/Bilar",O:46,NE:"Bilar",NC:"Elvillar",C:269},{Z:1901,N:"Irua Oka/Irua de Oca",O:76,NE:"Irua Oka",NC:"Irua de Oca",C:2344},{Z:1027,N:"Iruraiz-Gauna",O:47,NE:"Iruraitz-Gauna",NC:"Iruraitz-Gauna",C:416},{Z:1019,N:"Kripan",O:42,NE:"Kripan",NC:"Kripan",C:144},{Z:1020,N:"Kuartango",O:43,NE:"Kuartango",NC:"Kuartango",C:326},{Z:1028,N:"Labastida",O:48,NE:"Bastida",NC:"Labastida",C:1077},{Z:1030,N:"Lagrn",O:49,NE:"Lagran",NC:"Lagrn",C:159},{Z:1031,N:"Laguardia",O:50,NE:"Guardia",NC:"Laguardia",C:1183},{Z:1032,N:"Lanciego/Lantziego",O:51,NE:"Lantziego",NC:"Lanciego",C:522},{Z:1902,N:"Lantarn",O:77,NE:"Lantaron",NC:"Lantarn",C:738},{Z:1033,N:"Lapuebla de Labarca",O:52,NE:"Lapuebla de Labarca",NC:"Lapuebla de Labarca",C:649},{Z:1058,N:"Legutiano",O:71,NE:"Legutio",NC:"Legutio",C:1327},{Z:1034,N:"Leza",O:53,NE:"Leza",NC:"Leza",C:165},{Z:1036,N:"Llodio/Laudio",O:54,NE:"Laudio",NC:"Llodio",C:15034},{Z:1039,N:"Moreda de Alava",O:56,NE:"Moreda Araba",NC:"Moreda de Alava",C:202},{Z:1041,N:"Navaridas",O:57,NE:"Navaridas",NC:"Navaridas",C:153},{Z:1042,N:"Okondo",O:58,NE:"Okondo",NC:"Okondo",C:901},{Z:1043,N:"Oyn/Oion",O:59,NE:"Oion",NC:"Oyn",C:2318},{Z:1044,N:"Peacerrada-Urizaharra",O:60,NE:"Urizaharra",NC:"Peacerrada",C:236},{Z:1046,N:"Ribera Alta",O:61,NE:"Erriberagoitia",NC:"Ribera Alta",C:594},{Z:1047,N:"Ribera Baja/Erribera Beitia",O:62,NE:"Erriberabeitia",NC:"Ribera Baja",C:964},{Z:1051,N:"Salvatierra/Agurain",O:64,NE:"Agurain",NC:"Salvatierra",C:3606},{Z:1052,N:"Samaniego",O:65,NE:"Samaniego",NC:"Samaniego",C:244},{Z:1053,N:"San Milln/Donemiliaga",O:66,NE:"Donemiliaga",NC:"San Milln",C:587},{Z:1054,N:"Urkabustaiz",O:67,NE:"Urkabustaiz",NC:"Urkabustaiz",C:952},{Z:1055,N:"Valdegova/Gaubea",O:68,NE:"Gaubea",NC:"Valdegova",C:836},{Z:1056,N:"Harana/Valle de Arana",O:69,NE:"Harana",NC:"Valle de Arana",C:218},{Z:1057,N:"Villabuena de Alava/Eskuernaga",O:70,NE:"Villabuena",NC:"Villabuena de Alava",C:245},{Z:10,N:"Gasteiz",O:7,NE:"Gasteiz",NC:"Vitoria-Gasteiz",C:186354},{Z:1060,N:"Ycora/Iekora",O:72,NE:"Ekora",NC:"Ycora",C:199},{Z:1061,N:"Zalduondo",O:73,NE:"Zalduondo",NC:"Zalduondo",C:153},{Z:1062,N:"Zambrana",O:74,NE:"Zanbrana",NC:"Zambrana",C:314},{Z:1018,N:"Zigoitia",O:41,NE:"Zigoitia",NC:"Zigoitia",C:1370},{Z:1063,N:"Zuia",O:75,NE:"Zuia",NC:"Zuia",C:1799}]},G={zonas:[{Z:2001,N:"Abadio",O:81,NE:"Abadio",NC:"Abadio",C:5832},{Z:2002,N:"Abanto y Cirvana/Abanto Zierbena",O:82,NE:"Abanto",NC:"Abanto y Cirvana",C:7851},{Z:2911,N:"Ajangiz",O:187,NE:"Ajangiz",NC:"Ajangiz",C:382},{Z:2912,N:"Alonsotegi",O:188,NE:"Alonsotegi",NC:"Alonsotegi",C:2308},{Z:2003,N:"Amorebieta-Etxano",O:83,NE:"Zornotza",NC:"Amorebieta-Etxano",C:14338},{Z:2004,N:"Amoroto",O:84,NE:"Amoroto",NC:"Amoroto",C:334},{Z:2005,N:"Arakaldo",O:85,NE:"Arakaldo",NC:"Arakaldo",C:117},{Z:2006,N:"Arantzazu",O:86,NE:"Arantzazu",NC:"Arantzazu",C:289},{Z:2093,N:"Areatza",O:172,NE:"Areatza",NC:"Areatza",C:900},{Z:2009,N:"Arrankudiaga",O:89,NE:"Arrankudiaga",NC:"Arrankudiaga",C:786},{Z:2914,N:"Arratzu",O:190,NE:"Arratzu",NC:"Arratzu",C:330},{Z:2010,N:"Arrieta",O:90,NE:"Arrieta",NC:"Arrieta",C:457},{Z:2011,N:"Arrigorriaga",O:91,NE:"Arrigorriaga",NC:"Arrigorriaga",C:9692},{Z:2023,N:"Artea",O:102,NE:"Arteaga",NC:"Artea",C:594},{Z:2008,N:"Arcentales",O:88,NE:"Artzentales",NC:"Artzentales",C:617},{Z:2091,N:"Atxondo",O:170,NE:"Atxondo",NC:"Atxondo",C:1134},{Z:2070,N:"Aulesti",O:149,NE:"Aulesti",NC:"Aulesti",C:545},{Z:2012,N:"Bakio",O:92,NE:"Bakio",NC:"Bakio",C:2041},{Z:2090,N:"Balmaseda",O:169,NE:"Balmaseda",NC:"Balmaseda",C:6022},{Z:2013,N:"Barakaldo",O:93,NE:"Barakaldo",NC:"Barakaldo",C:79984},{Z:2014,N:"Barrika",O:94,NE:"Barrika",NC:"Barrika",C:1218},{Z:2015,N:"Basauri",O:95,NE:"Basauri",NC:"Basauri",C:33690},{Z:2092,N:"Bedia",O:171,NE:"Bedia",NC:"Bedia",C:837},{Z:2016,N:"Berango",O:96,NE:"Berango",NC:"Berango",C:5260},{Z:2017,N:"Bermeo",O:97,NE:"Bermeo",NC:"Bermeo",C:13290},{Z:2018,N:"Berriatua",O:98,NE:"Berriatua",NC:"Berriatua",C:875},{Z:2019,N:"Berriz",O:99,NE:"Berriz",NC:"Berriz",C:3594},{Z:20,N:"Bilbao",O:8,NE:"Bilbo",NC:"Bilbao",C:274076},{Z:2021,N:"Busturia",O:100,NE:"Busturia",NC:"Busturia",C:1352},{Z:2901,N:"Derio",O:177,NE:"Derio",NC:"Derio",C:4775},{Z:2026,N:"Dima",O:105,NE:"Dima",NC:"Dima",C:1134},{Z:2027,N:"Durango",O:106,NE:"Durango",NC:"Durango",C:22033},{Z:2028,N:"Ea",O:107,NE:"Ea",NC:"Ea",C:715},{Z:2031,N:"Elantxobe",O:110,NE:"Elantxobe",NC:"Elantxobe",C:340},{Z:2032,N:"Elorrio",O:111,NE:"Elorrio",NC:"Elorrio",C:5735},{Z:2902,N:"Erandio",O:178,NE:"Erandio",NC:"Erandio",C:19124},{Z:2033,N:"Ereo",O:112,NE:"Ereo",NC:"Ereo",C:215},{Z:2034,N:"Ermua",O:113,NE:"Ermua",NC:"Ermua",C:12902},{Z:2079,N:"Errigoiti",O:158,NE:"Errigoiti",NC:"Errigoiti",C:425},{Z:2029,N:"Etxebarri Anteiglesia de San Esteban",O:108,NE:"Etxebarri",NC:"Etxebarri",C:8332},{Z:2030,N:"Etxebarria",O:109,NE:"Etxebarria",NC:"Etxebarria",C:608},{Z:2906,N:"Forua",O:182,NE:"Forua",NC:"Forua",C:775},{Z:2035,N:"Fruiz",O:114,NE:"Fruiz",NC:"Fruiz",C:412},{Z:2036,N:"Galdakao",O:115,NE:"Galdakao",NC:"Galdakao",C:24144},{Z:2037,N:"Galdames",O:116,NE:"Galdames",NC:"Galdames",C:678},{Z:2038,N:"Gamiz-Fika",O:117,NE:"Gamiz-Fika",NC:"Gamiz-Fika",C:1122},{Z:2039,N:"Garai",O:118,NE:"Garai",NC:"Garai",C:243},{Z:2040,N:"Gatika",O:119,NE:"Gatika",NC:"Gatika",C:1299},{Z:2041,N:"Gautegiz Arteaga",O:120,NE:"Gautegiz-Arteaga",NC:"Gautegiz-Arteaga",C:704},{Z:2046,N:"Gernika-Lumo",O:125,NE:"Gernika-Lumo",NC:"Gernika-Lumo",C:12617},{Z:2044,N:"Getxo",O:123,NE:"Getxo",NC:"Getxo",C:62989},{Z:2047,N:"Gizaburuaga",O:126,NE:"Gizaburuaga",NC:"Gizaburuaga",C:161},{Z:2042,N:"Gordexola",O:121,NE:"Gordexola",NC:"Gordexola",C:1384},{Z:2043,N:"Gorliz",O:122,NE:"Gorliz",NC:"Gorliz",C:4403},{Z:2045,N:"Gees",O:124,NE:"Guees",NC:"Gees",C:5149},{Z:2048,N:"Ibarrangelu",O:127,NE:"Ibarrangelu",NC:"Ibarrangelu",C:562},{Z:2094,N:"Igorre",O:173,NE:"Igorre",NC:"Igorre",C:3193},{Z:2049,N:"Ispaster",O:128,NE:"Ispaster",NC:"Ispaster",C:548},{Z:2910,N:"Iurreta",O:186,NE:"Iurreta",NC:"Iurreta",C:2948},{Z:2050,N:"Izurtza",O:129,NE:"Izurtza",NC:"Izurtza",C:198},{Z:2907,N:"Kortezubi",O:183,NE:"Kortezubi",NC:"Kortezubi",C:355},{Z:2051,N:"Lanestosa",O:130,NE:"Lanestosa",NC:"Lanestosa",C:220},{Z:2052,N:"Larrabetzu",O:131,NE:"Larrabetzu",NC:"Larrabetzu",C:1559},{Z:2053,N:"Laukiz",O:132,NE:"Laukiz",NC:"Laukiz",C:900},{Z:2054,N:"Leioa",O:133,NE:"Leioa",NC:"Leioa",C:24135},{Z:2057,N:"Lekeitio",O:136,NE:"Lekeitio",NC:"Lekeitio",C:5749},{Z:2055,N:"Lemoa",O:134,NE:"Lemoa",NC:"Lemoa",C:2662},{Z:2056,N:"Lemoiz",O:135,NE:"Lemoiz",NC:"Lemoiz",C:978},{Z:2081,N:"Lezama",O:160,NE:"Lezama",NC:"Lezama",C:1883},{Z:2903,N:"Loiu",O:179,NE:"Loiu",NC:"Loiu",C:1838},{Z:2058,N:"Mallabia",O:137,NE:"Mallabia",NC:"Mallabia",C:972},{Z:2059,N:"Maaria",O:138,NE:"Maaria",NC:"Maaria",C:402},{Z:2060,N:"Markina-Xemein",O:139,NE:"Markina-Xemein",NC:"Markina-Xemein",C:3645},{Z:2061,N:"Maruri-Jatabe",O:140,NE:"Jatabe",NC:"Maruri-Jatabe",C:762},{Z:2062,N:"Mendata",O:141,NE:"Mendata",NC:"Mendata",C:300},{Z:2063,N:"Mendexa",O:142,NE:"Mendexa",NC:"Mendexa",C:373},{Z:2064,N:"Meaka",O:143,NE:"Meaka",NC:"Meaka",C:603},{Z:2066,N:"Morga",O:145,NE:"Morga",NC:"Morga",C:346},{Z:2068,N:"Mundaka",O:147,NE:"Mundaka",NC:"Mundaka",C:1551},{Z:2069,N:"Mungia",O:148,NE:"Mungia",NC:"Mungia",C:12765},{Z:2007,N:"Munitibar-Arbatzegi Gerrikaitz",O:87,NE:"Munitibar",NC:"Munitibar-Arbatzegi-Gerrikaitz",C:365},{Z:2908,N:"Murueta",O:184,NE:"Murueta",NC:"Murueta",C:245},{Z:2071,N:"Muskiz",O:150,NE:"Muskiz",NC:"Muskiz",C:6118},{Z:2067,N:"Muxika",O:146,NE:"Muxika",NC:"Muxika",C:1161},{Z:2909,N:"Nabarniz",O:185,NE:"Nabarniz",NC:"Nabarniz",C:207},{Z:2073,N:"Ondarroa",O:152,NE:"Ondarroa",NC:"Ondarroa",C:6952},{Z:2074,N:"Ordua",O:153,NE:"Urdua",NC:"Ordua",C:3333},{Z:2075,N:"Orozko",O:154,NE:"Orozko",NC:"Orozko",C:1975},{Z:2083,N:"Ortuella",O:162,NE:"Ortuella",NC:"Ortuella",C:6950},{Z:2072,N:"Otxandio",O:151,NE:"Otxandio",NC:"Otxandio",C:974},{Z:2077,N:"Plentzia",O:156,NE:"Plentzia",NC:"Plentzia",C:3367},{Z:2078,N:"Portugalete",O:157,NE:"Portugalete",NC:"Portugalete",C:38742},{Z:2082,N:"Santurtzi",O:161,NE:"Santurtzi",NC:"Santurtzi",C:37673},{Z:2084,N:"Sestao",O:163,NE:"Sestao",NC:"Sestao",C:22577},{Z:2904,N:"Sondika",O:180,NE:"Sondika",NC:"Sondika",C:3504},{Z:2085,N:"Sopelana",O:164,NE:"Sopela",NC:"Sopela",C:10301},{Z:2086,N:"Sopuerta",O:165,NE:"Sopuerta",NC:"Sopuerta",C:2073},{Z:2076,N:"Sukarrieta",O:155,NE:"Sukarrieta",NC:"Sukarrieta",C:314},{Z:2087,N:"Trucios-Turtzioz",O:166,NE:"Turtzioz",NC:"Trucios",C:429},{Z:2088,N:"Ubide",O:167,NE:"Ubide",NC:"Ubide",C:135},{Z:2065,N:"Ugao-Miraballes",O:144,NE:"Ugao",NC:"Ugao-Miraballes",C:3315},{Z:2089,N:"Urduliz",O:168,NE:"Urduliz",NC:"Urduliz",C:3266},{Z:2022,N:"Carranza",O:101,NE:"Karrantza",NC:"Valle de Carranza",C:2355},{Z:2080,N:"Valle de Trpaga-Trapagaran",O:159,NE:"Trapagaran",NC:"Valle de Trpaga",C:9971},{Z:2095,N:"Zaldibar",O:174,NE:"Zaldibar",NC:"Zaldibar",C:2352},{Z:2096,N:"Zalla",O:175,NE:"Zalla",NC:"Zalla",C:6608},{Z:2905,N:"Zamudio",O:181,NE:"Zamudio",NC:"Zamudio",C:2565},{Z:2097,N:"Zaratamo",O:176,NE:"Zaratamo",NC:"Zaratamo",C:1303},{Z:2024,N:"Zeanuri",O:103,NE:"Zeanuri",NC:"Zeanuri",C:1003},{Z:2025,N:"Zeberio",O:104,NE:"Zeberio",NC:"Zeberio",C:883},{Z:2913,N:"Zierbena",O:189,NE:"Zierbena",NC:"Zierbena",C:1251},{Z:2915,N:"Ziortza-Bolibar",O:191,NE:"Ziortza-Bolibar",NC:"Ziortza-Bolibar",C:362}]},H={zonas:[{Z:3001,N:"Abaltzisketa",O:192,NE:"Abaltzisketa",NC:"Abaltzisketa",C:242},{Z:3002,N:"Aduna",O:193,NE:"Aduna",NC:"Aduna",C:343},{Z:3016,N:"Aia",O:207,NE:"Aia",NC:"Aia",C:1514},{Z:3003,N:"Aizarnazabal",O:194,NE:"Aizarnazabal",NC:"Aizarnazabal",C:541},{Z:3004,N:"Albiztur",O:195,NE:"Albiztur",NC:"Albiztur",C:252},{Z:3005,N:"Alegia",O:196,NE:"Alegia",NC:"Alegia",C:1261},{Z:3006,N:"Alkiza",O:197,NE:"Alkiza",NC:"Alkiza",C:262},{Z:3906,N:"Altzaga",O:277,NE:"Altzaga",NC:"Altzaga",C:121},{Z:3007,N:"Altzo",O:198,NE:"Altzo",NC:"Altzo",C:304},{Z:3008,N:"Amezketa",O:199,NE:"Amezketa",NC:"Amezketa",C:721},{Z:3009,N:"Andoain",O:200,NE:"Andoain",NC:"Andoain",C:11528},{Z:3010,N:"Anoeta",O:201,NE:"Anoeta",NC:"Anoeta",C:1494},{Z:3011,N:"Antzuola",O:202,NE:"Antzuola",NC:"Antzuola",C:1660},{Z:3012,N:"Arama",O:203,NE:"Arama",NC:"Arama",C:144},{Z:3013,N:"Aretxabaleta",O:204,NE:"Aretxabaleta",NC:"Aretxabaleta",C:5427},{Z:3014,N:"Asteasu",O:205,NE:"Asteasu",NC:"Asteasu",C:1111},{Z:3903,N:"Astigarraga",O:274,NE:"Astigarraga",NC:"Astigarraga",C:4247},{Z:3015,N:"Ataun",O:206,NE:"Ataun",NC:"Ataun",C:1272},{Z:3017,N:"Azkoitia",O:208,NE:"Azkoitia",NC:"Azkoitia",C:8580},{Z:3018,N:"Azpeitia",O:209,NE:"Azpeitia",NC:"Azpeitia",C:11074},{Z:3904,N:"Baliarrain",O:275,NE:"Baliarrain",NC:"Baliarrain",C:96},{Z:3019,N:"Beasain",O:210,NE:"Beasain",NC:"Beasain",C:10053},{Z:3020,N:"Beizama",O:211,NE:"Beizama",NC:"Beizama",C:129},{Z:3021,N:"Belauntza",O:212,NE:"Belauntza",NC:"Belauntza",C:199},{Z:3022,N:"Berastegi",O:213,NE:"Berastegi",NC:"Berastegi",C:834},{Z:3074,N:"Bergara",O:264,NE:"Bergara",NC:"Bergara",C:11610},{Z:3023,N:"Berrobi",O:214,NE:"Berrobi",NC:"Berrobi",C:445},{Z:3024,N:"Bidania-Goiatz",O:215,NE:"Bidania-Goiatz",NC:"Bidania-Goiatz",C:393},{Z:3029,N:"Deba",O:220,NE:"Deba",NC:"Deba",C:4258},{Z:30,N:"Donostia",O:9,NE:"Donostia",NC:"Donostia-San Sebastin",C:147189},{Z:3030,N:"Eibar",O:221,NE:"Eibar",NC:"Eibar",C:21515},{Z:3031,N:"Elduain",O:222,NE:"Elduain",NC:"Elduain",C:180},{Z:3033,N:"Elgeta",O:224,NE:"Elgeta",NC:"Elgeta",C:864},{Z:3032,N:"Elgoibar",O:223,NE:"Elgoibar",NC:"Elgoibar",C:8785},{Z:3067,N:"Errenteria",O:258,NE:"Errenteria",NC:"Errenteria",C:30825},{Z:3066,N:"Errezil",O:257,NE:"Errezil",NC:"Errezil",C:461},{Z:3034,N:"Eskoriatza",O:225,NE:"Eskoriatza",NC:"Eskoriatza",C:3157},{Z:3035,N:"Ezkio-Itsaso",O:226,NE:"Ezkio-Itsaso",NC:"Ezkio-Itsaso",C:482},{Z:3038,N:"Gabiria",O:229,NE:"Gabiria",NC:"Gabiria",C:392},{Z:3037,N:"Gaintza",O:228,NE:"Gaintza",NC:"Gaintza",C:97},{Z:3907,N:"Gaztelu",O:278,NE:"Gaztelu",NC:"Gaztelu",C:120},{Z:3039,N:"Getaria",O:230,NE:"Getaria",NC:"Getaria",C:2111},{Z:3040,N:"Hernani",O:231,NE:"Hernani",NC:"Hernani",C:15321},{Z:3041,N:"Hernialde",O:232,NE:"Hernialde",NC:"Hernialde",C:258},{Z:3036,N:"Hondarribia",O:227,NE:"Hondarribia",NC:"Hondarribia",C:13148},{Z:3042,N:"Ibarra",O:233,NE:"Ibarra",NC:"Ibarra",C:3251},{Z:3043,N:"Idiazabal",O:234,NE:"Idiazabal",NC:"Idiazabal",C:1740},{Z:3044,N:"Ikaztegieta",O:235,NE:"Ikaztegieta",NC:"Ikaztegieta",C:368},{Z:3045,N:"Irun",O:236,NE:"Irun",NC:"Irun",C:46691},{Z:3046,N:"Irura",O:237,NE:"Irura",NC:"Irura",C:1167},{Z:3047,N:"Itsasondo",O:238,NE:"Itsasondo",NC:"Itsasondo",C:477},{Z:3048,N:"Larraul",O:239,NE:"Larraul",NC:"Larraul",C:176},{Z:3902,N:"Lasarte-Oria",O:273,NE:"Lasarte-Oria",NC:"Lasarte-Oria",C:14193},{Z:3049,N:"Lazkao",O:240,NE:"Lazkao",NC:"Lazkao",C:4124},{Z:3050,N:"Leaburu",O:241,NE:"Leaburu",NC:"Leaburu",C:263},{Z:3051,N:"Legazpi",O:242,NE:"Legazpi",NC:"Legazpi",C:6904},{Z:3052,N:"Legorreta",O:243,NE:"Legorreta",NC:"Legorreta",C:1091},{Z:3068,N:"Leintz-Gatzaga",O:259,NE:"Leintz Gatzaga",NC:"Leintz-Gatzaga",C:183},{Z:3053,N:"Lezo",O:244,NE:"Lezo",NC:"Lezo",C:4765},{Z:3054,N:"Lizartza",O:245,NE:"Lizartza",NC:"Lizartza",C:447},{Z:3901,N:"Mendaro",O:272,NE:"Mendaro",NC:"Mendaro",C:1441},{Z:3055,N:"Arrasate/Mondragn",O:246,NE:"Arrasate",NC:"Mondragn",C:17522},{Z:3057,N:"Mutiloa",O:248,NE:"Mutiloa",NC:"Mutiloa",C:201},{Z:3056,N:"Mutriku",O:247,NE:"Mutriku",NC:"Mutriku",C:4104},{Z:3063,N:"Oiartzun",O:254,NE:"Oiartzun",NC:"Oiartzun",C:7990},{Z:3058,N:"Olaberria",O:249,NE:"Olaberria",NC:"Olaberria",C:746},{Z:3059,N:"Oati",O:250,NE:"Oati",NC:"Oati",C:8863},{Z:3076,N:"Ordizia",O:266,NE:"Ordizia",NC:"Ordizia",C:6978},{Z:3905,N:"Orendain",O:276,NE:"Orendain",NC:"Orendain",C:141},{Z:3060,N:"Orexa",O:251,NE:"Orexa",NC:"Orexa",C:89},{Z:3061,N:"Orio",O:252,NE:"Orio",NC:"Orio",C:4273},{Z:3062,N:"Ormaiztegi",O:253,NE:"Ormaiztegi",NC:"Ormaiztegi",C:982},{Z:3064,N:"Pasaia",O:255,NE:"Pasaia",NC:"Pasaia",C:12526},{Z:3070,N:"Segura",O:260,NE:"Segura",NC:"Segura",C:1099},{Z:3065,N:"Soraluze",O:256,NE:"Soraluze",NC:"Soraluze",C:3006},{Z:3071,N:"Tolosa",O:261,NE:"Tolosa",NC:"Tolosa",C:14818},{Z:3072,N:"Urnieta",O:262,NE:"Urnieta",NC:"Urnieta",C:4731},{Z:3077,N:"Urretxu",O:267,NE:"Urretxu",NC:"Urretxu",C:5243},{Z:3073,N:"Usurbil",O:263,NE:"Usurbil",NC:"Usurbil",C:4677},{Z:3075,N:"Villabona",O:265,NE:"Villabona",NC:"Villabona",C:4359},{Z:3078,N:"Zaldibia",O:268,NE:"Zaldibia",NC:"Zaldibia",C:1155},{Z:3079,N:"Zarautz",O:269,NE:"Zarautz",NC:"Zarautz",C:17835},{Z:3025,N:"Zegama",O:216,NE:"Zegama",NC:"Zegama",C:1144},{Z:3026,N:"Zerain",O:217,NE:"Zerain",NC:"Zerain",C:202},{Z:3027,N:"Zestoa",O:218,NE:"Zestoa",NC:"Zestoa",C:2816},{Z:3028,N:"Zizurkil",O:219,NE:"Zizurkil",NC:"Zizurkil",C:2255},{Z:3081,N:"Zumaia",O:271,NE:"Zumaia",NC:"Zumaia",C:7460},{Z:3080,N:"Zumarraga",O:270,NE:"Zumarraga",NC:"Zumarraga",C:7900}]},v=0;v<D.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+D.zonas[v].NC+D.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=D.zonas[v].NC:"eu"===L&&(P[M].innerHTML=D.zonas[v].NE);findElement=function(e,t,n){for(var a=0,o=e.length;a<o;a++){var i=e[a][n];if(i==t)return e[a]}return null};for(var P=document.querySelector("#fullTemp").querySelectorAll("x-select"),v=0;v<P.length;v++){var U=findElement(D.zonas,P[v].getAttribute("val"),"Z"),R=findElement(B.zonas,P[v].getAttribute("val"),"Z"),j=findElement(G.zonas,P[v].getAttribute("val"),"Z"),J=findElement(H.zonas,P[v].getAttribute("val"),"Z");null!==U?"es"===L?P[v].$.selectBut.innerHTML=U.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=U.NE):null!==R?"es"===L?P[v].$.selectBut.innerHTML=R.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=R.NE):null!==j?"es"===L?P[v].$.selectBut.innerHTML=j.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=j.NE):null!==J&&("es"===L?P[v].$.selectBut.innerHTML=J.NC:"eu"===L&&(P[v].$.selectBut.innerHTML=J.NE))}for(var v=0;v<B.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+B.zonas[v].NC+B.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=B.zonas[v].NC:"eu"===L&&(P[M].innerHTML=B.zonas[v].NE);for(var v=0;v<G.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+G.zonas[v].NC+G.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=G.zonas[v].NC:"eu"===L&&(P[M].innerHTML=G.zonas[v].NE);for(var v=0;v<H.zonas.length;v++)for(var P=document.querySelector("#fullTemp").querySelectorAll("#"+H.zonas[v].NC+H.zonas[v].Z),M=0;M<P.length;M++)"es"===L?P[M].innerHTML=H.zonas[v].NC:"eu"===L&&(P[M].innerHTML=H.zonas[v].NE);for(var P=document.querySelector("#fullTemp").querySelectorAll("#imgAvisoCam"),M=0;M<P.length;M++)"es"===L?P[M].src="../resources/configPanel/img/camara/camconfiges.png":"eu"===L&&(P[M].src="../resources/configPanel/img/camara/camconfigeu.png")}}o.changeSoundSWActive()}},500)},document.addEventListener("agentChange",this.onAgentChange.bind(this)),this.onLanguageChange=function(e){if("es"===e.detail.value||"eu"===e.detail.value){var t=document.querySelector("#fullTemp").querySelectorAll("#arMun"),n=document.querySelector("#fullTemp").querySelectorAll("#vizMun"),a=document.querySelector("#fullTemp").querySelectorAll("#gipMun");if("es"===e.detail.value){document.querySelector("#langes").className="active",document.querySelector("#langeu").className="";for(var o=0;o<t.length;o++)t[o].label="Municipios de Alava",n[o].label="Municipios de Bizkaia",a[o].label="Municipios de Guipuzcoa";document.querySelector("#loadingNotif").src="../resources/images/cargandoes.png"}else if("eu"===e.detail.value){document.querySelector("#langeu").className="active",document.querySelector("#langes").className="";for(var o=0;o<t.length;o++)t[o].label="Arabako udalerriak",n[o].label="Bizkaiako udalerriak",a[o].label="Gipuzkoako udalerriak";document.querySelector("#loadingNotif").src="../resources/images/cargandoeu.png"}null!==document.querySelector("#qrNotif")&&(document.querySelector("#qrNotif").src=document.querySelector("#qrNotif").src.split("notif")[0]+"notif"+e.detail.value+".png");for(var i=0;i<this.textos.menu.length;i++)null!==document.querySelector("#fullTemp").querySelector("#"+this.textos.menu[i].id)&&(document.querySelector("#fullTemp").querySelector("#"+this.textos.menu[i].id).innerHTML=this.textos.menu[i][e.detail.value]);for(var i=0;i<this.textos.addDev.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+this.textos.addDev[i].id),o=0;o<r.length;o++)r[o].innerHTML=this.textos.addDev[i][e.detail.value];for(var i=0;i<this.textos.twitter.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+this.textos.twitter[i].id),o=0;o<r.length;o++)r[o].innerHTML=this.textos.twitter[i][e.detail.value];for(var i=0;i<this.textos.graficos.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+this.textos.graficos[i].id),o=0;o<r.length;o++)r[o].innerHTML=this.textos.graficos[i][e.detail.value];for(var s={zonas:[{Z:1,N:"Alava-Araba",O:28,NE:"Araba",NC:"Alava",C:1984},{Z:2,N:"Vizcaya",O:28,NE:"Bizkaia",NC:"Bizkaia",C:1984},{Z:3,N:"Guipuzcoa",O:28,NE:"Gipuzkoa",NC:"Guipzcoa",C:1984},{Z:5,N:"CAV-EAE",O:28,NE:"EAE",NC:"CAV",C:1984}]},l={zonas:[{Z:1001,N:"Alegra-Dulantzi",O:28,NE:"Dulantzi",NC:"Alegra-Dulantzi",C:1984},{Z:1002,N:"Amurrio",O:29,NE:"Amurrio",NC:"Amurrio",C:8139},{Z:1049,N:"Aana",O:63,NE:"Aana",NC:"Aana",C:140},{Z:1003,N:"Aramaio",O:30,NE:"Aramaio",NC:"Aramaio",C:1186},{Z:1006,N:"Armin",O:32,NE:"Armion",NC:"Armin",C:176},{Z:1037,N:"Arraia-Maeztu",O:55,NE:"Arraia-Maeztu",NC:"Arraia-Maeztu",C:586},{Z:1008,N:"Arratzua-Ubarrundia",O:33,NE:"Arratzua-Ubarrundia",NC:"Arratzua-Ubarrundia",C:790},{Z:1004,N:"Artziniega",O:31,NE:"Artziniega",NC:"Artziniega",C:1405},{Z:1009,N:"Asparrena",O:34,NE:"Asparrena",NC:"Asparrena",C:1281},{Z:1010,N:"Ayala/Aiara",O:35,NE:"Aiara",NC:"Ayala",C:2275},{Z:1011,N:"Baos de Ebro/Maueta",O:36,NE:"Maueta",NC:"Baos de Ebro",C:237},{Z:1013,N:"Barrundia",O:37,NE:"Barrundia",NC:"Barrundia",C:711},{Z:1014,N:"Berantevilla",O:38,NE:"Berantevilla",NC:"Berantevilla",C:372},{Z:1016,N:"Bernedo",O:39,NE:"Bernedo",NC:"Bernedo",C:439},{Z:1017,N:"Campezo/Kanpezu",O:40,NE:"Kanpezu",NC:"Campezo",C:869},{Z:1021,N:"Elburgo/Burgelu",O:44,NE:"Burgu",NC:"Elburgo",C:460},{Z:1022,N:"Elciego",O:45,NE:"Eltziego",NC:"Elciego",C:805},{Z:1023,N:"Elvillar/Bilar",O:46,NE:"Bilar",NC:"Elvillar",C:269},{Z:1901,N:"Irua Oka/Irua de Oca",O:76,NE:"Irua Oka",NC:"Irua de Oca",C:2344},{Z:1027,N:"Iruraiz-Gauna",O:47,NE:"Iruraitz-Gauna",NC:"Iruraitz-Gauna",C:416},{Z:1019,N:"Kripan",O:42,NE:"Kripan",NC:"Kripan",C:144},{Z:1020,N:"Kuartango",O:43,NE:"Kuartango",NC:"Kuartango",C:326},{Z:1028,N:"Labastida",O:48,NE:"Bastida",NC:"Labastida",C:1077},{Z:1030,N:"Lagrn",O:49,NE:"Lagran",NC:"Lagrn",C:159},{Z:1031,N:"Laguardia",O:50,NE:"Guardia",NC:"Laguardia",C:1183},{Z:1032,N:"Lanciego/Lantziego",O:51,NE:"Lantziego",NC:"Lanciego",C:522},{Z:1902,N:"Lantarn",O:77,NE:"Lantaron",NC:"Lantarn",C:738},{Z:1033,N:"Lapuebla de Labarca",O:52,NE:"Lapuebla de Labarca",NC:"Lapuebla de Labarca",C:649},{Z:1058,N:"Legutiano",O:71,NE:"Legutio",NC:"Legutio",C:1327},{Z:1034,N:"Leza",O:53,NE:"Leza",NC:"Leza",C:165},{Z:1036,N:"Llodio/Laudio",O:54,NE:"Laudio",NC:"Llodio",C:15034},{Z:1039,N:"Moreda de Alava",O:56,NE:"Moreda Araba",NC:"Moreda de Alava",C:202},{Z:1041,N:"Navaridas",O:57,NE:"Navaridas",NC:"Navaridas",C:153},{Z:1042,N:"Okondo",O:58,NE:"Okondo",NC:"Okondo",C:901},{Z:1043,N:"Oyn/Oion",O:59,NE:"Oion",NC:"Oyn",C:2318},{Z:1044,N:"Peacerrada-Urizaharra",O:60,NE:"Urizaharra",NC:"Peacerrada",C:236},{Z:1046,N:"Ribera Alta",O:61,NE:"Erriberagoitia",NC:"Ribera Alta",C:594},{Z:1047,N:"Ribera Baja/Erribera Beitia",O:62,NE:"Erriberabeitia",NC:"Ribera Baja",C:964},{Z:1051,N:"Salvatierra/Agurain",O:64,NE:"Agurain",NC:"Salvatierra",C:3606},{Z:1052,N:"Samaniego",O:65,NE:"Samaniego",NC:"Samaniego",C:244},{Z:1053,N:"San Milln/Donemiliaga",O:66,NE:"Donemiliaga",NC:"San Milln",C:587},{Z:1054,N:"Urkabustaiz",O:67,NE:"Urkabustaiz",NC:"Urkabustaiz",C:952},{Z:1055,N:"Valdegova/Gaubea",O:68,NE:"Gaubea",NC:"Valdegova",C:836},{Z:1056,N:"Harana/Valle de Arana",O:69,NE:"Harana",NC:"Valle de Arana",C:218},{Z:1057,N:"Villabuena de Alava/Eskuernaga",O:70,NE:"Villabuena",NC:"Villabuena de Alava",C:245},{Z:10,N:"Gasteiz",O:7,NE:"Gasteiz",NC:"Vitoria-Gasteiz",C:186354},{Z:1060,N:"Ycora/Iekora",O:72,NE:"Ekora",NC:"Ycora",C:199},{Z:1061,N:"Zalduondo",O:73,NE:"Zalduondo",NC:"Zalduondo",C:153},{Z:1062,N:"Zambrana",O:74,NE:"Zanbrana",NC:"Zambrana",C:314},{Z:1018,N:"Zigoitia",O:41,NE:"Zigoitia",NC:"Zigoitia",C:1370},{Z:1063,N:"Zuia",O:75,NE:"Zuia",NC:"Zuia",C:1799}]},c={zonas:[{Z:2001,N:"Abadio",O:81,NE:"Abadio",NC:"Abadio",C:5832},{Z:2002,N:"Abanto y Cirvana/Abanto Zierbena",O:82,NE:"Abanto",NC:"Abanto y Cirvana",C:7851},{Z:2911,N:"Ajangiz",O:187,NE:"Ajangiz",NC:"Ajangiz",C:382},{Z:2912,N:"Alonsotegi",O:188,NE:"Alonsotegi",NC:"Alonsotegi",C:2308},{Z:2003,N:"Amorebieta-Etxano",O:83,NE:"Zornotza",NC:"Amorebieta-Etxano",C:14338},{Z:2004,N:"Amoroto",O:84,NE:"Amoroto",NC:"Amoroto",C:334},{Z:2005,N:"Arakaldo",O:85,NE:"Arakaldo",NC:"Arakaldo",C:117},{Z:2006,N:"Arantzazu",O:86,NE:"Arantzazu",NC:"Arantzazu",C:289},{Z:2093,N:"Areatza",O:172,NE:"Areatza",NC:"Areatza",C:900},{Z:2009,N:"Arrankudiaga",O:89,NE:"Arrankudiaga",NC:"Arrankudiaga",C:786},{Z:2914,N:"Arratzu",O:190,NE:"Arratzu",NC:"Arratzu",C:330},{Z:2010,N:"Arrieta",O:90,NE:"Arrieta",NC:"Arrieta",C:457},{Z:2011,N:"Arrigorriaga",O:91,NE:"Arrigorriaga",NC:"Arrigorriaga",C:9692},{Z:2023,N:"Artea",O:102,NE:"Arteaga",NC:"Artea",C:594},{Z:2008,N:"Arcentales",O:88,NE:"Artzentales",NC:"Artzentales",C:617},{Z:2091,N:"Atxondo",O:170,NE:"Atxondo",NC:"Atxondo",C:1134},{Z:2070,N:"Aulesti",O:149,NE:"Aulesti",NC:"Aulesti",C:545},{Z:2012,N:"Bakio",O:92,NE:"Bakio",NC:"Bakio",C:2041},{Z:2090,
N:"Balmaseda",O:169,NE:"Balmaseda",NC:"Balmaseda",C:6022},{Z:2013,N:"Barakaldo",O:93,NE:"Barakaldo",NC:"Barakaldo",C:79984},{Z:2014,N:"Barrika",O:94,NE:"Barrika",NC:"Barrika",C:1218},{Z:2015,N:"Basauri",O:95,NE:"Basauri",NC:"Basauri",C:33690},{Z:2092,N:"Bedia",O:171,NE:"Bedia",NC:"Bedia",C:837},{Z:2016,N:"Berango",O:96,NE:"Berango",NC:"Berango",C:5260},{Z:2017,N:"Bermeo",O:97,NE:"Bermeo",NC:"Bermeo",C:13290},{Z:2018,N:"Berriatua",O:98,NE:"Berriatua",NC:"Berriatua",C:875},{Z:2019,N:"Berriz",O:99,NE:"Berriz",NC:"Berriz",C:3594},{Z:20,N:"Bilbao",O:8,NE:"Bilbo",NC:"Bilbao",C:274076},{Z:2021,N:"Busturia",O:100,NE:"Busturia",NC:"Busturia",C:1352},{Z:2901,N:"Derio",O:177,NE:"Derio",NC:"Derio",C:4775},{Z:2026,N:"Dima",O:105,NE:"Dima",NC:"Dima",C:1134},{Z:2027,N:"Durango",O:106,NE:"Durango",NC:"Durango",C:22033},{Z:2028,N:"Ea",O:107,NE:"Ea",NC:"Ea",C:715},{Z:2031,N:"Elantxobe",O:110,NE:"Elantxobe",NC:"Elantxobe",C:340},{Z:2032,N:"Elorrio",O:111,NE:"Elorrio",NC:"Elorrio",C:5735},{Z:2902,N:"Erandio",O:178,NE:"Erandio",NC:"Erandio",C:19124},{Z:2033,N:"Ereo",O:112,NE:"Ereo",NC:"Ereo",C:215},{Z:2034,N:"Ermua",O:113,NE:"Ermua",NC:"Ermua",C:12902},{Z:2079,N:"Errigoiti",O:158,NE:"Errigoiti",NC:"Errigoiti",C:425},{Z:2029,N:"Etxebarri Anteiglesia de San Esteban",O:108,NE:"Etxebarri",NC:"Etxebarri",C:8332},{Z:2030,N:"Etxebarria",O:109,NE:"Etxebarria",NC:"Etxebarria",C:608},{Z:2906,N:"Forua",O:182,NE:"Forua",NC:"Forua",C:775},{Z:2035,N:"Fruiz",O:114,NE:"Fruiz",NC:"Fruiz",C:412},{Z:2036,N:"Galdakao",O:115,NE:"Galdakao",NC:"Galdakao",C:24144},{Z:2037,N:"Galdames",O:116,NE:"Galdames",NC:"Galdames",C:678},{Z:2038,N:"Gamiz-Fika",O:117,NE:"Gamiz-Fika",NC:"Gamiz-Fika",C:1122},{Z:2039,N:"Garai",O:118,NE:"Garai",NC:"Garai",C:243},{Z:2040,N:"Gatika",O:119,NE:"Gatika",NC:"Gatika",C:1299},{Z:2041,N:"Gautegiz Arteaga",O:120,NE:"Gautegiz-Arteaga",NC:"Gautegiz-Arteaga",C:704},{Z:2046,N:"Gernika-Lumo",O:125,NE:"Gernika-Lumo",NC:"Gernika-Lumo",C:12617},{Z:2044,N:"Getxo",O:123,NE:"Getxo",NC:"Getxo",C:62989},{Z:2047,N:"Gizaburuaga",O:126,NE:"Gizaburuaga",NC:"Gizaburuaga",C:161},{Z:2042,N:"Gordexola",O:121,NE:"Gordexola",NC:"Gordexola",C:1384},{Z:2043,N:"Gorliz",O:122,NE:"Gorliz",NC:"Gorliz",C:4403},{Z:2045,N:"Gees",O:124,NE:"Guees",NC:"Gees",C:5149},{Z:2048,N:"Ibarrangelu",O:127,NE:"Ibarrangelu",NC:"Ibarrangelu",C:562},{Z:2094,N:"Igorre",O:173,NE:"Igorre",NC:"Igorre",C:3193},{Z:2049,N:"Ispaster",O:128,NE:"Ispaster",NC:"Ispaster",C:548},{Z:2910,N:"Iurreta",O:186,NE:"Iurreta",NC:"Iurreta",C:2948},{Z:2050,N:"Izurtza",O:129,NE:"Izurtza",NC:"Izurtza",C:198},{Z:2907,N:"Kortezubi",O:183,NE:"Kortezubi",NC:"Kortezubi",C:355},{Z:2051,N:"Lanestosa",O:130,NE:"Lanestosa",NC:"Lanestosa",C:220},{Z:2052,N:"Larrabetzu",O:131,NE:"Larrabetzu",NC:"Larrabetzu",C:1559},{Z:2053,N:"Laukiz",O:132,NE:"Laukiz",NC:"Laukiz",C:900},{Z:2054,N:"Leioa",O:133,NE:"Leioa",NC:"Leioa",C:24135},{Z:2057,N:"Lekeitio",O:136,NE:"Lekeitio",NC:"Lekeitio",C:5749},{Z:2055,N:"Lemoa",O:134,NE:"Lemoa",NC:"Lemoa",C:2662},{Z:2056,N:"Lemoiz",O:135,NE:"Lemoiz",NC:"Lemoiz",C:978},{Z:2081,N:"Lezama",O:160,NE:"Lezama",NC:"Lezama",C:1883},{Z:2903,N:"Loiu",O:179,NE:"Loiu",NC:"Loiu",C:1838},{Z:2058,N:"Mallabia",O:137,NE:"Mallabia",NC:"Mallabia",C:972},{Z:2059,N:"Maaria",O:138,NE:"Maaria",NC:"Maaria",C:402},{Z:2060,N:"Markina-Xemein",O:139,NE:"Markina-Xemein",NC:"Markina-Xemein",C:3645},{Z:2061,N:"Maruri-Jatabe",O:140,NE:"Jatabe",NC:"Maruri-Jatabe",C:762},{Z:2062,N:"Mendata",O:141,NE:"Mendata",NC:"Mendata",C:300},{Z:2063,N:"Mendexa",O:142,NE:"Mendexa",NC:"Mendexa",C:373},{Z:2064,N:"Meaka",O:143,NE:"Meaka",NC:"Meaka",C:603},{Z:2066,N:"Morga",O:145,NE:"Morga",NC:"Morga",C:346},{Z:2068,N:"Mundaka",O:147,NE:"Mundaka",NC:"Mundaka",C:1551},{Z:2069,N:"Mungia",O:148,NE:"Mungia",NC:"Mungia",C:12765},{Z:2007,N:"Munitibar-Arbatzegi Gerrikaitz",O:87,NE:"Munitibar",NC:"Munitibar-Arbatzegi-Gerrikaitz",C:365},{Z:2908,N:"Murueta",O:184,NE:"Murueta",NC:"Murueta",C:245},{Z:2071,N:"Muskiz",O:150,NE:"Muskiz",NC:"Muskiz",C:6118},{Z:2067,N:"Muxika",O:146,NE:"Muxika",NC:"Muxika",C:1161},{Z:2909,N:"Nabarniz",O:185,NE:"Nabarniz",NC:"Nabarniz",C:207},{Z:2073,N:"Ondarroa",O:152,NE:"Ondarroa",NC:"Ondarroa",C:6952},{Z:2074,N:"Ordua",O:153,NE:"Urdua",NC:"Ordua",C:3333},{Z:2075,N:"Orozko",O:154,NE:"Orozko",NC:"Orozko",C:1975},{Z:2083,N:"Ortuella",O:162,NE:"Ortuella",NC:"Ortuella",C:6950},{Z:2072,N:"Otxandio",O:151,NE:"Otxandio",NC:"Otxandio",C:974},{Z:2077,N:"Plentzia",O:156,NE:"Plentzia",NC:"Plentzia",C:3367},{Z:2078,N:"Portugalete",O:157,NE:"Portugalete",NC:"Portugalete",C:38742},{Z:2082,N:"Santurtzi",O:161,NE:"Santurtzi",NC:"Santurtzi",C:37673},{Z:2084,N:"Sestao",O:163,NE:"Sestao",NC:"Sestao",C:22577},{Z:2904,N:"Sondika",O:180,NE:"Sondika",NC:"Sondika",C:3504},{Z:2085,N:"Sopelana",O:164,NE:"Sopela",NC:"Sopela",C:10301},{Z:2086,N:"Sopuerta",O:165,NE:"Sopuerta",NC:"Sopuerta",C:2073},{Z:2076,N:"Sukarrieta",O:155,NE:"Sukarrieta",NC:"Sukarrieta",C:314},{Z:2087,N:"Trucios-Turtzioz",O:166,NE:"Turtzioz",NC:"Trucios",C:429},{Z:2088,N:"Ubide",O:167,NE:"Ubide",NC:"Ubide",C:135},{Z:2065,N:"Ugao-Miraballes",O:144,NE:"Ugao",NC:"Ugao-Miraballes",C:3315},{Z:2089,N:"Urduliz",O:168,NE:"Urduliz",NC:"Urduliz",C:3266},{Z:2022,N:"Carranza",O:101,NE:"Karrantza",NC:"Valle de Carranza",C:2355},{Z:2080,N:"Valle de Trpaga-Trapagaran",O:159,NE:"Trapagaran",NC:"Valle de Trpaga",C:9971},{Z:2095,N:"Zaldibar",O:174,NE:"Zaldibar",NC:"Zaldibar",C:2352},{Z:2096,N:"Zalla",O:175,NE:"Zalla",NC:"Zalla",C:6608},{Z:2905,N:"Zamudio",O:181,NE:"Zamudio",NC:"Zamudio",C:2565},{Z:2097,N:"Zaratamo",O:176,NE:"Zaratamo",NC:"Zaratamo",C:1303},{Z:2024,N:"Zeanuri",O:103,NE:"Zeanuri",NC:"Zeanuri",C:1003},{Z:2025,N:"Zeberio",O:104,NE:"Zeberio",NC:"Zeberio",C:883},{Z:2913,N:"Zierbena",O:189,NE:"Zierbena",NC:"Zierbena",C:1251},{Z:2915,N:"Ziortza-Bolibar",O:191,NE:"Ziortza-Bolibar",NC:"Ziortza-Bolibar",C:362}]},u={zonas:[{Z:3001,N:"Abaltzisketa",O:192,NE:"Abaltzisketa",NC:"Abaltzisketa",C:242},{Z:3002,N:"Aduna",O:193,NE:"Aduna",NC:"Aduna",C:343},{Z:3016,N:"Aia",O:207,NE:"Aia",NC:"Aia",C:1514},{Z:3003,N:"Aizarnazabal",O:194,NE:"Aizarnazabal",NC:"Aizarnazabal",C:541},{Z:3004,N:"Albiztur",O:195,NE:"Albiztur",NC:"Albiztur",C:252},{Z:3005,N:"Alegia",O:196,NE:"Alegia",NC:"Alegia",C:1261},{Z:3006,N:"Alkiza",O:197,NE:"Alkiza",NC:"Alkiza",C:262},{Z:3906,N:"Altzaga",O:277,NE:"Altzaga",NC:"Altzaga",C:121},{Z:3007,N:"Altzo",O:198,NE:"Altzo",NC:"Altzo",C:304},{Z:3008,N:"Amezketa",O:199,NE:"Amezketa",NC:"Amezketa",C:721},{Z:3009,N:"Andoain",O:200,NE:"Andoain",NC:"Andoain",C:11528},{Z:3010,N:"Anoeta",O:201,NE:"Anoeta",NC:"Anoeta",C:1494},{Z:3011,N:"Antzuola",O:202,NE:"Antzuola",NC:"Antzuola",C:1660},{Z:3012,N:"Arama",O:203,NE:"Arama",NC:"Arama",C:144},{Z:3013,N:"Aretxabaleta",O:204,NE:"Aretxabaleta",NC:"Aretxabaleta",C:5427},{Z:3014,N:"Asteasu",O:205,NE:"Asteasu",NC:"Asteasu",C:1111},{Z:3903,N:"Astigarraga",O:274,NE:"Astigarraga",NC:"Astigarraga",C:4247},{Z:3015,N:"Ataun",O:206,NE:"Ataun",NC:"Ataun",C:1272},{Z:3017,N:"Azkoitia",O:208,NE:"Azkoitia",NC:"Azkoitia",C:8580},{Z:3018,N:"Azpeitia",O:209,NE:"Azpeitia",NC:"Azpeitia",C:11074},{Z:3904,N:"Baliarrain",O:275,NE:"Baliarrain",NC:"Baliarrain",C:96},{Z:3019,N:"Beasain",O:210,NE:"Beasain",NC:"Beasain",C:10053},{Z:3020,N:"Beizama",O:211,NE:"Beizama",NC:"Beizama",C:129},{Z:3021,N:"Belauntza",O:212,NE:"Belauntza",NC:"Belauntza",C:199},{Z:3022,N:"Berastegi",O:213,NE:"Berastegi",NC:"Berastegi",C:834},{Z:3074,N:"Bergara",O:264,NE:"Bergara",NC:"Bergara",C:11610},{Z:3023,N:"Berrobi",O:214,NE:"Berrobi",NC:"Berrobi",C:445},{Z:3024,N:"Bidania-Goiatz",O:215,NE:"Bidania-Goiatz",NC:"Bidania-Goiatz",C:393},{Z:3029,N:"Deba",O:220,NE:"Deba",NC:"Deba",C:4258},{Z:30,N:"Donostia",O:9,NE:"Donostia",NC:"Donostia-San Sebastin",C:147189},{Z:3030,N:"Eibar",O:221,NE:"Eibar",NC:"Eibar",C:21515},{Z:3031,N:"Elduain",O:222,NE:"Elduain",NC:"Elduain",C:180},{Z:3033,N:"Elgeta",O:224,NE:"Elgeta",NC:"Elgeta",C:864},{Z:3032,N:"Elgoibar",O:223,NE:"Elgoibar",NC:"Elgoibar",C:8785},{Z:3067,N:"Errenteria",O:258,NE:"Errenteria",NC:"Errenteria",C:30825},{Z:3066,N:"Errezil",O:257,NE:"Errezil",NC:"Errezil",C:461},{Z:3034,N:"Eskoriatza",O:225,NE:"Eskoriatza",NC:"Eskoriatza",C:3157},{Z:3035,N:"Ezkio-Itsaso",O:226,NE:"Ezkio-Itsaso",NC:"Ezkio-Itsaso",C:482},{Z:3038,N:"Gabiria",O:229,NE:"Gabiria",NC:"Gabiria",C:392},{Z:3037,N:"Gaintza",O:228,NE:"Gaintza",NC:"Gaintza",C:97},{Z:3907,N:"Gaztelu",O:278,NE:"Gaztelu",NC:"Gaztelu",C:120},{Z:3039,N:"Getaria",O:230,NE:"Getaria",NC:"Getaria",C:2111},{Z:3040,N:"Hernani",O:231,NE:"Hernani",NC:"Hernani",C:15321},{Z:3041,N:"Hernialde",O:232,NE:"Hernialde",NC:"Hernialde",C:258},{Z:3036,N:"Hondarribia",O:227,NE:"Hondarribia",NC:"Hondarribia",C:13148},{Z:3042,N:"Ibarra",O:233,NE:"Ibarra",NC:"Ibarra",C:3251},{Z:3043,N:"Idiazabal",O:234,NE:"Idiazabal",NC:"Idiazabal",C:1740},{Z:3044,N:"Ikaztegieta",O:235,NE:"Ikaztegieta",NC:"Ikaztegieta",C:368},{Z:3045,N:"Irun",O:236,NE:"Irun",NC:"Irun",C:46691},{Z:3046,N:"Irura",O:237,NE:"Irura",NC:"Irura",C:1167},{Z:3047,N:"Itsasondo",O:238,NE:"Itsasondo",NC:"Itsasondo",C:477},{Z:3048,N:"Larraul",O:239,NE:"Larraul",NC:"Larraul",C:176},{Z:3902,N:"Lasarte-Oria",O:273,NE:"Lasarte-Oria",NC:"Lasarte-Oria",C:14193},{Z:3049,N:"Lazkao",O:240,NE:"Lazkao",NC:"Lazkao",C:4124},{Z:3050,N:"Leaburu",O:241,NE:"Leaburu",NC:"Leaburu",C:263},{Z:3051,N:"Legazpi",O:242,NE:"Legazpi",NC:"Legazpi",C:6904},{Z:3052,N:"Legorreta",O:243,NE:"Legorreta",NC:"Legorreta",C:1091},{Z:3068,N:"Leintz-Gatzaga",O:259,NE:"Leintz Gatzaga",NC:"Leintz-Gatzaga",C:183},{Z:3053,N:"Lezo",O:244,NE:"Lezo",NC:"Lezo",C:4765},{Z:3054,N:"Lizartza",O:245,NE:"Lizartza",NC:"Lizartza",C:447},{Z:3901,N:"Mendaro",O:272,NE:"Mendaro",NC:"Mendaro",C:1441},{Z:3055,N:"Arrasate/Mondragn",O:246,NE:"Arrasate",NC:"Mondragn",C:17522},{Z:3057,N:"Mutiloa",O:248,NE:"Mutiloa",NC:"Mutiloa",C:201},{Z:3056,N:"Mutriku",O:247,NE:"Mutriku",NC:"Mutriku",C:4104},{Z:3063,N:"Oiartzun",O:254,NE:"Oiartzun",NC:"Oiartzun",C:7990},{Z:3058,N:"Olaberria",O:249,NE:"Olaberria",NC:"Olaberria",C:746},{Z:3059,N:"Oati",O:250,NE:"Oati",NC:"Oati",C:8863},{Z:3076,N:"Ordizia",O:266,NE:"Ordizia",NC:"Ordizia",C:6978},{Z:3905,N:"Orendain",O:276,NE:"Orendain",NC:"Orendain",C:141},{Z:3060,N:"Orexa",O:251,NE:"Orexa",NC:"Orexa",C:89},{Z:3061,N:"Orio",O:252,NE:"Orio",NC:"Orio",C:4273},{Z:3062,N:"Ormaiztegi",O:253,NE:"Ormaiztegi",NC:"Ormaiztegi",C:982},{Z:3064,N:"Pasaia",O:255,NE:"Pasaia",NC:"Pasaia",C:12526},{Z:3070,N:"Segura",O:260,NE:"Segura",NC:"Segura",C:1099},{Z:3065,N:"Soraluze",O:256,NE:"Soraluze",NC:"Soraluze",C:3006},{Z:3071,N:"Tolosa",O:261,NE:"Tolosa",NC:"Tolosa",C:14818},{Z:3072,N:"Urnieta",O:262,NE:"Urnieta",NC:"Urnieta",C:4731},{Z:3077,N:"Urretxu",O:267,NE:"Urretxu",NC:"Urretxu",C:5243},{Z:3073,N:"Usurbil",O:263,NE:"Usurbil",NC:"Usurbil",C:4677},{Z:3075,N:"Villabona",O:265,NE:"Villabona",NC:"Villabona",C:4359},{Z:3078,N:"Zaldibia",O:268,NE:"Zaldibia",NC:"Zaldibia",C:1155},{Z:3079,N:"Zarautz",O:269,NE:"Zarautz",NC:"Zarautz",C:17835},{Z:3025,N:"Zegama",O:216,NE:"Zegama",NC:"Zegama",C:1144},{Z:3026,N:"Zerain",O:217,NE:"Zerain",NC:"Zerain",C:202},{Z:3027,N:"Zestoa",O:218,NE:"Zestoa",NC:"Zestoa",C:2816},{Z:3028,N:"Zizurkil",O:219,NE:"Zizurkil",NC:"Zizurkil",C:2255},{Z:3081,N:"Zumaia",O:271,NE:"Zumaia",NC:"Zumaia",C:7460},{Z:3080,N:"Zumarraga",O:270,NE:"Zumarraga",NC:"Zumarraga",C:7900}]},i=0;i<s.zonas.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+s.zonas[i].NC+s.zonas[i].Z),o=0;o<r.length;o++)"es"===e.detail.value?r[o].innerHTML=s.zonas[i].NC:"eu"===e.detail.value&&(r[o].innerHTML=s.zonas[i].NE);findElement=function(e,t,n){for(var a=0,o=e.length;a<o;a++){var i=e[a][n];if(i==t)return e[a]}return null};for(var r=document.querySelector("#fullTemp").querySelectorAll("x-select"),i=0;i<r.length;i++){var d=findElement(s.zonas,r[i].getAttribute("val"),"Z"),p=findElement(l.zonas,r[i].getAttribute("val"),"Z"),m=findElement(c.zonas,r[i].getAttribute("val"),"Z"),h=findElement(u.zonas,r[i].getAttribute("val"),"Z");null!==d?"es"===e.detail.value?r[i].$.selectBut.innerHTML=d.NC:"eu"===e.detail.value&&(r[i].$.selectBut.innerHTML=d.NE):null!==p?"es"===e.detail.value?r[i].$.selectBut.innerHTML=p.NC:"eu"===e.detail.value&&(r[i].$.selectBut.innerHTML=p.NE):null!==m?"es"===e.detail.value?r[i].$.selectBut.innerHTML=m.NC:"eu"===e.detail.value&&(r[i].$.selectBut.innerHTML=m.NE):null!==h&&("es"===e.detail.value?r[i].$.selectBut.innerHTML=h.NC:"eu"===e.detail.value&&(r[i].$.selectBut.innerHTML=h.NE))}for(var i=0;i<l.zonas.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+l.zonas[i].NC+l.zonas[i].Z),o=0;o<r.length;o++)"es"===e.detail.value?r[o].innerHTML=l.zonas[i].NC:"eu"===e.detail.value&&(r[o].innerHTML=l.zonas[i].NE);for(var i=0;i<c.zonas.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+c.zonas[i].NC+c.zonas[i].Z),o=0;o<r.length;o++)"es"===e.detail.value?r[o].innerHTML=c.zonas[i].NC:"eu"===e.detail.value&&(r[o].innerHTML=c.zonas[i].NE);for(var i=0;i<u.zonas.length;i++)for(var r=document.querySelector("#fullTemp").querySelectorAll("#"+u.zonas[i].NC+u.zonas[i].Z),o=0;o<r.length;o++)"es"===e.detail.value?r[o].innerHTML=u.zonas[i].NC:"eu"===e.detail.value&&(r[o].innerHTML=u.zonas[i].NE);for(var r=document.querySelector("#fullTemp").querySelectorAll("#imgAvisoCam"),o=0;o<r.length;o++)"es"===e.detail.value?r[o].src="../resources/configPanel/img/camara/camconfiges.png":"eu"===e.detail.value&&(r[o].src="../resources/configPanel/img/camara/camconfigeu.png")}},document.addEventListener("appAttributeChange",this.onLanguageChange.bind(this),!1),document.addEventListener("cameraAdminChange",function(e){function t(e){if(e._id<c)return e}function t(e){if(e._id<c)return e}var n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,o=document.querySelector("#fullTemp").children,i="",r="";void 0!==e.detail.pnv?(i="video2",r=e.detail.pnv):void 0!==e.detail.bildu?(i="video5",r=e.detail.bildu):void 0!==e.detail.pse?(i="video3",r=e.detail.pse):void 0!==e.detail.pp?(i="video6",r=e.detail.pp):void 0!==e.detail.podemos&&(i="video4",r=e.detail.podemos);var s=document.querySelector("#"+i).compId;if("off"===r){var l=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext().agents,c=l[0]._id;if(l.length>1){var u=l.filter(t)._id;void 0===u&&(u=l[0])}else var u=l[0];if(u.id===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()){for(var d=0;d<l.length;d++)!function(e){setTimeout(function(){mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(l[e].id,s,"mutePlayer"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(l[e].id,s,!1)},2e3*e)}(d);for(var d=0;d<l.length;d++)!function(e){setTimeout(function(){mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(l[e].id,s,"muteEtb")},2e3*e+1e3)}(d);mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeOwnCamera(u.id,i,"off")}for(var p=2;p<a;p++)n[p].name.indexOf("cameras")>-1&&(o[p].querySelector("#soundCheck"+s).style.pointerEvents="none")}else if("on"===r){var l=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext().agents,c=l[0]._id;if(l.length>1){var u=l.filter(t)._id;void 0===u&&(u=l[0])}else var u=l[0];if(u.id===mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getAgentId()){for(var d=0;d<l.length;d++)!function(e){setTimeout(function(){mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(l[e].id,s,"soundEtb")},1e3*e)}(d);mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeOwnCamera(u.id,i,"on")}for(var p=2;p<a;p++)n[p].name.indexOf("cameras")>-1&&(o[p].querySelector("#soundCheck"+s).style.pointerEvents="auto")}}),this.onCtxUpdate=function(e){var t=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,a=document.querySelector("#fullTemp").children;if(void 0!==e.detail.context.lastChange)if(null!==e.detail.context.lastChange.diff)for(var o=e.detail.context.lastChange.diff,i=0;i<o.length;i++)for(var r=2;r<n;r++){var s="#viewCheck"+o[i].compId;if("show"===o[i].property)0===t[r].name.indexOf(e.detail.agentid)&&null!==a[r].querySelector(s)&&(o[i].newValue===!1?a[r].querySelector(s).setAttribute("val",!1):o[i].newValue===!0&&a[r].querySelector(s).setAttribute("val",!0));else if("customCmd"===o[i].property){if("hide"===o[i].newValue||"show"===o[i].newValue){var s="#viewCheck"+o[i].compId;0===t[r].name.indexOf(e.detail.agentid)&&null!==a[r].querySelector(s)&&("hide"===o[i].newValue?a[r].querySelector(s).setAttribute("val",!1):"show"===o[i].newValue&&a[r].querySelector(s).setAttribute("val",!0))}if("mutePlayer"===o[i].newValue||"soundPlayer"===o[i].newValue){var s="#soundCheck"+o[i].compId;0===t[r].name.indexOf(e.detail.agentid)&&null!==a[r].querySelector(s)&&("mutePlayer"===o[i].newValue?a[r].querySelector(s).setAttribute("val",!1):"soundPlayer"===o[i].newValue&&a[r].querySelector(s).setAttribute("val",!0))}if("offSound"===o[i].newValue||"onSound"===o[i].newValue){var s="#soundCheck"+o[i].compId;0===t[r].name.indexOf(e.detail.agentid)&&null!==a[r].querySelector(s)&&("offSound"===o[i].newValue?a[r].querySelector(s).setAttribute("val",!1):"onSound"===o[i].newValue&&a[r].querySelector(s).setAttribute("val",!0))}navigator.appVersion.indexOf("Panasonic")>-1?(t[r].name===e.detail.agentid+"graphics"&&o[i].newValue.indexOf("lugar")>-1&&a[r].querySelector("#lugarSelect"+o[i].compId).setAttribute("val",o[i].newValue.split("lugar")[1]),t[r].name===e.detail.agentid+"graphics"&&o[i].newValue.indexOf("pielug")>-1&&a[r].querySelector("#pieSelect"+o[i].compId).setAttribute("val",o[i].newValue.split("pielug")[1]),t[r].name===e.detail.agentid+"graphics"&&o[i].newValue.indexOf("tablelug")>-1&&a[r].querySelector("#tableSelect"+o[i].compId).setAttribute("val",o[i].newValue.split("tablelug")[1])):(t[r].name===e.detail.agentid+"graphics"&&o[i].newValue.indexOf("lugar")>-1&&(a[r].querySelector("#lugarSelect"+o[i].compId).value=o[i].newValue.split("lugar")[1]),t[r].name===e.detail.agentid+"graphics"&&o[i].newValue.indexOf("pielug")>-1&&(a[r].querySelector("#pieSelect"+o[i].compId).value=o[i].newValue.split("pielug")[1]),t[r].name===e.detail.agentid+"graphics"&&o[i].newValue.indexOf("tablelug")>-1&&(a[r].querySelector("#tableSelect"+o[i].compId).value=o[i].newValue.split("tablelug")[1]))}}else if("layoutEvent"===e.detail.context.lastChange.key)for(var r=2;r<n;r++)if(t[r].name===e.detail.agentid+"layouts")for(var l=t[r].items[1].layouts,i=0;i<l.length;i++)l[i].name===e.detail.context.lastChange.value?a[r].querySelector("#"+e.detail.context.lastChange.value+"Layout").className="active":a[r].querySelector("#"+l[i].name+"Layout").className=""},document.addEventListener("contextUpdate",this.onCtxUpdate.bind(this)),this.render=function(e){var t=document.createElement("div");return t.className="fullwidth-template",t.id="fullTemp",t.style.position="absolute",t.style.top="0",t.style.zIndex="99999",t.style.backgroundColor="rgba(255, 255, 255, 0.5)",this.activeSection=e,this.items.forEach(function(n){n instanceof o||n.name===e?(t.appendChild(n.render()),t.lastElementChild.style.display="block"):(t.appendChild(n.render()),t.lastElementChild.style.display="none")}),t},this.changeSection=function(e,t){var n=this;this.activeDevice+this.activeSection!==t+e&&(this.items.forEach(function(a,o){if("AddDevice"===e)a.name===e&&(document.querySelector("#fullTemp").children[o].style.display="block"),a.name===n.activeDevice+n.activeSection&&(document.querySelector("#fullTemp").children[o].style.display="none");else if("AddDevice"!==e&&void 0!==t&&"same"!==t){if(a.name===t+e){document.querySelector("#fullTemp").children[o].style.display="block";for(var i=document.querySelector("#fullTemp").children[o].children[0].children,r=0;r<i.length;r++)i[r].id===t&&(i[r].className="col-md-"+12/i.length+" col-xs-"+12/i.length+" boxdevice active"),i[r].id===n.activeDevice&&(i[r].className="col-md-"+12/i.length+" col-xs-"+12/i.length+" boxdevice")}a.name===n.activeDevice+n.activeSection&&(document.querySelector("#fullTemp").children[o].style.display="none")}else if(void 0===t){if(a.name===n.selfID+e){document.querySelector("#fullTemp").children[o].style.display="block";for(var i=document.querySelector("#fullTemp").children[o].children[0].children,r=0;r<i.length;r++)i[r].id===n.selfID&&(i[r].className="col-md-"+12/i.length+" col-xs-"+12/i.length+" boxdevice active"),i[r].id===n.activeDevice&&n.activeDevice!==n.selfID&&(i[r].className="col-md-"+12/i.length+" col-xs-"+12/i.length+" boxdevice")}a.name!==n.activeDevice+n.activeSection&&"AddDevice"!==a.name||n.activeSection===e||(document.querySelector("#fullTemp").children[o].style.display="none")}else if("same"===t){if(""===n.activeDevice&&(n.activeDevice=n.selfID),a.name===n.activeDevice+e){document.querySelector("#fullTemp").children[o].style.display="block";for(var i=document.querySelector("#fullTemp").children[o].children[0].children,r=0;r<i.length;r++)i[r].id===n.activeDevice&&(i[r].className="col-md-"+12/i.length+" col-xs-"+12/i.length+" boxdevice active"),i[r].id!==n.activeDevice&&(i[r].className="col-md-"+12/i.length+" col-xs-"+12/i.length+" boxdevice")}a.name!==n.activeDevice+n.activeSection&&"AddDevice"!==a.name||n.activeSection===e||(document.querySelector("#fullTemp").children[o].style.display="none")}}),""!==this.activeSection&&""!==this.activeDevice&&(document.querySelector("#"+this.activeSection).className=""),"AddDevice"===this.activeSection&&(document.querySelector("#"+this.activeSection).className="options"),""!==e&&(document.querySelector("#"+e).className="active"),void 0!==t&&"same"!==t?(this.activeSection=e,this.activeDevice=t):void 0===t?(this.activeSection=e,this.activeDevice=this.selfID):"same"===t&&(this.activeSection=e),""===this.activeSection?document.querySelector("#fullTemp").style.width="auto":document.querySelector("#fullTemp").style.width="100%")},this.changeLayout=function(e,t){for(var n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,o=document.querySelector("#fullTemp").children,i=2;i<a;i++)if(n[i].name===e+"layouts")for(var r=n[i].items[1].layouts,s=0;s<r.length;s++)r[s].name===t?o[i].querySelector("#"+t+"Layout").className="active":o[i].querySelector("#"+r[s].name+"Layout").className=""},this.changeLugar=function(e,t,n){for(var a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,i=document.querySelector("#fullTemp").children,r=2;r<o;r++)a[r].name===e+"graphics"&&(navigator.appVersion.indexOf("Panasonic")>-1?i[r].querySelector("#lugarSelect"+n).setAttribute("val",t):i[r].querySelector("#lugarSelect"+n).setAttribute("value",t))},this.changeTablePlace=function(e,t,n){for(var a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,i=document.querySelector("#fullTemp").children,r=2;r<o;r++)a[r].name===e+"graphics"&&(navigator.appVersion.indexOf("Panasonic")>-1?i[r].querySelector("#tableSelect"+n).setAttribute("val",t):i[r].querySelector("#tableSelect"+n).setAttribute("value",t))},this.changeOwnCamera=function(e,t,n){"on"===n?(document.querySelector("#"+t).querySelector("video").style.display="block",document.querySelector("#"+t).querySelector("#etbmuteimg").style.display="none"):"off"===n&&(document.querySelector("#"+t).querySelector("video").style.display="none",document.querySelector("#"+t).querySelector("video").muted=!0,document.querySelector("#"+t).querySelector("#etbmuteimg").style.display="block")},this.changePiePlace=function(e,t,n){for(var a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,i=document.querySelector("#fullTemp").children,r=2;r<o;r++)a[r].name===e+"graphics"&&(navigator.appVersion.indexOf("Panasonic")>-1?i[r].querySelector("#pieSelect"+n).setAttribute("val",t):i[r].querySelector("#pieSelect"+n).setAttribute("value",t))},this.changeSoundSwVal=function(e,t,n){for(var a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,i=document.querySelector("#fullTemp").children,r=2;r<o;r++)a[r].name===e+"cameras"&&i[r].querySelector("#soundCheck"+t).setAttribute("val",n)},this.changeViewSwVal=function(e,t,n){for(var a=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,i=document.querySelector("#fullTemp").children,r=2;r<o;r++)0===a[r].name.indexOf(e)&&null!==i[r].querySelector("#viewCheck"+t)&&i[r].querySelector("#viewCheck"+t).setAttribute("val",n)},this.changeSoundSWActive=function(){for(var e=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items,t=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.items.length,n=document.querySelector("#fullTemp").children,a=2;a<t;a++)e[a].name.indexOf("cameras")>-1&&("off"===mediascape.cameras.pnv&&(n[a].querySelector("#soundCheck"+document.querySelector("#video2").compId).style.pointerEvents="none"),"off"===mediascape.cameras.pse&&(n[a].querySelector("#soundCheck"+document.querySelector("#video3").compId).style.pointerEvents="none"),"off"===mediascape.cameras.podemos&&(n[a].querySelector("#soundCheck"+document.querySelector("#video4").compId).style.pointerEvents="none"),"off"===mediascape.cameras.bildu&&(n[a].querySelector("#soundCheck"+document.querySelector("#video5").compId).style.pointerEvents="none"),"off"===mediascape.cameras.pp&&(n[a].querySelector("#soundCheck"+document.querySelector("#video6").compId).style.pointerEvents="none"),"on"===mediascape.cameras.pnv&&(n[a].querySelector("#soundCheck"+document.querySelector("#video2").compId).style.pointerEvents="auto"),"on"===mediascape.cameras.pse&&(n[a].querySelector("#soundCheck"+document.querySelector("#video3").compId).style.pointerEvents="auto"),"on"===mediascape.cameras.podemos&&(n[a].querySelector("#soundCheck"+document.querySelector("#video4").compId).style.pointerEvents="auto"),"on"===mediascape.cameras.bildu&&(n[a].querySelector("#soundCheck"+document.querySelector("#video5").compId).style.pointerEvents="auto"),"on"===mediascape.cameras.pp&&(n[a].querySelector("#soundCheck"+document.querySelector("#video6").compId).style.pointerEvents="auto"))},this.hide=function(){document.querySelector("#fullTemp").style.display="none",document.querySelector("#menuButtonP").style.display="none",this.showing=!1,""===this.activeSection?document.querySelector("#fullTemp").style.width="auto":document.querySelector("#fullTemp").style.width="100%"},this.show=function(){document.querySelector("#fullTemp").style.display="block",document.querySelector("#menuButtonP").style.display="",this.showing=!0,""===this.activeSection?document.querySelector("#fullTemp").style.width="auto":document.querySelector("#fullTemp").style.width="100%"},this.enableClicks=function(){var e=this;setTimeout(function(){e.enabled=!0,"block"===document.querySelector("#loadingNotif").style.display&&(console.log("KENDUTA"),mediascape.AdaptationToolkit.uiComponents.unloadingNotification())},e.securityTime)},this.controlPanel()},a=function(){this.text="",this.icon="",this.aSection="",this.id="",this.setText=function(e){this.text=e},this.setIcon=function(e){this.icon=e},this.setTextId=function(e){this.textId=e},this.setSection=function(e){this.aSection=e},this.getId=function(){return this.aSection},this.render=function(e,t){var n=document.createElement("li");n.addEventListener("click",this.onclick.bind(this)),n.id=this.aSection,n.tabIndex=1;var a=this;n.onfocus=function(e){n.addEventListener("keyDown",function(e){17===e.keyCode&&a.onclick.bind(a)})};var o=document.createElement("a"),i=document.createElement("span"),r=document.createElement("i");r.className=this.icon,i.appendChild(r);var s=document.createElement("strong");return s.innerHTML=this.text,s.id=this.textId,i.appendChild(s),o.appendChild(i),"AddDevice"===this.aSection?(n.className="options",n.onfocus=function(){o.style.backgroundColor="orange"},n.onblur=function(){o.style.backgroundColor=""}):(n.onfocus=function(){o.style.backgroundColor="orange"},n.onblur=function(){o.style.backgroundColor=""}),n.appendChild(o),n.setAttribute("style","nav-down:#"+e+";nav-up:#"+t+";"),n},this.onclick=function(e){console.log(this.aSection),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSection(this.aSection,"same")}},o=function(){this.items=[],this.addItem=function(e){this.items.push(e)},this.render=function(){var e=document.createElement("div");e.className="col-md-2 col-sm-2 menu-sidebar fixed";var t=new r;e.appendChild(t.render());var n=new i,a=n.render();e.appendChild(a);var o=document.createElement("div");o.className="sidebar-menu";var d=document.createElement("ul"),p=new s;d.appendChild(p.render());var m=this;if(this.items.forEach(function(e,t){t!==m.items.length-1&&0!==t?d.appendChild(e.render(m.items[t+1].aSection,m.items[t-1].aSection)):t!==m.items.length-1&&0===t?d.appendChild(e.render(m.items[t+1].aSection,"hide")):t===m.items.length-1&&0!==t&&(mediascape.deviceType.toLowerCase().indexOf("tv")>-1?d.appendChild(e.render("cappli",m.items[t-1].aSection)):d.appendChild(e.render("fullli",m.items[t-1].aSection)))}),mediascape.deviceType.toLowerCase().indexOf("tv")===-1){var h=new l;d.appendChild(h.render())}if(mediascape.deviceType.toLowerCase().indexOf("tv")>-1){var g=new c;d.appendChild(g.render())}var f=new u;return d.appendChild(f.render()),o.appendChild(d),e.appendChild(o),e}},i=function(){this.num="",this.setNum=function(e){this.num=e},this.render=function(){var e=document.createElement("div");e.className="mydevice";var t=document.createElement("img");return t.src="",t.id="devNum",e.appendChild(t),e}},r=function(){this.render=function(){var e=document.createElement("div");e.className="lang";var t=document.createElement("a");t.innerHTML="eu",t.className="active",t.tabIndex=1,t.id="langeu";var n=document.createElement("span");n.innerHTML=" | ";var a=document.createElement("a");return a.innerHTML="es",a.tabIndex=1,a.id="langes",t.onfocus=function(){t.style.border="5px solid orange"},t.onblur=function(){t.style.border=""},mediascape.deviceType.toLowerCase().indexOf("tv")>-1?t.setAttribute("style","nav-right:#langes;nav-up:#graphics;nav-down:#hide;"):t.setAttribute("style","nav-right:#langes;nav-up:#fullli;nav-down:#hide;"),a.onfocus=function(){a.style.border="5px solid orange"},a.onblur=function(){a.style.border=""},mediascape.deviceType.toLowerCase().indexOf("tv")>-1?a.setAttribute("style","nav-left:#langeu;nav-up:#cappli;nav-down:#hide;"):a.setAttribute("style","nav-left:#langeu;nav-up:#fullli;nav-down:#hide;"),t.onclick=function(){mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0&&(mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,setTimeout(function(){t.className="active",a.className="",mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setAppAttribute("language","eu"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500))},a.onclick=function(){mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0&&(mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,setTimeout(function(){t.className="",a.className="active",mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setAppAttribute("language","es"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500))},e.appendChild(t),e.appendChild(n),e.appendChild(a),e}},s=function(){this.render=function(){var e=document.createElement("li");e.className="options";var t=document.createElement("a"),n=document.createElement("span"),a=document.createElement("i");a.className="zmdi zmdi-chevron-left",n.appendChild(a);var o=document.createElement("strong");
return o.innerHTML="Hide",o.id="stronghide",n.appendChild(o),t.appendChild(n),e.appendChild(t),e.onfocus=function(e){t.style.backgroundColor="orange"},e.onblur=function(){t.style.backgroundColor=""},e.id="hide",e.tabIndex=1,e.setAttribute("style","nav-down:#AddDevice;nav-up:#langeu;"),e.onclick=function(e){mediascape.AdaptationToolkit.uiComponents.ctrlPanel.hide()},e}},l=function(){this.render=function(){var e=document.createElement("li"),t=document.createElement("a"),n=document.createElement("span"),a=document.createElement("i");a.className="zmdi zmdi-fullscreen",n.appendChild(a);var o=document.createElement("strong");return o.innerHTML="FullScreen",o.id="strongfull",n.appendChild(o),t.appendChild(n),e.appendChild(t),e.onfocus=function(e){t.style.backgroundColor="orange"},e.onblur=function(){t.style.backgroundColor=""},e.id="fullli",e.tabIndex=1,e.setAttribute("style","nav-down:#langeu;nav-up:#graphics;"),e.onclick=function(e){mediascape.AdaptationToolkit.uiComponents.toggleFullScreen(),document.querySelector("#devNum").setAttribute("src",mediascape.AdaptationToolkit.uiComponents.ctrlPanel.selfDev),document.querySelector("#tabDevId").setAttribute("src",mediascape.AdaptationToolkit.uiComponents.ctrlPanel.selfDev)},e}},c=function(){this.render=function(){var e=document.createElement("li"),t=document.createElement("a"),n=document.createElement("span"),a=document.createElement("i");a.className="zmdi zmdi-close-circle",n.appendChild(a);var o=document.createElement("strong");return o.innerHTML="CloseApp",o.id="strongcloseapp",n.appendChild(o),t.appendChild(n),e.appendChild(t),e.onfocus=function(e){t.style.backgroundColor="orange"},e.onblur=function(){t.style.backgroundColor=""},e.id="cappli",e.tabIndex=1,e.setAttribute("style","nav-down:#langeu;nav-up:#graphics;"),e.onclick=function(e){var t=document.appmgr.getOwnerApplication(document);t.destroyApplication()},e}},u=function(){this.render=function(){var e=document.createElement("li");e.className="vicomtechlogo-li";var t=document.createElement("img");t.src="../resources/configPanel/img/logo-etb-menu.png";var n=document.createElement("img");return n.className="vicomtechlogo",n.src="../resources/configPanel/img/LogoVicomtech.png",e.appendChild(t),e.appendChild(n),e}},d=function(){this.items=[],this.name="",this.setName=function(e){this.name=e},this.addItem=function(e){this.items.push(e)},this.render=function(e){var t=document.createElement("div");"AddDevice"===this.name?t.className="col-md-10 col-md-offset-2 template-content section-add-device":t.className="col-md-10 col-md-offset-2 template-content";var n=this;return this.items.forEach(function(a){n.name.indexOf("cameras")>-1||n.name.indexOf("radio")?t.appendChild(a.render(e)):t.appendChild(a.render())}),t.style.display="none",t}},p=function(){this.icon="",this.setIcon=function(e){this.icon=e},this.setID=function(e){this.id=e},this.render=function(){var e=document.createElement("div");e.addEventListener("click",this.onclick.bind(this));var t=document.createElement("a");t.tabIndex=1,t.onfocus=function(){e.style.border="solid 5px orange"},t.onblur=function(){e.style.border=""},t.addEventListener("click",this.onclick.bind(this));var n=document.createElement("img");return n.src="../resources/configPanel/img/devices/"+this.icon,t.appendChild(n),e.appendChild(t),e},this.onclick=function(e){mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSection(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeSection,this.id)}},m=function(){this.devices=[],this.addDevice=function(e){this.devices.push(e)},this.removeDevice=function(e){for(var t=0;t<this.devices.length;t++)this.devices[t].id===e&&this.devices.splice(t,1)},this.render=function(){var e=document.createElement("div");e.className="all-boxdevices";var t=this;return this.devices.forEach(function(n,a){var o=document.createElement("div");o.id=n.id,o.className="col-md-"+12/t.devices.length+" col-xs-"+12/t.devices.length+" boxdevice",o.appendChild(n.render()),e.appendChild(o)}),e}},h=function(){this.image="",this.name="",this.setImage=function(e){this.image=e},this.setName=function(e){this.name=e},this.render=function(e){var t=document.createElement("div");t.className="col-md-6 boxlayout";var n=document.createElement("a");if(n.id=this.name+"Layout","carousel"===this.name){var a=document.createElement("div");a.id="ctrlDiv",a.style.position="absolute",a.style.bottom="10px",a.style.width="20%",a.style.left="40%";var o=document.createElement("img");o.src="../resources/images/Previous-256.png",o.style.width="30px",o.style.height="30px",o.id="previous";var i=document.createElement("img");i.src="../resources/images/Next-256.png",i.style.width="30px",i.style.height="30px",i.style.marginLeft="10px",i.id="next",a.appendChild(o),a.appendChild(i),n.appendChild(a),a.style.display="none",o.addEventListener("click",this.prevClick.bind(this)),i.addEventListener("click",this.nextClick.bind(this))}this.name===e&&(n.className="active","carousel"===e&&(a.style.display="block"));var r=document.createElement("img");r.src=this.image,t.tabIndex=0,t.onfocus=function(){t.style.border="solid 5px orange"};return t.onblur=function(){t.style.border=""},t.addEventListener("click",this.onclick.bind(this)),n.appendChild(r),t.appendChild(n),t},this.onclick=function(e){if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1;var t=this;setTimeout(function(){var e=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.changeAgentlayout(e,t.name),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeLayout(e,t.name),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}},this.prevClick=function(e){e.preventDefault();var t=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setLayoutParameter(t,{type:"prev",time:e.timeStamp})},this.nextClick=function(e){e.preventDefault();var t=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setLayoutParameter(t,{type:"next",time:e.timeStamp})}},g=function(){this.layouts=[],this.activeLayout="",this.addLayout=function(e){this.layouts.push(e)},this.setActiveLayout=function(e){this.activeLayout=e},this.render=function(){var e=document.createElement("div");e.className="template-content-center",e.id="layoutCont";var t=document.createElement("div");t.className="col-md-12 layout-columns";var n=this;return this.layouts.forEach(function(e){t.appendChild(e.render(n.activeLayout))}),e.appendChild(t),e}},f=function(e){this.render=function(){var t=document.createElement("div");t.className="template-content-center add-device-content";var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;document.querySelector("#qr-code-content")&&document.querySelector(".add-device-content").removeChild(document.querySelector("#qr-code-content"));var a=document.createElement("div");a.className="qr-code-content",a.id="qr-code-content",n<767?leftMargin=35*n/100:leftMargin=25*n/100;var o=document.createElement("div");o.id="animated-example",o.className="animated bounceInUp qr-code-toy";var i=document.createElement("img");i.src="../resources/configPanel/img/QR-manos_grande.png",o.appendChild(i);var r=document.createElement("p");return r.id="qrexplanation",r.innerHTML="Escanea el codigo QR o introduce la url para aadir otro dispositivo",t.appendChild(r),t.appendChild(a),t.appendChild(o),"mobile"===mediascape.deviceType.toLowerCase()?mediascape.association.doAssociation("qr","qr-code-content",e,!0,50*n/100,50*n/100,30*n/100,0):mediascape.association.doAssociation("qr","qr-code-content",e,!0,30*n/100,30*n/100,leftMargin,0),t}},y=function(){this.setImage=function(e){this.image=e},this.setID=function(e){this.id=e},this.setName=function(e){this.name=e},this.setViewStatus=function(e){this.viewStatus=e},this.setSoundStatus=function(e){this.soundStatus=e},this.render=function(){var e=document.createElement("div");e.className="col-md-12 camara";var t=document.createElement("div");t.className="col-md-6 col-sm-6 camara-logo-partidos";var n=document.createElement("img");n.src=this.image,t.appendChild(n);var a=document.createElement("div");a.className="col-md-6 col-sm-6 camara-all-switch";var o=document.createElement("div");o.className="col-md-12";var i=document.createElement("div");i.className="col-md-3 col-sm-3 iconos-camara";var r=document.createElement("i");r.className="zmdi zmdi-videocam zmdi-hc-2x",i.appendChild(r);var s=document.createElement("paper-switch");s.id="viewCheck"+this.id,s.className="col-md-8 col-sm-8 check-switch-camara",s.setAttribute("val",this.viewStatus),s.addEventListener("click",this.viewclick.bind(this),!0),s.tabIndex=0,s.onfocus=function(){s.querySelector("#apagado").style.border="solid 5px orange"},s.onblur=function(){s.querySelector("#apagado").style.border=""},o.appendChild(i),o.appendChild(s);var l=document.createElement("div");l.className="col-md-12 divVol";var c=document.createElement("div");c.className="col-md-3 col-sm-3 iconos-camara";var u=document.createElement("i");u.className="zmdi zmdi-volume-up zmdi-hc-2x",c.appendChild(u);var d=document.createElement("paper-switch");return d.id="soundCheck"+this.id,d.className="col-md-8 col-sm-8 check-switch-vol",d.setAttribute("val",this.soundStatus),d.addEventListener("click",this.soundclick.bind(this),!0),d.tabIndex=0,d.onfocus=function(){d.querySelector("#apagado").style.border="solid 5px orange"},d.onblur=function(){d.querySelector("#apagado").style.border=""},l.appendChild(c),l.appendChild(d),a.appendChild(o),a.appendChild(l),e.appendChild(t),e.appendChild(a),e},this.viewclick=function(e){function t(e){if(e.id===i)return e}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,e.preventDefault();var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),a=n.agents,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,i=o,r=a.filter(t),s=this,l=r[0].capabilities.componentsStatus.filter(function(e,t){if(e.compId===s.id)return e}),c="";"video2"===s.name?c=mediascape.cameras.pnv:"video3"===s.name?c=mediascape.cameras.pse:"video4"===s.name?c=mediascape.cameras.podemos:"video5"===s.name?c=mediascape.cameras.bildu:"video6"===s.name&&(c=mediascape.cameras.pp),console.log("viewClick"),setTimeout(function(){l[0].show===!0?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"hide"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!1),setTimeout(function(){l[0].customCmd.lastIndexOf("mutePlayer")===-1&&l[0].customCmd.lastIndexOf("soundPlayer")===-1?"false"===document.querySelector("#"+s.name).ismuted&&(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"offSound"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!1)):l[0].customCmd.lastIndexOf("mutePlayer")<l[0].customCmd.lastIndexOf("soundPlayer")&&(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"offSound"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!1))},1e3)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"show"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,this.id,!0),setTimeout(function(){"on"===c&&(l[0].customCmd.lastIndexOf("offSound")===-1&&l[0].customCmd.lastIndexOf("mutePlayer")===-1&&l[0].customCmd.lastIndexOf("soundPlayer")===-1?"false"!==document.querySelector("#"+s.name).ismuted&&document.querySelector("#"+s.name).ismuted!==!1||(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"soundPlayer"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0)):l[0].customCmd.lastIndexOf("offSound")>l[0].customCmd.lastIndexOf("mutePlayer")?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"onSound"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0)):l[0].customCmd.lastIndexOf("offSound")!==-1&&l[0].customCmd.lastIndexOf("mutePlayer")===-1&&"false"!==document.querySelector("#"+s.name).ismuted&&document.querySelector("#"+s.name).ismuted!==!1?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"onSound"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0)):l[0].customCmd.lastIndexOf("offSound")===-1&&l[0].customCmd.lastIndexOf("mutePlayer")===-1&&l[0].customCmd.lastIndexOf("soundPlayer")!==-1?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"onSound"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0)):l[0].customCmd.lastIndexOf("offSound")===-1&&l[0].customCmd.lastIndexOf("mutePlayer")<l[0].customCmd.lastIndexOf("soundPlayer")&&(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"onSound"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0)))},1e3)),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}},this.soundclick=function(e){function t(e){if(e.id===i)return e}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,e.preventDefault();var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),a=n.agents,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,i=o,r=a.filter(t),s=this,l=r[0].capabilities.componentsStatus.filter(function(e,t){if(e.compId===s.id)return e});console.log("soundClick"),setTimeout(function(){l[0].show===!0&&(l[0].customCmd.lastIndexOf("mutePlayer")===-1&&l[0].customCmd.lastIndexOf("soundPlayer")===-1?"false"===document.querySelector("#"+s.name).ismuted?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"mutePlayer"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!1)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"soundPlayer"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0)):l[0].customCmd.lastIndexOf("mutePlayer")<l[0].customCmd.lastIndexOf("soundPlayer")?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"mutePlayer"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!1)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"soundPlayer"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeSoundSwVal(o,s.id,!0))),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}}},C=function(){this.cameras=[],this.addCamera=function(e){this.cameras.push(e)},this.render=function(e){var t=document.createElement("div");if(t.className="template-content-center ","tv"===e){var n=document.createElement("img");n.id="imgAvisoCam",n.src="../resources/configPanel/img/camara/camconfigeu.png",n.style.position="absolute",n.style.zIndex="9999999999999",n.style.width="50%",n.style.marginLeft="25%",n.style.marginRight="25%",n.style.marginTop="15%",t.appendChild(n)}t.id="camerasCont";var a=document.createElement("div");a.className="col-md-12 layout-columns","tv"===e&&a.setAttribute("style","pointer-events:none;opacity:0.4;");var o=document.createElement("div");o.className="col-md-6";var i=document.createElement("div");i.className="contenido-camaras content-camara";for(var r=0;r<Math.round(this.cameras.length/2);r++)i.appendChild(this.cameras[r].render());o.appendChild(i);var s=document.createElement("div");s.className="col-md-6";var l=document.createElement("div");l.className="contenido-camaras content-camara";for(var r=Math.round(this.cameras.length/2);r<this.cameras.length;r++)l.appendChild(this.cameras[r].render());return s.appendChild(l),a.appendChild(o),a.appendChild(s),t.appendChild(a),t},this.setCamsViewStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.cameras.length;i++){var r=this.cameras[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e}),b[0].show===!0?this.cameras[i].setViewStatus(!0):this.cameras[i].setViewStatus(!1)}},this.setCamsSoundStatus=function(e){console.log("DENTRO");for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=this,r=0;r<this.cameras.length;r++){var s=this.cameras[r].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===s)return e}),b[0].customCmd.lastIndexOf("mutePlayer")===-1&&b[0].customCmd.lastIndexOf("soundPlayer")===-1&&b[0].customCmd.lastIndexOf("offSound")===-1&&b[0].customCmd.lastIndexOf("onSound")===-1?"false"===document.querySelector("#"+this.cameras[r].name).ismuted&&b[0].show===!0?this.cameras[r].setSoundStatus(!0):this.cameras[r].setSoundStatus(!1):b[0].customCmd.lastIndexOf("offSound")===-1&&b[0].customCmd.lastIndexOf("onSound")===-1?b[0].customCmd.lastIndexOf("mutePlayer")<b[0].customCmd.lastIndexOf("soundPlayer")&&b[0].customCmd.lastIndexOf("mutePlayer")!==-1&&b[0].customCmd.lastIndexOf("soundPlayer")!==-1&&b[0].show===!0?this.cameras[r].setSoundStatus(!0):b[0].customCmd.lastIndexOf("mutePlayer")<b[0].customCmd.lastIndexOf("soundPlayer")&&b[0].customCmd.lastIndexOf("mutePlayer")!==-1&&b[0].customCmd.lastIndexOf("soundPlayer")!==-1&&b[0].show===!1?this.cameras[r].setSoundStatus(!1):b[0].customCmd.lastIndexOf("mutePlayer")===-1&&b[0].customCmd.lastIndexOf("soundPlayer")!==-1&&b[0].show===!0?this.cameras[r].setSoundStatus(!0):b[0].customCmd.lastIndexOf("mutePlayer")===-1&&b[0].customCmd.lastIndexOf("soundPlayer")!==-1&&b[0].show===!1?this.cameras[r].setSoundStatus(!1):b[0].customCmd.lastIndexOf("mutePlayer")!==-1&&b[0].customCmd.lastIndexOf("soundPlayer")===-1?this.cameras[r].setSoundStatus(!1):b[0].show===!0&&this.cameras[r].setSoundStatus(!0):b[0].customCmd.lastIndexOf("offSound")>b[0].customCmd.lastIndexOf("mutePlayer")?this.cameras[r].setSoundStatus(!1):b[0].customCmd.lastIndexOf("offSound")!==-1&&b[0].customCmd.lastIndexOf("mutePlayer")===-1&&"false"!==document.querySelector("#"+i.name).ismuted&&this.cameras[r].setSoundStatus(!1)}}},v=function(){this.setID=function(e){this.id=e},this.setViewStatus=function(e){this.viewStatus=e},this.setHTStatus=function(e){this.HTStatus=e},this.render=function(){var e=document.createElement("div");e.className="col-md-10 twitter-hashtag";var t=document.createElement("div");t.className="col-md-3 col-xs-3 seleccionImg";var n=document.createElement("img");n.src="../resources/configPanel/img/twitter_consombra.png",t.appendChild(n);var a=document.createElement("div");a.className="col-md-6 col-xs-9 seleccion-hashtag";var o=document.createElement("p");o.className="titulo-seccion",o.innerHTML="Hashtag selection",o.id="titTw";var i=document.createElement("p");i.innerHTML="Select the hashtag to show tweets about it",i.id="subTw",a.appendChild(o),a.appendChild(i);var r=document.createElement("paper-switch");return r.id="viewCheck"+this.id,r.className="col-md-3 check-switch-twitter",r.setAttribute("val",this.viewStatus),r.addEventListener("click",this.viewClick.bind(this),!0),r.tabIndex=1,r.onfocus=function(){r.querySelector("#apagado").style.border="solid 5px orange"},r.onblur=function(){r.querySelector("#apagado").style.border=""},e.appendChild(t),e.appendChild(a),e.appendChild(r),e},this.viewClick=function(e){function t(e){if(e.id===i)return e}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,e.preventDefault();var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),a=n.agents,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,i=o,r=a.filter(t),s=this,l=r[0].capabilities.componentsStatus.filter(function(e,t){if(e.compId===s.id)return e});setTimeout(function(){console.log("viewClick"),l[0].show===!0?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"hide"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!1)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"show"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!0)),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}}},N=function(){this.viewerComp=[],this.mapComp=[],this.addViewerComp=function(e){this.viewerComp.push(e)},this.addMapComp=function(e){this.mapComp.push(e)},this.render=function(){var e=document.createElement("div");e.className="template-content-center",e.id="twCont";var t=document.createElement("div");return t.className="col-md-12 layout-columns twitter-selector-container",t.appendChild(this.viewerComp[0].render()),e.appendChild(t),e},this.setViewerViewStatus=function(e){var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=this.viewerComp[0].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===i)return e}),b[0].show===!0?this.viewerComp[0].setViewStatus(!0):this.viewerComp[0].setViewStatus(!1)},this.setViewerHTStatus=function(e){var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=["","#FelizMiercoles","#DiadelosMuseos","#ALaCalle28M","#RiveraenCOPE","#QueensSpeech"],i=n.filter(function(e){if(e.id===a)return e}),r=this.viewerComp[0].id;if(b=i[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e}),0===b[0].customCmd.length)this.viewerComp[0].setHTStatus("");else{for(var s=-1,l=0;l<o.length;l++)b[0].customCmd.lastIndexOf(o[l])>s&&(s=b[0].customCmd.lastIndexOf(o[l]));s!==-1?this.viewerComp[0].setHTStatus(b[0].customCmd[s]):this.viewerComp[0].setHTStatus("")}},this.setMapViewStatus=function(e){var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=this.mapComp[0].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===i)return e}),b[0].show===!0?this.mapComp[0].setViewStatus(!0):this.mapComp[0].setViewStatus(!1)}},w=function(){this.setID=function(e){this.id=e},this.setName=function(e){this.name=e},this.setViewStatus=function(e){this.viewStatus=e},this.setPlaceStatus=function(e){this.activePlace=e},this.setTipoStatus=function(e){this.tipo=e},this.render=function(){var e=document.createElement("div");e.className="col-md-12 tabla";var t=document.createElement("div");t.className="col-md-8 col-sm-8 col-xs-8 cityName";var n=document.createElement("p");n.className="text_ciudad",n.innerHTML="TABLA DE RESULTADOS",n.id="ptabla"+this.name,t.appendChild(n);var a=document.createElement("paper-switch");a.id="viewCheck"+this.id,a.className="col-md-4 col-sm-4 check-switch-eitb",a.setAttribute("val",this.viewStatus),a.addEventListener("click",this.viewclick.bind(this),!0),a.tabIndex=1,a.onfocus=function(){a.querySelector("#apagado").style.border="solid 5px orange"},a.onblur=function(){a.querySelector("#apagado").style.border=""},e.appendChild(t),e.appendChild(a);var o={zonas:[{Z:1,N:"Alava-Araba",O:28,NE:"Araba",NC:"Alava",C:1984},{Z:2,N:"Vizcaya",O:28,NE:"Bizkaia",NC:"Bizkaia",C:1984},{Z:3,N:"Guipuzcoa",O:28,NE:"Gipuzkoa",NC:"Guipzcoa",C:1984},{Z:5,N:"CAV-EAE",O:28,NE:"EAE",NC:"CAV",C:1984}]},i={zonas:[{Z:1001,N:"Alegra-Dulantzi",O:28,NE:"Dulantzi",NC:"Alegra-Dulantzi",C:1984},{Z:1002,N:"Amurrio",O:29,NE:"Amurrio",NC:"Amurrio",C:8139},{Z:1049,N:"Aana",O:63,NE:"Aana",NC:"Aana",C:140},{Z:1003,N:"Aramaio",O:30,NE:"Aramaio",NC:"Aramaio",C:1186},{Z:1006,N:"Armin",O:32,NE:"Armion",NC:"Armin",C:176},{Z:1037,N:"Arraia-Maeztu",O:55,NE:"Arraia-Maeztu",NC:"Arraia-Maeztu",C:586},{Z:1008,N:"Arratzua-Ubarrundia",O:33,NE:"Arratzua-Ubarrundia",NC:"Arratzua-Ubarrundia",C:790},{Z:1004,N:"Artziniega",O:31,NE:"Artziniega",NC:"Artziniega",C:1405},{Z:1009,N:"Asparrena",O:34,NE:"Asparrena",NC:"Asparrena",C:1281},{Z:1010,N:"Ayala/Aiara",O:35,NE:"Aiara",NC:"Ayala",C:2275},{Z:1011,N:"Baos de Ebro/Maueta",O:36,NE:"Maueta",NC:"Baos de Ebro",C:237},{Z:1013,N:"Barrundia",O:37,NE:"Barrundia",NC:"Barrundia",C:711},{Z:1014,N:"Berantevilla",O:38,NE:"Berantevilla",NC:"Berantevilla",C:372},{Z:1016,N:"Bernedo",O:39,NE:"Bernedo",NC:"Bernedo",C:439},{Z:1017,N:"Campezo/Kanpezu",O:40,NE:"Kanpezu",NC:"Campezo",C:869},{Z:1021,N:"Elburgo/Burgelu",O:44,NE:"Burgu",NC:"Elburgo",C:460},{Z:1022,N:"Elciego",O:45,NE:"Eltziego",NC:"Elciego",C:805},{Z:1023,N:"Elvillar/Bilar",O:46,NE:"Bilar",NC:"Elvillar",C:269},{Z:1901,N:"Irua Oka/Irua de Oca",O:76,NE:"Irua Oka",NC:"Irua de Oca",C:2344},{Z:1027,N:"Iruraiz-Gauna",O:47,NE:"Iruraitz-Gauna",NC:"Iruraitz-Gauna",C:416},{Z:1019,N:"Kripan",O:42,NE:"Kripan",NC:"Kripan",C:144},{Z:1020,N:"Kuartango",O:43,NE:"Kuartango",NC:"Kuartango",C:326},{Z:1028,N:"Labastida",O:48,NE:"Bastida",NC:"Labastida",C:1077},{Z:1030,N:"Lagrn",O:49,NE:"Lagran",NC:"Lagrn",C:159},{Z:1031,N:"Laguardia",O:50,NE:"Guardia",NC:"Laguardia",C:1183},{Z:1032,N:"Lanciego/Lantziego",O:51,NE:"Lantziego",NC:"Lanciego",C:522},{Z:1902,N:"Lantarn",O:77,NE:"Lantaron",NC:"Lantarn",C:738},{Z:1033,N:"Lapuebla de Labarca",O:52,NE:"Lapuebla de Labarca",NC:"Lapuebla de Labarca",C:649},{Z:1058,N:"Legutiano",O:71,NE:"Legutio",NC:"Legutio",C:1327},{Z:1034,N:"Leza",O:53,NE:"Leza",NC:"Leza",C:165},{Z:1036,N:"Llodio/Laudio",O:54,NE:"Laudio",NC:"Llodio",C:15034},{Z:1039,N:"Moreda de Alava",O:56,NE:"Moreda Araba",NC:"Moreda de Alava",C:202},{Z:1041,N:"Navaridas",O:57,NE:"Navaridas",NC:"Navaridas",C:153},{Z:1042,N:"Okondo",O:58,NE:"Okondo",NC:"Okondo",C:901},{Z:1043,N:"Oyn/Oion",O:59,NE:"Oion",NC:"Oyn",C:2318},{Z:1044,N:"Peacerrada-Urizaharra",O:60,NE:"Urizaharra",NC:"Peacerrada",C:236},{Z:1046,N:"Ribera Alta",O:61,NE:"Erriberagoitia",NC:"Ribera Alta",C:594},{Z:1047,N:"Ribera Baja/Erribera Beitia",O:62,NE:"Erriberabeitia",NC:"Ribera Baja",C:964},{Z:1051,N:"Salvatierra/Agurain",O:64,NE:"Agurain",NC:"Salvatierra",C:3606},{Z:1052,N:"Samaniego",O:65,NE:"Samaniego",NC:"Samaniego",C:244},{Z:1053,N:"San Milln/Donemiliaga",O:66,NE:"Donemiliaga",NC:"San Milln",C:587},{Z:1054,N:"Urkabustaiz",O:67,NE:"Urkabustaiz",NC:"Urkabustaiz",C:952},{Z:1055,N:"Valdegova/Gaubea",O:68,NE:"Gaubea",NC:"Valdegova",C:836},{Z:1056,N:"Harana/Valle de Arana",O:69,NE:"Harana",NC:"Valle de Arana",C:218},{Z:1057,N:"Villabuena de Alava/Eskuernaga",O:70,NE:"Villabuena",NC:"Villabuena de Alava",C:245},{Z:10,N:"Gasteiz",O:7,NE:"Gasteiz",NC:"Vitoria-Gasteiz",C:186354},{Z:1060,N:"Ycora/Iekora",O:72,NE:"Ekora",NC:"Ycora",C:199},{Z:1061,N:"Zalduondo",O:73,NE:"Zalduondo",NC:"Zalduondo",C:153},{Z:1062,N:"Zambrana",O:74,NE:"Zanbrana",NC:"Zambrana",C:314},{Z:1018,N:"Zigoitia",O:41,NE:"Zigoitia",NC:"Zigoitia",C:1370},{Z:1063,N:"Zuia",O:75,NE:"Zuia",NC:"Zuia",C:1799}]},r={zonas:[{Z:2001,N:"Abadio",O:81,NE:"Abadio",NC:"Abadio",C:5832},{Z:2002,N:"Abanto y Cirvana/Abanto Zierbena",O:82,NE:"Abanto",NC:"Abanto y Cirvana",C:7851},{Z:2911,N:"Ajangiz",O:187,NE:"Ajangiz",NC:"Ajangiz",C:382},{Z:2912,N:"Alonsotegi",O:188,NE:"Alonsotegi",NC:"Alonsotegi",C:2308},{Z:2003,N:"Amorebieta-Etxano",O:83,NE:"Zornotza",NC:"Amorebieta-Etxano",C:14338},{Z:2004,N:"Amoroto",O:84,NE:"Amoroto",NC:"Amoroto",C:334},{Z:2005,N:"Arakaldo",O:85,NE:"Arakaldo",NC:"Arakaldo",C:117},{Z:2006,N:"Arantzazu",O:86,NE:"Arantzazu",NC:"Arantzazu",C:289},{Z:2093,N:"Areatza",O:172,NE:"Areatza",NC:"Areatza",C:900},{Z:2009,N:"Arrankudiaga",O:89,NE:"Arrankudiaga",NC:"Arrankudiaga",C:786},{Z:2914,N:"Arratzu",O:190,NE:"Arratzu",NC:"Arratzu",C:330},{Z:2010,N:"Arrieta",O:90,NE:"Arrieta",NC:"Arrieta",C:457},{Z:2011,N:"Arrigorriaga",O:91,NE:"Arrigorriaga",NC:"Arrigorriaga",C:9692},{Z:2023,N:"Artea",O:102,NE:"Arteaga",NC:"Artea",C:594},{Z:2008,N:"Arcentales",O:88,NE:"Artzentales",NC:"Artzentales",C:617},{Z:2091,N:"Atxondo",O:170,NE:"Atxondo",NC:"Atxondo",C:1134},{Z:2070,N:"Aulesti",O:149,NE:"Aulesti",NC:"Aulesti",C:545},{Z:2012,N:"Bakio",O:92,NE:"Bakio",NC:"Bakio",C:2041},{Z:2090,N:"Balmaseda",O:169,NE:"Balmaseda",NC:"Balmaseda",C:6022},{Z:2013,N:"Barakaldo",O:93,NE:"Barakaldo",NC:"Barakaldo",C:79984},{Z:2014,N:"Barrika",O:94,NE:"Barrika",NC:"Barrika",C:1218},{Z:2015,N:"Basauri",O:95,NE:"Basauri",NC:"Basauri",C:33690},{Z:2092,N:"Bedia",O:171,NE:"Bedia",NC:"Bedia",C:837},{Z:2016,N:"Berango",O:96,NE:"Berango",NC:"Berango",C:5260},{Z:2017,N:"Bermeo",O:97,NE:"Bermeo",NC:"Bermeo",C:13290},{Z:2018,N:"Berriatua",O:98,NE:"Berriatua",NC:"Berriatua",C:875},{Z:2019,N:"Berriz",O:99,NE:"Berriz",NC:"Berriz",C:3594},{Z:20,N:"Bilbao",O:8,NE:"Bilbo",NC:"Bilbao",C:274076},{Z:2021,N:"Busturia",O:100,NE:"Busturia",NC:"Busturia",C:1352},{Z:2901,N:"Derio",O:177,NE:"Derio",NC:"Derio",C:4775},{Z:2026,N:"Dima",O:105,NE:"Dima",NC:"Dima",C:1134},{Z:2027,N:"Durango",O:106,NE:"Durango",NC:"Durango",C:22033},{Z:2028,N:"Ea",O:107,NE:"Ea",NC:"Ea",C:715},{Z:2031,N:"Elantxobe",O:110,NE:"Elantxobe",NC:"Elantxobe",C:340},{Z:2032,N:"Elorrio",O:111,NE:"Elorrio",NC:"Elorrio",C:5735},{Z:2902,N:"Erandio",O:178,NE:"Erandio",NC:"Erandio",C:19124},{Z:2033,N:"Ereo",O:112,NE:"Ereo",NC:"Ereo",C:215},{Z:2034,N:"Ermua",O:113,NE:"Ermua",NC:"Ermua",C:12902},{Z:2079,N:"Errigoiti",O:158,NE:"Errigoiti",NC:"Errigoiti",C:425},{Z:2029,N:"Etxebarri Anteiglesia de San Esteban",O:108,NE:"Etxebarri",NC:"Etxebarri",C:8332},{Z:2030,N:"Etxebarria",O:109,NE:"Etxebarria",NC:"Etxebarria",C:608},{Z:2906,N:"Forua",O:182,NE:"Forua",NC:"Forua",C:775},{Z:2035,N:"Fruiz",O:114,NE:"Fruiz",NC:"Fruiz",C:412},{Z:2036,N:"Galdakao",O:115,NE:"Galdakao",NC:"Galdakao",C:24144},{Z:2037,N:"Galdames",O:116,NE:"Galdames",NC:"Galdames",C:678},{Z:2038,N:"Gamiz-Fika",O:117,NE:"Gamiz-Fika",NC:"Gamiz-Fika",C:1122},{Z:2039,N:"Garai",O:118,NE:"Garai",NC:"Garai",C:243},{Z:2040,N:"Gatika",O:119,NE:"Gatika",NC:"Gatika",C:1299},{Z:2041,N:"Gautegiz Arteaga",O:120,NE:"Gautegiz-Arteaga",NC:"Gautegiz-Arteaga",C:704},{Z:2046,N:"Gernika-Lumo",O:125,NE:"Gernika-Lumo",NC:"Gernika-Lumo",C:12617},{Z:2044,N:"Getxo",O:123,NE:"Getxo",NC:"Getxo",C:62989},{Z:2047,N:"Gizaburuaga",O:126,NE:"Gizaburuaga",NC:"Gizaburuaga",C:161},{Z:2042,N:"Gordexola",O:121,NE:"Gordexola",NC:"Gordexola",C:1384},{Z:2043,N:"Gorliz",O:122,NE:"Gorliz",NC:"Gorliz",C:4403},{Z:2045,N:"Gees",O:124,NE:"Guees",NC:"Gees",C:5149},{Z:2048,N:"Ibarrangelu",O:127,NE:"Ibarrangelu",NC:"Ibarrangelu",C:562},{Z:2094,N:"Igorre",O:173,NE:"Igorre",NC:"Igorre",C:3193},{Z:2049,N:"Ispaster",O:128,NE:"Ispaster",NC:"Ispaster",C:548},{Z:2910,N:"Iurreta",O:186,NE:"Iurreta",NC:"Iurreta",C:2948},{Z:2050,N:"Izurtza",O:129,NE:"Izurtza",NC:"Izurtza",C:198},{Z:2907,N:"Kortezubi",O:183,NE:"Kortezubi",NC:"Kortezubi",C:355},{Z:2051,N:"Lanestosa",O:130,NE:"Lanestosa",NC:"Lanestosa",C:220},{Z:2052,N:"Larrabetzu",O:131,NE:"Larrabetzu",NC:"Larrabetzu",C:1559},{Z:2053,N:"Laukiz",O:132,NE:"Laukiz",NC:"Laukiz",C:900},{Z:2054,N:"Leioa",O:133,NE:"Leioa",NC:"Leioa",C:24135},{Z:2057,N:"Lekeitio",O:136,NE:"Lekeitio",NC:"Lekeitio",C:5749},{Z:2055,N:"Lemoa",O:134,NE:"Lemoa",NC:"Lemoa",C:2662},{Z:2056,N:"Lemoiz",O:135,NE:"Lemoiz",NC:"Lemoiz",C:978},{Z:2081,N:"Lezama",O:160,NE:"Lezama",NC:"Lezama",C:1883},{Z:2903,N:"Loiu",O:179,NE:"Loiu",NC:"Loiu",C:1838},{
Z:2058,N:"Mallabia",O:137,NE:"Mallabia",NC:"Mallabia",C:972},{Z:2059,N:"Maaria",O:138,NE:"Maaria",NC:"Maaria",C:402},{Z:2060,N:"Markina-Xemein",O:139,NE:"Markina-Xemein",NC:"Markina-Xemein",C:3645},{Z:2061,N:"Maruri-Jatabe",O:140,NE:"Jatabe",NC:"Maruri-Jatabe",C:762},{Z:2062,N:"Mendata",O:141,NE:"Mendata",NC:"Mendata",C:300},{Z:2063,N:"Mendexa",O:142,NE:"Mendexa",NC:"Mendexa",C:373},{Z:2064,N:"Meaka",O:143,NE:"Meaka",NC:"Meaka",C:603},{Z:2066,N:"Morga",O:145,NE:"Morga",NC:"Morga",C:346},{Z:2068,N:"Mundaka",O:147,NE:"Mundaka",NC:"Mundaka",C:1551},{Z:2069,N:"Mungia",O:148,NE:"Mungia",NC:"Mungia",C:12765},{Z:2007,N:"Munitibar-Arbatzegi Gerrikaitz",O:87,NE:"Munitibar",NC:"Munitibar-Arbatzegi-Gerrikaitz",C:365},{Z:2908,N:"Murueta",O:184,NE:"Murueta",NC:"Murueta",C:245},{Z:2071,N:"Muskiz",O:150,NE:"Muskiz",NC:"Muskiz",C:6118},{Z:2067,N:"Muxika",O:146,NE:"Muxika",NC:"Muxika",C:1161},{Z:2909,N:"Nabarniz",O:185,NE:"Nabarniz",NC:"Nabarniz",C:207},{Z:2073,N:"Ondarroa",O:152,NE:"Ondarroa",NC:"Ondarroa",C:6952},{Z:2074,N:"Ordua",O:153,NE:"Urdua",NC:"Ordua",C:3333},{Z:2075,N:"Orozko",O:154,NE:"Orozko",NC:"Orozko",C:1975},{Z:2083,N:"Ortuella",O:162,NE:"Ortuella",NC:"Ortuella",C:6950},{Z:2072,N:"Otxandio",O:151,NE:"Otxandio",NC:"Otxandio",C:974},{Z:2077,N:"Plentzia",O:156,NE:"Plentzia",NC:"Plentzia",C:3367},{Z:2078,N:"Portugalete",O:157,NE:"Portugalete",NC:"Portugalete",C:38742},{Z:2082,N:"Santurtzi",O:161,NE:"Santurtzi",NC:"Santurtzi",C:37673},{Z:2084,N:"Sestao",O:163,NE:"Sestao",NC:"Sestao",C:22577},{Z:2904,N:"Sondika",O:180,NE:"Sondika",NC:"Sondika",C:3504},{Z:2085,N:"Sopelana",O:164,NE:"Sopela",NC:"Sopela",C:10301},{Z:2086,N:"Sopuerta",O:165,NE:"Sopuerta",NC:"Sopuerta",C:2073},{Z:2076,N:"Sukarrieta",O:155,NE:"Sukarrieta",NC:"Sukarrieta",C:314},{Z:2087,N:"Trucios-Turtzioz",O:166,NE:"Turtzioz",NC:"Trucios",C:429},{Z:2088,N:"Ubide",O:167,NE:"Ubide",NC:"Ubide",C:135},{Z:2065,N:"Ugao-Miraballes",O:144,NE:"Ugao",NC:"Ugao-Miraballes",C:3315},{Z:2089,N:"Urduliz",O:168,NE:"Urduliz",NC:"Urduliz",C:3266},{Z:2022,N:"Carranza",O:101,NE:"Karrantza",NC:"Valle de Carranza",C:2355},{Z:2080,N:"Valle de Trpaga-Trapagaran",O:159,NE:"Trapagaran",NC:"Valle de Trpaga",C:9971},{Z:2095,N:"Zaldibar",O:174,NE:"Zaldibar",NC:"Zaldibar",C:2352},{Z:2096,N:"Zalla",O:175,NE:"Zalla",NC:"Zalla",C:6608},{Z:2905,N:"Zamudio",O:181,NE:"Zamudio",NC:"Zamudio",C:2565},{Z:2097,N:"Zaratamo",O:176,NE:"Zaratamo",NC:"Zaratamo",C:1303},{Z:2024,N:"Zeanuri",O:103,NE:"Zeanuri",NC:"Zeanuri",C:1003},{Z:2025,N:"Zeberio",O:104,NE:"Zeberio",NC:"Zeberio",C:883},{Z:2913,N:"Zierbena",O:189,NE:"Zierbena",NC:"Zierbena",C:1251},{Z:2915,N:"Ziortza-Bolibar",O:191,NE:"Ziortza-Bolibar",NC:"Ziortza-Bolibar",C:362}]},s={zonas:[{Z:3001,N:"Abaltzisketa",O:192,NE:"Abaltzisketa",NC:"Abaltzisketa",C:242},{Z:3002,N:"Aduna",O:193,NE:"Aduna",NC:"Aduna",C:343},{Z:3016,N:"Aia",O:207,NE:"Aia",NC:"Aia",C:1514},{Z:3003,N:"Aizarnazabal",O:194,NE:"Aizarnazabal",NC:"Aizarnazabal",C:541},{Z:3004,N:"Albiztur",O:195,NE:"Albiztur",NC:"Albiztur",C:252},{Z:3005,N:"Alegia",O:196,NE:"Alegia",NC:"Alegia",C:1261},{Z:3006,N:"Alkiza",O:197,NE:"Alkiza",NC:"Alkiza",C:262},{Z:3906,N:"Altzaga",O:277,NE:"Altzaga",NC:"Altzaga",C:121},{Z:3007,N:"Altzo",O:198,NE:"Altzo",NC:"Altzo",C:304},{Z:3008,N:"Amezketa",O:199,NE:"Amezketa",NC:"Amezketa",C:721},{Z:3009,N:"Andoain",O:200,NE:"Andoain",NC:"Andoain",C:11528},{Z:3010,N:"Anoeta",O:201,NE:"Anoeta",NC:"Anoeta",C:1494},{Z:3011,N:"Antzuola",O:202,NE:"Antzuola",NC:"Antzuola",C:1660},{Z:3012,N:"Arama",O:203,NE:"Arama",NC:"Arama",C:144},{Z:3013,N:"Aretxabaleta",O:204,NE:"Aretxabaleta",NC:"Aretxabaleta",C:5427},{Z:3014,N:"Asteasu",O:205,NE:"Asteasu",NC:"Asteasu",C:1111},{Z:3903,N:"Astigarraga",O:274,NE:"Astigarraga",NC:"Astigarraga",C:4247},{Z:3015,N:"Ataun",O:206,NE:"Ataun",NC:"Ataun",C:1272},{Z:3017,N:"Azkoitia",O:208,NE:"Azkoitia",NC:"Azkoitia",C:8580},{Z:3018,N:"Azpeitia",O:209,NE:"Azpeitia",NC:"Azpeitia",C:11074},{Z:3904,N:"Baliarrain",O:275,NE:"Baliarrain",NC:"Baliarrain",C:96},{Z:3019,N:"Beasain",O:210,NE:"Beasain",NC:"Beasain",C:10053},{Z:3020,N:"Beizama",O:211,NE:"Beizama",NC:"Beizama",C:129},{Z:3021,N:"Belauntza",O:212,NE:"Belauntza",NC:"Belauntza",C:199},{Z:3022,N:"Berastegi",O:213,NE:"Berastegi",NC:"Berastegi",C:834},{Z:3074,N:"Bergara",O:264,NE:"Bergara",NC:"Bergara",C:11610},{Z:3023,N:"Berrobi",O:214,NE:"Berrobi",NC:"Berrobi",C:445},{Z:3024,N:"Bidania-Goiatz",O:215,NE:"Bidania-Goiatz",NC:"Bidania-Goiatz",C:393},{Z:3029,N:"Deba",O:220,NE:"Deba",NC:"Deba",C:4258},{Z:30,N:"Donostia",O:9,NE:"Donostia",NC:"Donostia-San Sebastin",C:147189},{Z:3030,N:"Eibar",O:221,NE:"Eibar",NC:"Eibar",C:21515},{Z:3031,N:"Elduain",O:222,NE:"Elduain",NC:"Elduain",C:180},{Z:3033,N:"Elgeta",O:224,NE:"Elgeta",NC:"Elgeta",C:864},{Z:3032,N:"Elgoibar",O:223,NE:"Elgoibar",NC:"Elgoibar",C:8785},{Z:3067,N:"Errenteria",O:258,NE:"Errenteria",NC:"Errenteria",C:30825},{Z:3066,N:"Errezil",O:257,NE:"Errezil",NC:"Errezil",C:461},{Z:3034,N:"Eskoriatza",O:225,NE:"Eskoriatza",NC:"Eskoriatza",C:3157},{Z:3035,N:"Ezkio-Itsaso",O:226,NE:"Ezkio-Itsaso",NC:"Ezkio-Itsaso",C:482},{Z:3038,N:"Gabiria",O:229,NE:"Gabiria",NC:"Gabiria",C:392},{Z:3037,N:"Gaintza",O:228,NE:"Gaintza",NC:"Gaintza",C:97},{Z:3907,N:"Gaztelu",O:278,NE:"Gaztelu",NC:"Gaztelu",C:120},{Z:3039,N:"Getaria",O:230,NE:"Getaria",NC:"Getaria",C:2111},{Z:3040,N:"Hernani",O:231,NE:"Hernani",NC:"Hernani",C:15321},{Z:3041,N:"Hernialde",O:232,NE:"Hernialde",NC:"Hernialde",C:258},{Z:3036,N:"Hondarribia",O:227,NE:"Hondarribia",NC:"Hondarribia",C:13148},{Z:3042,N:"Ibarra",O:233,NE:"Ibarra",NC:"Ibarra",C:3251},{Z:3043,N:"Idiazabal",O:234,NE:"Idiazabal",NC:"Idiazabal",C:1740},{Z:3044,N:"Ikaztegieta",O:235,NE:"Ikaztegieta",NC:"Ikaztegieta",C:368},{Z:3045,N:"Irun",O:236,NE:"Irun",NC:"Irun",C:46691},{Z:3046,N:"Irura",O:237,NE:"Irura",NC:"Irura",C:1167},{Z:3047,N:"Itsasondo",O:238,NE:"Itsasondo",NC:"Itsasondo",C:477},{Z:3048,N:"Larraul",O:239,NE:"Larraul",NC:"Larraul",C:176},{Z:3902,N:"Lasarte-Oria",O:273,NE:"Lasarte-Oria",NC:"Lasarte-Oria",C:14193},{Z:3049,N:"Lazkao",O:240,NE:"Lazkao",NC:"Lazkao",C:4124},{Z:3050,N:"Leaburu",O:241,NE:"Leaburu",NC:"Leaburu",C:263},{Z:3051,N:"Legazpi",O:242,NE:"Legazpi",NC:"Legazpi",C:6904},{Z:3052,N:"Legorreta",O:243,NE:"Legorreta",NC:"Legorreta",C:1091},{Z:3068,N:"Leintz-Gatzaga",O:259,NE:"Leintz Gatzaga",NC:"Leintz-Gatzaga",C:183},{Z:3053,N:"Lezo",O:244,NE:"Lezo",NC:"Lezo",C:4765},{Z:3054,N:"Lizartza",O:245,NE:"Lizartza",NC:"Lizartza",C:447},{Z:3901,N:"Mendaro",O:272,NE:"Mendaro",NC:"Mendaro",C:1441},{Z:3055,N:"Arrasate/Mondragn",O:246,NE:"Arrasate",NC:"Mondragn",C:17522},{Z:3057,N:"Mutiloa",O:248,NE:"Mutiloa",NC:"Mutiloa",C:201},{Z:3056,N:"Mutriku",O:247,NE:"Mutriku",NC:"Mutriku",C:4104},{Z:3063,N:"Oiartzun",O:254,NE:"Oiartzun",NC:"Oiartzun",C:7990},{Z:3058,N:"Olaberria",O:249,NE:"Olaberria",NC:"Olaberria",C:746},{Z:3059,N:"Oati",O:250,NE:"Oati",NC:"Oati",C:8863},{Z:3076,N:"Ordizia",O:266,NE:"Ordizia",NC:"Ordizia",C:6978},{Z:3905,N:"Orendain",O:276,NE:"Orendain",NC:"Orendain",C:141},{Z:3060,N:"Orexa",O:251,NE:"Orexa",NC:"Orexa",C:89},{Z:3061,N:"Orio",O:252,NE:"Orio",NC:"Orio",C:4273},{Z:3062,N:"Ormaiztegi",O:253,NE:"Ormaiztegi",NC:"Ormaiztegi",C:982},{Z:3064,N:"Pasaia",O:255,NE:"Pasaia",NC:"Pasaia",C:12526},{Z:3070,N:"Segura",O:260,NE:"Segura",NC:"Segura",C:1099},{Z:3065,N:"Soraluze",O:256,NE:"Soraluze",NC:"Soraluze",C:3006},{Z:3071,N:"Tolosa",O:261,NE:"Tolosa",NC:"Tolosa",C:14818},{Z:3072,N:"Urnieta",O:262,NE:"Urnieta",NC:"Urnieta",C:4731},{Z:3077,N:"Urretxu",O:267,NE:"Urretxu",NC:"Urretxu",C:5243},{Z:3073,N:"Usurbil",O:263,NE:"Usurbil",NC:"Usurbil",C:4677},{Z:3075,N:"Villabona",O:265,NE:"Villabona",NC:"Villabona",C:4359},{Z:3078,N:"Zaldibia",O:268,NE:"Zaldibia",NC:"Zaldibia",C:1155},{Z:3079,N:"Zarautz",O:269,NE:"Zarautz",NC:"Zarautz",C:17835},{Z:3025,N:"Zegama",O:216,NE:"Zegama",NC:"Zegama",C:1144},{Z:3026,N:"Zerain",O:217,NE:"Zerain",NC:"Zerain",C:202},{Z:3027,N:"Zestoa",O:218,NE:"Zestoa",NC:"Zestoa",C:2816},{Z:3028,N:"Zizurkil",O:219,NE:"Zizurkil",NC:"Zizurkil",C:2255},{Z:3081,N:"Zumaia",O:271,NE:"Zumaia",NC:"Zumaia",C:7460},{Z:3080,N:"Zumarraga",O:270,NE:"Zumarraga",NC:"Zumarraga",C:7900}]};if(navigator.appVersion.indexOf("Panasonic")>-1){var l=document.createElement("x-select");l.className="tableSelect";var c=this;l.id="tableSelect"+this.id;for(var u=0;u<o.zonas.length;u++){var d=document.createElement("a");d.id=o.zonas[u].NC+o.zonas[u].Z,d.innerHTML=o.zonas[u].NC,d.setAttribute("value",o.zonas[u].Z),d.tabIndex=1,d.className="dropdown-content-a",d.style.color="black",d.style.paddingLeft="12px",d.style.textDecoration="none",d.style.display="block",d.addEventListener("click",function(e){e.stopPropagation(),l.val=e.target.getAttribute("value"),l.$.selectBut.innerHTML=e.target.innerText,l.focus(),c.sendPlaceclick(e.target.getAttribute("value"))},!0),d.addEventListener("focus",function(e){e.target.style.border="solid 5px orange"}),d.addEventListener("blur",function(e){e.target.style.border=""}),l.$.myDropdown.appendChild(d)}var p=document.createElement("a");p.id="arMun",p.style.fontWeight="bold",p.style.paddingLeft="12px",p.style.fontColor="black",p.innerHTML="Municipios de lava",l.$.myDropdown.appendChild(p);for(var u=0;u<i.zonas.length;u++){var d=document.createElement("a");d.id=i.zonas[u].NC+i.zonas[u].Z,d.innerHTML=i.zonas[u].NC,d.setAttribute("value",i.zonas[u].Z),d.tabIndex=1,d.className="dropdown-content-a",d.style.color="black",d.style.paddingLeft="17px",d.style.textDecoration="none",d.style.display="block",d.addEventListener("click",function(e){e.stopPropagation(),l.val=e.target.getAttribute("value"),l.$.selectBut.innerHTML=e.target.innerText,l.focus(),c.sendPlaceclick(e.target.getAttribute("value"))},!0),d.addEventListener("focus",function(e){e.target.style.border="solid 5px orange"}),d.addEventListener("blur",function(e){e.target.style.border=""}),l.$.myDropdown.appendChild(d)}var m=document.createElement("a");m.id="vizMun",m.style.fontWeight="bold",m.style.paddingLeft="12px",m.innerHTML="Municipios de Bizkaia",l.$.myDropdown.appendChild(m);for(var u=0;u<r.zonas.length;u++){var d=document.createElement("a");d.id=r.zonas[u].NC+r.zonas[u].Z,d.innerHTML=r.zonas[u].NC,d.setAttribute("value",r.zonas[u].Z),d.tabIndex=1,d.className="dropdown-content-a",d.style.color="black",d.style.paddingLeft="17px",d.style.textDecoration="none",d.style.display="block",d.addEventListener("click",function(e){e.stopPropagation(),l.val=e.target.getAttribute("value"),l.$.selectBut.innerHTML=e.target.innerText,l.focus(),c.sendPlaceclick(e.target.getAttribute("value"))},!0),d.addEventListener("focus",function(e){e.target.style.border="solid 5px orange"}),d.addEventListener("blur",function(e){e.target.style.border=""}),l.$.myDropdown.appendChild(d)}var h=document.createElement("a");h.id="gipMun",h.style.fontWeight="bold",h.style.paddingLeft="12px",h.innerHTML="Municipios de Guipuzcoa",l.$.myDropdown.appendChild(h);for(var u=0;u<s.zonas.length;u++){var d=document.createElement("a");d.id=s.zonas[u].NC+s.zonas[u].Z,d.innerHTML=s.zonas[u].NC,d.setAttribute("value",s.zonas[u].Z),d.tabIndex=1,d.className="dropdown-content-a",d.style.color="black",d.style.paddingLeft="17px",d.style.textDecoration="none",d.style.display="block",d.addEventListener("click",function(e){e.stopPropagation(),l.val=e.target.getAttribute("value"),l.$.selectBut.innerHTML=e.target.innerText,l.focus(),c.sendPlaceclick(e.target.getAttribute("value"))},!0),d.addEventListener("focus",function(e){e.target.style.border="solid 5px orange"}),d.addEventListener("blur",function(e){e.target.style.border=""}),l.$.myDropdown.appendChild(d)}l.style.zIndex=999999999999999,l.tabIndex=1,l.onfocus=function(){l.$.selectBut.style.border="solid 5px orange"},l.onblur=function(){l.$.selectBut.style.border=""},l.setAttribute("val",this.activePlace)}else{var c=this,l=document.createElement("select");l.className="form-control tableSelect",l.addEventListener("change",function(e){c.sendPlaceclick(e.target.value)},!0),l.id="tableSelect"+this.id;for(var u=0;u<o.zonas.length;u++){var d=document.createElement("option");d.id=o.zonas[u].NC+o.zonas[u].Z,d.innerHTML=o.zonas[u].NC,d.value=o.zonas[u].Z,l.appendChild(d)}var g=document.createElement("optgroup");g.id="arMun",g.label="Municipios de Alava";for(var u=0;u<i.zonas.length;u++){var d=document.createElement("option");d.id=i.zonas[u].NC+i.zonas[u].Z,d.innerHTML=i.zonas[u].NC,d.value=i.zonas[u].Z,g.appendChild(d)}l.appendChild(g);var g=document.createElement("optgroup");g.id="vizMun",g.label="Municipios de Bizkaia";for(var u=0;u<r.zonas.length;u++){var d=document.createElement("option");d.id=r.zonas[u].NC+r.zonas[u].Z,d.innerHTML=r.zonas[u].NC,d.value=r.zonas[u].Z,g.appendChild(d)}l.appendChild(g);var g=document.createElement("optgroup");g.id="gipMun",g.label="Municipios de Guipuzcoa";for(var u=0;u<s.zonas.length;u++){var d=document.createElement("option");d.id=s.zonas[u].NC+s.zonas[u].Z,d.innerHTML=s.zonas[u].NC,d.value=s.zonas[u].Z,g.appendChild(d)}l.appendChild(g),l.value=this.activePlace,l.tabIndex=1,l.onfocus=function(){l.style.border="solid 5px orange"},l.onblur=function(){l.style.border=""}}return e.appendChild(l),e},this.viewclick=function(e){function t(e){if(e.id===i)return e}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,e.preventDefault();var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),a=n.agents,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,i=o,r=a.filter(t),s=this,l=r[0].capabilities.componentsStatus.filter(function(e,t){if(e.compId===s.id)return e});console.log("viewClick");var c=this;setTimeout(function(){l[0].show===!0?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,c.id,"hide"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,c.id,!1)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,c.id,"show"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,c.id,!0)),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}},this.sendPlaceclick=function(e){if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1;var t=this;setTimeout(function(){var n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,a="tablelug"+e;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(n,t.id,a),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeTablePlace(n,e,t.id),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}}},S=function(){this.setID=function(e){this.id=e},this.setName=function(e){this.name=e},this.setViewStatus=function(e){this.viewStatus=e},this.setTipoStatus=function(e){this.tipo=e},this.setLugarStatus=function(e){this.LugarStatus=e},this.render=function(){var e=document.createElement("div");e.className="col-md-12 tabla";var t=document.createElement("div");t.className="col-md-8 col-sm-8 col-xs-8 cityName";var n=document.createElement("p");n.className="text_ciudad",n.innerHTML="MAPA DE RESULTADOS",n.id="pmapa"+this.name;var a=document.createElement("br");n.appendChild(a);var o=document.createElement("span");o.className="comparative",o.innerHTML="COMPARATIVE",n.appendChild(o),t.appendChild(n);var i=document.createElement("paper-switch");if(i.id="viewCheck"+this.id,i.className="col-md-4 col-sm-4 check-switch-eitb",i.setAttribute("val",this.viewStatus),i.addEventListener("click",this.viewclick.bind(this),!0),i.tabIndex=1,i.onfocus=function(){i.querySelector("#apagado").style.border="solid 5px orange"},i.onblur=function(){i.querySelector("#apagado").style.border=""},navigator.appVersion.indexOf("Panasonic")>-1){var r=document.createElement("x-select");r.className="lugarSelect";var s=this;r.id="lugarSelect"+this.id;for(var l={zonas:[{Z:1,N:"Alava-Araba",O:28,NE:"Araba",NC:"Alava",C:1984},{Z:2,N:"Vizcaya",O:28,NE:"Bizkaia",NC:"Bizkaia",C:1984},{Z:3,N:"Guipuzcoa",O:28,NE:"Gipuzkoa",NC:"Guipzcoa",C:1984},{Z:5,N:"CAV-EAE",O:28,NE:"EAE",NC:"CAV",C:1984}]},c=0;c<l.zonas.length;c++){var u=document.createElement("a");u.id=l.zonas[c].NC+l.zonas[c].Z,u.innerHTML=l.zonas[c].NC,u.setAttribute("value",l.zonas[c].Z),u.tabIndex=1,u.className="dropdown-content-a",u.style.color="black",u.style.paddingLeft="12px",u.style.textDecoration="none",u.style.display="block",u.addEventListener("click",function(e){e.stopPropagation(),r.val=e.target.getAttribute("value"),r.$.selectBut.innerHTML=e.target.innerText,r.focus(),s.sendLugarclick(e.target.getAttribute("value"))},!0),u.addEventListener("focus",function(e){e.target.style.border="solid 5px orange"}),u.addEventListener("blur",function(e){e.target.style.border=""}),r.$.myDropdown.appendChild(u),r.style.zIndex=999999999999999}r.tabIndex=1,r.onfocus=function(){r.$.selectBut.style.border="solid 5px orange"},r.onblur=function(){r.$.selectBut.style.border=""},r.setAttribute("val",this.LugarStatus)}else{var s=this,r=document.createElement("select");r.className="form-control lugarSelect",r.addEventListener("change",function(){s.sendLugarclick(event.target.value)},!0),r.id="lugarSelect"+this.id;for(var l={zonas:[{Z:1,N:"Alava-Araba",O:28,NE:"Araba",NC:"Alava",C:1984},{Z:2,N:"Vizcaya",O:28,NE:"Bizkaia",NC:"Bizkaia",C:1984},{Z:3,N:"Guipuzcoa",O:28,NE:"Gipuzkoa",NC:"Guipzcoa",C:1984},{Z:5,N:"CAV-EAE",O:28,NE:"EAE",NC:"CAV",C:1984}]},c=0;c<l.zonas.length;c++){var u=document.createElement("option");u.id=l.zonas[c].NC+l.zonas[c].Z,u.innerHTML=l.zonas[c].NC,u.value=l.zonas[c].Z,r.appendChild(u)}r.value=this.LugarStatus,r.tabIndex=1,r.onfocus=function(){r.style.border="solid 5px orange"},r.onblur=function(){r.style.border=""}}return e.appendChild(t),e.appendChild(i),e.appendChild(r),e},this.sendLugarclick=function(e){if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1;var t=this;setTimeout(function(){var n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,a="lugar"+e;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(n,t.id,a),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeLugar(n,e,t.id),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}},this.viewclick=function(e){function t(e){if(e.id===i)return e}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,e.preventDefault();var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),a=n.agents,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,i=o,r=a.filter(t),s=this,l=r[0].capabilities.componentsStatus.filter(function(e,t){if(e.compId===s.id)return e});console.log("viewClick"),setTimeout(function(){l[0].show===!0?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"hide"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!1)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"show"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!0)),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}}},E=function(){this.setID=function(e){this.id=e},this.setName=function(e){this.name=e},this.setViewStatus=function(e){this.viewStatus=e},this.setLugarStatus=function(e){this.LugarStatus=e},this.setTipoStatus=function(e){this.tipo=e},this.render=function(){var e=document.createElement("div");e.className="col-md-12 tabla";var t=document.createElement("div");t.className="col-md-8 col-sm-8 col-xs-8 cityName";var n=document.createElement("p");n.className="text_ciudad",n.innerHTML="SECTORES",n.id="pgraph"+this.name;var a=document.createElement("br");n.appendChild(a);var o=document.createElement("span");o.className="comparative",o.innerHTML="COMPARATIVE",n.appendChild(o),t.appendChild(n);var i=document.createElement("paper-switch");return i.id="viewCheck"+this.id,i.className="col-md-4 col-sm-4 check-switch-eitb-pie",i.setAttribute("val",this.viewStatus),i.addEventListener("click",this.viewclick.bind(this),!0),i.tabIndex=1,i.onfocus=function(){i.querySelector("#apagado").style.border="solid 5px orange"},i.onblur=function(){i.querySelector("#apagado").style.border=""},e.appendChild(t),e.appendChild(i),e},this.sendtipo=function(e){if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1;var t=this;setTimeout(function(){var n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,a="pietipo"+e.target.value;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(n,t.id,a),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeTableTipo(n,e.target.value,t.id),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}},this.sendLugarclick=function(e){if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1;var t=this;setTimeout(function(){var n=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,a="pielug"+e;mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(n,t.id,a),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changePiePlace(n,e,t.id),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}},this.viewclick=function(e){function t(e){if(e.id===i)return e}if(mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled===!0){mediascape.AdaptationToolkit.uiComponents.loadingNotification(),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enabled=!1,e.preventDefault();var n=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),a=n.agents,o=mediascape.AdaptationToolkit.uiComponents.ctrlPanel.activeDevice,i=o,r=a.filter(t),s=this,l=r[0].capabilities.componentsStatus.filter(function(e,t){if(e.compId===s.id)return e});console.log("viewClick"),setTimeout(function(){l[0].show===!0?(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"hide"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!1)):(mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.setRemoteAgentComponentStatus(o,s.id,"show"),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.changeViewSwVal(o,s.id,!0)),mediascape.AdaptationToolkit.uiComponents.ctrlPanel.enableClicks()},500)}}},A=function(){this.tableComp=[],this.graphComps=[],this.partyMapComp=[],this.pieComp=[],this.addTableComp=function(e){this.tableComp.push(e)},this.addPartyMapComp=function(e){this.partyMapComp.push(e)},this.addPieComp=function(e){this.pieComp.push(e)},this.render=function(){var e=document.createElement("div");e.className="template-content-center",e.id="graphicCont";var t=document.createElement("div");t.className="col-md-12 layout-columns";var n=document.createElement("div");n.className="col-md-6 clm_2_graph izda";var a=document.createElement("div");a.className="contenido_graphics";var o=document.createElement("div");o.className="col-md-12 ",o.appendChild(this.tableComp[0].render()),o.appendChild(this.partyMapComp[0].render()),o.appendChild(this.pieComp[0].render()),o.appendChild(this.pieComp[2].render());var i=document.createElement("div");i.className="col-md-6 clm_2_graph izda";var r=document.createElement("div");r.className="contenido_graphics ";var s=document.createElement("div");return s.className="col-md-12 ",s.appendChild(this.tableComp[1].render()),s.appendChild(this.partyMapComp[1].render()),s.appendChild(this.pieComp[1].render()),s.appendChild(this.pieComp[3].render()),r.appendChild(s),i.appendChild(r),a.appendChild(o),n.appendChild(a),t.appendChild(n),t.appendChild(i),e.appendChild(t),e},this.setTableViewStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.tableComp.length;i++){var r=this.tableComp[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e}),b[0].show===!0?this.tableComp[i].setViewStatus(!0):this.tableComp[i].setViewStatus(!1)}},this.setTablePlaceStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.tableComp.length;i++){var r=this.tableComp[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e});var s=_.filter(b[0].customCmd,function(e){return e.indexOf("tablelug")!==-1});if(0===s.length)if(void 0!==document.querySelector("#"+this.tableComp[i].name).getAttribute("lugar")&&null!==document.querySelector("#"+this.tableComp[i].name).getAttribute("lugar")){var l="";"alava"===document.querySelector("#"+this.tableComp[i].name).getAttribute("lugar")?l=1:"vizcaya"===document.querySelector("#"+this.tableComp[i].name).getAttribute("lugar")?l=2:"guipuzcoa"===document.querySelector("#"+this.tableComp[i].name).getAttribute("lugar")?l=3:"cav"===document.querySelector("#"+this.tableComp[i].name).getAttribute("lugar")&&(l=5),this.tableComp[i].setPlaceStatus(l)}else this.tableComp[i].setPlaceStatus("5");else{var c=-1;c=s[s.length-1].split("tablelug")[1],c!==-1?this.tableComp[i].setPlaceStatus(c):this.tableComp[i].setPlaceStatus("")}}},this.setTableTipoStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=["S","C"],i=n.filter(function(e){if(e.id===a)return e}),r=0;r<this.tableComp.length;r++){var s=this.tableComp[r].id;if(b=i[0].capabilities.componentsStatus.filter(function(e){if(e.compId===s)return e}),b[0].customCmd.indexOf("tabletipoS")===-1&&b[0].customCmd.indexOf("tabletipoC")===-1)this.tableComp[r].setTipoStatus(document.querySelector("#"+this.tableComp[r].name).getAttribute("tipoEleccion"));else{for(var l=-1,c=0;c<o.length;c++)b[0].customCmd.lastIndexOf("tabletipo"+o[c])>l&&(l=b[0].customCmd.lastIndexOf("tabletipo"+o[c]));l!==-1?this.tableComp[r].setTipoStatus(b[0].customCmd[l].split("tabletipo")[1]):this.tableComp[r].setTipoStatus("")}}},this.setGraphsViewStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.graphComps.length;i++){var r=this.graphComps[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e}),b[0].show===!0?this.graphComps[i].setViewStatus(!0):this.graphComps[i].setViewStatus(!1)}},this.setPieViewStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.pieComp.length;i++){var r=this.pieComp[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e}),b[0].show===!0?this.pieComp[i].setViewStatus(!0):this.pieComp[i].setViewStatus(!1)}},this.setPieTipoStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=["S","C"],i=n.filter(function(e){if(e.id===a)return e}),r=0;r<this.pieComp.length;r++){var s=this.pieComp[r].id;if(b=i[0].capabilities.componentsStatus.filter(function(e){if(e.compId===s)return e}),b[0].customCmd.indexOf("pietipoS")===-1&&b[0].customCmd.indexOf("pietipoC")===-1)this.pieComp[r].setTipoStatus(document.querySelector("#"+this.pieComp[r].name).getAttribute("tipoEleccion"));else{for(var l=-1,c=0;c<o.length;c++)b[0].customCmd.lastIndexOf("pietipo"+o[c])>l&&(l=b[0].customCmd.lastIndexOf("pietipo"+o[c]));l!==-1?this.pieComp[r].setTipoStatus(b[0].customCmd[l].split("pietipo")[1]):this.pieComp[r].setTipoStatus("")}}},this.setPiePlaceStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.pieComp.length;i++){var r=this.pieComp[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e});var s=_.filter(b[0].customCmd,function(e){return e.indexOf("pielug")!==-1});if(0===s.length)if(void 0!==document.querySelector("#"+this.pieComp[i].name).getAttribute("lugar")&&null!==document.querySelector("#"+this.pieComp[i].name).getAttribute("lugar")){var l="";"alava"===document.querySelector("#"+this.pieComp[i].name).getAttribute("lugar")?l=1:"vizcaya"===document.querySelector("#"+this.pieComp[i].name).getAttribute("lugar")?l=2:"guipuzcoa"===document.querySelector("#"+this.pieComp[i].name).getAttribute("lugar")?l=3:"cav"===document.querySelector("#"+this.pieComp[i].name).getAttribute("lugar")&&(l=5),this.pieComp[i].setLugarStatus(l)}else this.pieComp[i].setLugarStatus("5");else{var c=-1;c=s[s.length-1].split("pielug")[1],c!==-1?this.pieComp[i].setLugarStatus(c):this.pieComp[i].setLugarStatus("")}}},this.setPartyMapTipoStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=["S","C"],i=n.filter(function(e){if(e.id===a)return e}),r=0;r<this.partyMapComp.length;r++){var s=this.partyMapComp[r].id;if(b=i[0].capabilities.componentsStatus.filter(function(e){if(e.compId===s)return e}),b[0].customCmd.indexOf("maptipoS")===-1&&b[0].customCmd.indexOf("maptipoC")===-1)this.partyMapComp[r].setTipoStatus(document.querySelector("#"+this.partyMapComp[r].name).getAttribute("tipoEleccion"));else{for(var l=-1,c=0;c<o.length;c++)b[0].customCmd.lastIndexOf("maptipo"+o[c])>l&&(l=b[0].customCmd.lastIndexOf("maptipo"+o[c]));l!==-1?this.partyMapComp[r].setTipoStatus(b[0].customCmd[l].split("maptipo")[1]):this.partyMapComp[r].setTipoStatus("")}}},this.setPartyMapViewStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.partyMapComp.length;i++){var r=this.partyMapComp[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e}),b[0].show===!0?this.partyMapComp[i].setViewStatus(!0):this.partyMapComp[i].setViewStatus(!1)}},this.setPartyMapLugarStatus=function(e){for(var t=mediascape.AdaptationToolkit.Adaptation.multiDeviceAdaptation.getLocalContext(),n=t.agents,a=e,o=n.filter(function(e){if(e.id===a)return e}),i=0;i<this.partyMapComp.length;i++){var r=this.partyMapComp[i].id;b=o[0].capabilities.componentsStatus.filter(function(e){if(e.compId===r)return e});var s=_.filter(b[0].customCmd,function(e){return e.indexOf("lugar")!==-1});if(0===s.length)if(void 0!==document.querySelector("#"+this.partyMapComp[i].name).getAttribute("lugar")&&null!==document.querySelector("#"+this.partyMapComp[i].name).getAttribute("lugar")){var l="";"alava"===document.querySelector("#"+this.partyMapComp[i].name).getAttribute("lugar")?l=1:"vizcaya"===document.querySelector("#"+this.partyMapComp[i].name).getAttribute("lugar")?l=2:"guipuzcoa"===document.querySelector("#"+this.partyMapComp[i].name).getAttribute("lugar")?l=3:"cav"===document.querySelector("#"+this.partyMapComp[i].name).getAttribute("lugar")&&(l=5),this.partyMapComp[i].setLugarStatus(l)}else this.partyMapComp[i].setLugarStatus("5");else{var c=-1;c=s[s.length-1].split("lugar")[1],c!==-1?this.partyMapComp[i].setLugarStatus(c):this.partyMapComp[i].setLugarStatus("")}}}};window.ControlPanel=n}),function e(){if("undefined"==typeof define){var t=document.createElement("script");
return t.onload=function(){e()},t.src="../resources/libs/require.js",void document.head.appendChild(t)}require.config({baseUrl:"/js/",shim:{socketio:{exports:"io"},bootstrap:{deps:["jquery"]},bootstrap_swicth:{deps:["jquery","bootstrap"]}},paths:{promise:"mediascape/AdaptationToolkit/utils/hbbtvLibs/promise.min",domReady:"/resources/libs/domReady",webcomponentsHbbtv:"mediascape/AdaptationToolkit/utils/hbbtvAdapter",webcomponents_lite:"http://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.20/webcomponents-lite.min",webcomponentsmin:"http://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.20/webcomponents.min",hbbtvapp:"mediascape/AdaptationToolkit/utils/hbbtvLibs/hbbtvapp",keycodes:"mediascape/AdaptationToolkit/utils/hbbtvLibs/keycodes",underscore:"../resources/libs/underscore-min",namedwebsockets:"mediascape/lib/namedwebsockets",jquery:"http://code.jquery.com/jquery-2.1.4.min",msv:"http://www.mcorp.no/lib/msv-2.0",mcorp:"http://www.mcorp.no/lib/mcorp-2.0",mediaSync:"mediascape/MediaSync/mediasync",qrcode:"mediascape/lib/qrcode.min",qrcodelib:"../resources/libs/qrcodelib",webcodecam:"../resources/libs/WebCodeCam.min",socketio:"/socket.io/socket.io","socket.io":"http://donostian.eus:8082/socket.io/socket.io",ui:"../resources/libs/jquery-ui",shake:"../resources/libs/shake",association:"/resources/association/association",domReady:"/resources/libs/domReady",swiper:"http://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.0/js/swiper.min",coords2:"/resources/libs/coords2",tags:"/resources/libs/tags",configPanel:"../resources/configPanel/configPanel",loadingPanel:"../resources/libs/loadingPanel",classifie:"../resources/configPanel/js/classie",debugger:"http://donostian.eus:8082/console.io",bootstrap:"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min",bootstrap_swicth:"http://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.2/js/bootstrap-switch.min",webcomponetsPolyfill:"http://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.17/webcomponents-lite.min"},waitSeconds:25}),define("mediascape",["mediascape/AdaptationToolkit/AdaptationToolkit","mediascape/Discovery/discovery","mediascape/Sharedstate/sharedstate","mediascape/Mappingservice/mappingservice","mediascape/Agentcontext/agentcontext","mediascape/Applicationcontext/applicationcontext","mediascape/DiscoveryForAgentContext/discoveryforagentcontext","mediascape/DeviceProfile/deviceProfile","association","mediascape/MediaSync/mediasync"],function(){var e={},t=Array.prototype.slice.apply(arguments);if(e.init=function(n){try{mediascapeOptions={},_this=Object.create(e);for(var a=["sharedState","mappingService","applicationContext","mediaSync"],o=0;o<t.length;++o){var i=t[o].__moduleName;a.indexOf(i)===-1?e[i]=new t[o](e,"gq"+o,e):e[i]=t[o]}var r=new CustomEvent("mediascape-modules-ready",{detail:{loaded:!0}});document.dispatchEvent(r)}catch(e){console.log(e)}return _this},e.version="0.0.1",window.ms){var n=window.mediascape.__waiting;delete window.mediascape,n&&e.init.apply(this,n)}return window.mediascape=e,e}),require(["promise","webcomponentsHbbtv","mediascape","configPanel","swiper","domReady"],function(e,t,n,a,o,i){console.log("mediascape require"),i(function(){n.init()},function(e){console.log("ERROR RQUIRE")})})}(),define("mediascape.js",function(){}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode.removeChild(this)});var loadingPanel=function(e,t,n){var a=document.createElement("div");a.id="loadingPanel",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width="100%",a.style.height="100%",a.style.zIndex="10001",a.style.background="black";var o=document.createElement("img");o.id="loaderimg",o.src=e,o.style.position="absolute",o.style.top="25%",o.style.left="25%",o.style.width="50%",o.style.animationDelay="0s",a.appendChild(o),o.addEventListener("click",function(){mediascape.AdaptationToolkit.uiComponents.toggleFullScreen()}),document.body.appendChild(a),navigator.userAgent.toLowerCase().indexOf("hbbtv")!=-1&&(t*=3),setTimeout(function(e){var t=document.querySelector("#loadingPanel");document.body.removeChild(t)},1e3*t)};document.addEventListener("keydown",function(e){13==e.keyCode&&mediascape.AdaptationToolkit.uiComponents.toggleFullScreen()},!1),define("loadingPanel",function(){});